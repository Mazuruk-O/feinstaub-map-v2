!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=61)}([function(t,e){t.exports={center:[0,0],zoom:2,minZoom:2,maxZoom:16,selection:"PM25",tiles_server:"https://{s}.maps.sensor.community",tiles_path:"/{z}/{x}/{y}.png",tiles_subdomains:["osmc1","osmc2","osmc3"],attribution:"Map data © <a href='https://openstreetmap.org'>OpenStreetMap</a> contributors"}},function(t,e,n){(function(t,i){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var r="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",h="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Function]",p="[object GeneratorFunction]",_="[object Map]",m="[object Number]",v="[object Object]",g="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",x="[object WeakMap]",L="[object ArrayBuffer]",P="[object DataView]",M="[object Float32Array]",T="[object Float64Array]",k="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",z="[object Uint8Array]",C="[object Uint16Array]",E="[object Uint32Array]",I=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,j=RegExp(D.source),N=RegExp(Z.source),R=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V=/[\\^$.*+?()[\]{}|]/g,G=RegExp(V.source),Y=/^\s+|\s+$/g,K=/^\s+/,Q=/\s+$/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,it=/\w*$/,ot=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ht=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="[\\ud800-\\udfff]",_t="["+dt+"]",mt="["+ft+"]",vt="\\d+",gt="[\\u2700-\\u27bf]",yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+dt+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",xt="[^\\ud800-\\udfff]",Lt="(?:\\ud83c[\\udde6-\\uddff]){2}",Pt="[\\ud800-\\udbff][\\udc00-\\udfff]",Mt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Tt="(?:"+yt+"|"+bt+")",kt="(?:"+Mt+"|"+bt+")",St="(?:"+mt+"|"+wt+")"+"?",At="[\\ufe0e\\ufe0f]?"+St+("(?:\\u200d(?:"+[xt,Lt,Pt].join("|")+")[\\ufe0e\\ufe0f]?"+St+")*"),zt="(?:"+[gt,Lt,Pt].join("|")+")"+At,Ct="(?:"+[xt+mt+"?",mt,Lt,Pt,pt].join("|")+")",Et=RegExp("['’]","g"),It=RegExp(mt,"g"),Ot=RegExp(wt+"(?="+wt+")|"+Ct+At,"g"),Bt=RegExp([Mt+"?"+yt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[_t,Mt,"$"].join("|")+")",kt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[_t,Mt+Tt,"$"].join("|")+")",Mt+"?"+Tt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Mt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,zt].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff"+ft+"\\ufe0e\\ufe0f]"),Zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nt=-1,Rt={};Rt[M]=Rt[T]=Rt[k]=Rt[S]=Rt[A]=Rt[z]=Rt["[object Uint8ClampedArray]"]=Rt[C]=Rt[E]=!0,Rt[u]=Rt[l]=Rt[L]=Rt[h]=Rt[P]=Rt[c]=Rt[f]=Rt[d]=Rt[_]=Rt[m]=Rt[v]=Rt[g]=Rt[y]=Rt[b]=Rt[x]=!1;var Ut={};Ut[u]=Ut[l]=Ut[L]=Ut[P]=Ut[h]=Ut[c]=Ut[M]=Ut[T]=Ut[k]=Ut[S]=Ut[A]=Ut[_]=Ut[m]=Ut[v]=Ut[g]=Ut[y]=Ut[b]=Ut[w]=Ut[z]=Ut["[object Uint8ClampedArray]"]=Ut[C]=Ut[E]=!0,Ut[f]=Ut[d]=Ut[x]=!1;var Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ft=parseFloat,Wt=parseInt,qt="object"==typeof t&&t&&t.Object===Object&&t,Vt="object"==typeof self&&self&&self.Object===Object&&self,Gt=qt||Vt||Function("return this")(),Yt=e&&!e.nodeType&&e,Kt=Yt&&"object"==typeof i&&i&&!i.nodeType&&i,Qt=Kt&&Kt.exports===Yt,$t=Qt&&qt.process,Xt=function(){try{var t=Kt&&Kt.require&&Kt.require("util").types;return t||$t&&$t.binding&&$t.binding("util")}catch(t){}}(),Jt=Xt&&Xt.isArrayBuffer,te=Xt&&Xt.isDate,ee=Xt&&Xt.isMap,ne=Xt&&Xt.isRegExp,ie=Xt&&Xt.isSet,oe=Xt&&Xt.isTypedArray;function re(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,i){for(var o=-1,r=null==t?0:t.length;++o<r;){var a=t[o];e(i,a,n(a),t)}return i}function se(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function ue(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function he(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var a=t[n];e(a,n,t)&&(r[o++]=a)}return r}function ce(t,e){return!!(null==t?0:t.length)&&we(t,e,0)>-1}function fe(t,e,n){for(var i=-1,o=null==t?0:t.length;++i<o;)if(n(e,t[i]))return!0;return!1}function de(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}function pe(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}function _e(t,e,n,i){var o=-1,r=null==t?0:t.length;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}function me(t,e,n,i){var o=null==t?0:t.length;for(i&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function ve(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var ge=Me("length");function ye(t,e,n){var i;return n(t,(function(t,n,o){if(e(t,n,o))return i=n,!1})),i}function be(t,e,n,i){for(var o=t.length,r=n+(i?1:-1);i?r--:++r<o;)if(e(t[r],r,t))return r;return-1}function we(t,e,n){return e==e?function(t,e,n){var i=n-1,o=t.length;for(;++i<o;)if(t[i]===e)return i;return-1}(t,e,n):be(t,Le,n)}function xe(t,e,n,i){for(var o=n-1,r=t.length;++o<r;)if(i(t[o],e))return o;return-1}function Le(t){return t!=t}function Pe(t,e){var n=null==t?0:t.length;return n?Se(t,e)/n:NaN}function Me(t){return function(e){return null==e?void 0:e[t]}}function Te(t){return function(e){return null==t?void 0:t[e]}}function ke(t,e,n,i,o){return o(t,(function(t,o,r){n=i?(i=!1,t):e(n,t,o,r)})),n}function Se(t,e){for(var n,i=-1,o=t.length;++i<o;){var r=e(t[i]);void 0!==r&&(n=void 0===n?r:n+r)}return n}function Ae(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function ze(t){return function(e){return t(e)}}function Ce(t,e){return de(e,(function(e){return t[e]}))}function Ee(t,e){return t.has(e)}function Ie(t,e){for(var n=-1,i=t.length;++n<i&&we(e,t[n],0)>-1;);return n}function Oe(t,e){for(var n=t.length;n--&&we(e,t[n],0)>-1;);return n}function Be(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var De=Te({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Ze=Te({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function je(t){return"\\"+Ht[t]}function Ne(t){return Dt.test(t)}function Re(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Ue(t,e){return function(n){return t(e(n))}}function He(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,r[o++]=n)}return r}function Fe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function We(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function qe(t){return Ne(t)?function(t){var e=Ot.lastIndex=0;for(;Ot.test(t);)++e;return e}(t):ge(t)}function Ve(t){return Ne(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.split("")}(t)}var Ge=Te({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ye=function t(e){var n,i=(e=null==e?Gt:Ye.defaults(Gt.Object(),e,Ye.pick(Gt,jt))).Array,o=e.Date,ft=e.Error,dt=e.Function,pt=e.Math,_t=e.Object,mt=e.RegExp,vt=e.String,gt=e.TypeError,yt=i.prototype,bt=dt.prototype,wt=_t.prototype,xt=e["__core-js_shared__"],Lt=bt.toString,Pt=wt.hasOwnProperty,Mt=0,Tt=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",kt=wt.toString,St=Lt.call(_t),At=Gt._,zt=mt("^"+Lt.call(Pt).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ct=Qt?e.Buffer:void 0,Ot=e.Symbol,Dt=e.Uint8Array,Ht=Ct?Ct.allocUnsafe:void 0,qt=Ue(_t.getPrototypeOf,_t),Vt=_t.create,Yt=wt.propertyIsEnumerable,Kt=yt.splice,$t=Ot?Ot.isConcatSpreadable:void 0,Xt=Ot?Ot.iterator:void 0,ge=Ot?Ot.toStringTag:void 0,Te=function(){try{var t=tr(_t,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ke=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,Qe=o&&o.now!==Gt.Date.now&&o.now,$e=e.setTimeout!==Gt.setTimeout&&e.setTimeout,Xe=pt.ceil,Je=pt.floor,tn=_t.getOwnPropertySymbols,en=Ct?Ct.isBuffer:void 0,nn=e.isFinite,on=yt.join,rn=Ue(_t.keys,_t),an=pt.max,sn=pt.min,un=o.now,ln=e.parseInt,hn=pt.random,cn=yt.reverse,fn=tr(e,"DataView"),dn=tr(e,"Map"),pn=tr(e,"Promise"),_n=tr(e,"Set"),mn=tr(e,"WeakMap"),vn=tr(_t,"create"),gn=mn&&new mn,yn={},bn=kr(fn),wn=kr(dn),xn=kr(pn),Ln=kr(_n),Pn=kr(mn),Mn=Ot?Ot.prototype:void 0,Tn=Mn?Mn.valueOf:void 0,kn=Mn?Mn.toString:void 0;function Sn(t){if(Wa(t)&&!Ia(t)&&!(t instanceof En)){if(t instanceof Cn)return t;if(Pt.call(t,"__wrapped__"))return Sr(t)}return new Cn(t)}var An=function(){function t(){}return function(e){if(!Fa(e))return{};if(Vt)return Vt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function zn(){}function Cn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function En(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function On(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Bn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Bn;++e<n;)this.add(t[e])}function Zn(t){var e=this.__data__=new On(t);this.size=e.size}function jn(t,e){var n=Ia(t),i=!n&&Ea(t),o=!n&&!i&&Za(t),r=!n&&!i&&!o&&Xa(t),a=n||i||o||r,s=a?Ae(t.length,vt):[],u=s.length;for(var l in t)!e&&!Pt.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||sr(l,u))||s.push(l);return s}function Nn(t){var e=t.length;return e?t[Di(0,e-1)]:void 0}function Rn(t,e){return Pr(go(t),Kn(e,0,t.length))}function Un(t){return Pr(go(t))}function Hn(t,e,n){(void 0!==n&&!Aa(t[e],n)||void 0===n&&!(e in t))&&Gn(t,e,n)}function Fn(t,e,n){var i=t[e];Pt.call(t,e)&&Aa(i,n)&&(void 0!==n||e in t)||Gn(t,e,n)}function Wn(t,e){for(var n=t.length;n--;)if(Aa(t[n][0],e))return n;return-1}function qn(t,e,n,i){return ti(t,(function(t,o,r){e(i,t,n(t),r)})),i}function Vn(t,e){return t&&yo(e,bs(e),t)}function Gn(t,e,n){"__proto__"==e&&Te?Te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var n=-1,o=e.length,r=i(o),a=null==t;++n<o;)r[n]=a?void 0:_s(t,e[n]);return r}function Kn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Qn(t,e,n,i,o,r){var a,s=1&e,l=2&e,f=4&e;if(n&&(a=o?n(t,i,o,r):n(t)),void 0!==a)return a;if(!Fa(t))return t;var x=Ia(t);if(x){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return go(t,a)}else{var I=ir(t),O=I==d||I==p;if(Za(t))return co(t,s);if(I==v||I==u||O&&!o){if(a=l||O?{}:rr(t),!s)return l?function(t,e){return yo(t,nr(t),e)}(t,function(t,e){return t&&yo(e,ws(e),t)}(a,t)):function(t,e){return yo(t,er(t),e)}(t,Vn(a,t))}else{if(!Ut[I])return o?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case L:return fo(t);case h:case c:return new i(+t);case P:return function(t,e){var n=e?fo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case M:case T:case k:case S:case A:case z:case"[object Uint8ClampedArray]":case C:case E:return po(t,n);case _:return new i;case m:case b:return new i(t);case g:return function(t){var e=new t.constructor(t.source,it.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new i;case w:return o=t,Tn?_t(Tn.call(o)):{}}var o}(t,I,s)}}r||(r=new Zn);var B=r.get(t);if(B)return B;r.set(t,a),Ka(t)?t.forEach((function(i){a.add(Qn(i,e,n,i,t,r))})):qa(t)&&t.forEach((function(i,o){a.set(o,Qn(i,e,n,o,t,r))}));var D=x?void 0:(f?l?Go:Vo:l?ws:bs)(t);return se(D||t,(function(i,o){D&&(i=t[o=i]),Fn(a,o,Qn(i,e,n,o,t,r))})),a}function $n(t,e,n){var i=n.length;if(null==t)return!i;for(t=_t(t);i--;){var o=n[i],r=e[o],a=t[o];if(void 0===a&&!(o in t)||!r(a))return!1}return!0}function Xn(t,e,n){if("function"!=typeof t)throw new gt(r);return br((function(){t.apply(void 0,n)}),e)}function Jn(t,e,n,i){var o=-1,r=ce,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=de(e,ze(n))),i?(r=fe,a=!1):e.length>=200&&(r=Ee,a=!1,e=new Dn(e));t:for(;++o<s;){var h=t[o],c=null==n?h:n(h);if(h=i||0!==h?h:0,a&&c==c){for(var f=l;f--;)if(e[f]===c)continue t;u.push(h)}else r(e,c,i)||u.push(h)}return u}Sn.templateSettings={escape:R,evaluate:U,interpolate:H,variable:"",imports:{_:Sn}},Sn.prototype=zn.prototype,Sn.prototype.constructor=Sn,Cn.prototype=An(zn.prototype),Cn.prototype.constructor=Cn,En.prototype=An(zn.prototype),En.prototype.constructor=En,In.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},In.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},In.prototype.get=function(t){var e=this.__data__;if(vn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Pt.call(e,t)?e[t]:void 0},In.prototype.has=function(t){var e=this.__data__;return vn?void 0!==e[t]:Pt.call(e,t)},In.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vn&&void 0===e?"__lodash_hash_undefined__":e,this},On.prototype.clear=function(){this.__data__=[],this.size=0},On.prototype.delete=function(t){var e=this.__data__,n=Wn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},On.prototype.get=function(t){var e=this.__data__,n=Wn(e,t);return n<0?void 0:e[n][1]},On.prototype.has=function(t){return Wn(this.__data__,t)>-1},On.prototype.set=function(t,e){var n=this.__data__,i=Wn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Bn.prototype.clear=function(){this.size=0,this.__data__={hash:new In,map:new(dn||On),string:new In}},Bn.prototype.delete=function(t){var e=Xo(this,t).delete(t);return this.size-=e?1:0,e},Bn.prototype.get=function(t){return Xo(this,t).get(t)},Bn.prototype.has=function(t){return Xo(this,t).has(t)},Bn.prototype.set=function(t,e){var n=Xo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Dn.prototype.add=Dn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Dn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.clear=function(){this.__data__=new On,this.size=0},Zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Zn.prototype.get=function(t){return this.__data__.get(t)},Zn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof On){var i=n.__data__;if(!dn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Bn(i)}return n.set(t,e),this.size=n.size,this};var ti=xo(ui),ei=xo(li,!0);function ni(t,e){var n=!0;return ti(t,(function(t,i,o){return n=!!e(t,i,o)})),n}function ii(t,e,n){for(var i=-1,o=t.length;++i<o;){var r=t[i],a=e(r);if(null!=a&&(void 0===s?a==a&&!$a(a):n(a,s)))var s=a,u=r}return u}function oi(t,e){var n=[];return ti(t,(function(t,i,o){e(t,i,o)&&n.push(t)})),n}function ri(t,e,n,i,o){var r=-1,a=t.length;for(n||(n=ar),o||(o=[]);++r<a;){var s=t[r];e>0&&n(s)?e>1?ri(s,e-1,n,i,o):pe(o,s):i||(o[o.length]=s)}return o}var ai=Lo(),si=Lo(!0);function ui(t,e){return t&&ai(t,e,bs)}function li(t,e){return t&&si(t,e,bs)}function hi(t,e){return he(e,(function(e){return Ra(t[e])}))}function ci(t,e){for(var n=0,i=(e=so(e,t)).length;null!=t&&n<i;)t=t[Tr(e[n++])];return n&&n==i?t:void 0}function fi(t,e,n){var i=e(t);return Ia(t)?i:pe(i,n(t))}function di(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ge&&ge in _t(t)?function(t){var e=Pt.call(t,ge),n=t[ge];try{t[ge]=void 0;var i=!0}catch(t){}var o=kt.call(t);i&&(e?t[ge]=n:delete t[ge]);return o}(t):function(t){return kt.call(t)}(t)}function pi(t,e){return t>e}function _i(t,e){return null!=t&&Pt.call(t,e)}function mi(t,e){return null!=t&&e in _t(t)}function vi(t,e,n){for(var o=n?fe:ce,r=t[0].length,a=t.length,s=a,u=i(a),l=1/0,h=[];s--;){var c=t[s];s&&e&&(c=de(c,ze(e))),l=sn(c.length,l),u[s]=!n&&(e||r>=120&&c.length>=120)?new Dn(s&&c):void 0}c=t[0];var f=-1,d=u[0];t:for(;++f<r&&h.length<l;){var p=c[f],_=e?e(p):p;if(p=n||0!==p?p:0,!(d?Ee(d,_):o(h,_,n))){for(s=a;--s;){var m=u[s];if(!(m?Ee(m,_):o(t[s],_,n)))continue t}d&&d.push(_),h.push(p)}}return h}function gi(t,e,n){var i=null==(t=mr(t,e=so(e,t)))?t:t[Tr(Nr(e))];return null==i?void 0:re(i,t,n)}function yi(t){return Wa(t)&&di(t)==u}function bi(t,e,n,i,o){return t===e||(null==t||null==e||!Wa(t)&&!Wa(e)?t!=t&&e!=e:function(t,e,n,i,o,r){var a=Ia(t),s=Ia(e),d=a?l:ir(t),p=s?l:ir(e),x=(d=d==u?v:d)==v,M=(p=p==u?v:p)==v,T=d==p;if(T&&Za(t)){if(!Za(e))return!1;a=!0,x=!1}if(T&&!x)return r||(r=new Zn),a||Xa(t)?Wo(t,e,n,i,o,r):function(t,e,n,i,o,r,a){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L:return!(t.byteLength!=e.byteLength||!r(new Dt(t),new Dt(e)));case h:case c:case m:return Aa(+t,+e);case f:return t.name==e.name&&t.message==e.message;case g:case b:return t==e+"";case _:var s=Re;case y:var u=1&i;if(s||(s=Fe),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var d=Wo(s(t),s(e),i,o,r,a);return a.delete(t),d;case w:if(Tn)return Tn.call(t)==Tn.call(e)}return!1}(t,e,d,n,i,o,r);if(!(1&n)){var k=x&&Pt.call(t,"__wrapped__"),S=M&&Pt.call(e,"__wrapped__");if(k||S){var A=k?t.value():t,z=S?e.value():e;return r||(r=new Zn),o(A,z,n,i,r)}}if(!T)return!1;return r||(r=new Zn),function(t,e,n,i,o,r){var a=1&n,s=Vo(t),u=s.length,l=Vo(e).length;if(u!=l&&!a)return!1;var h=u;for(;h--;){var c=s[h];if(!(a?c in e:Pt.call(e,c)))return!1}var f=r.get(t);if(f&&r.get(e))return f==e;var d=!0;r.set(t,e),r.set(e,t);var p=a;for(;++h<u;){c=s[h];var _=t[c],m=e[c];if(i)var v=a?i(m,_,c,e,t,r):i(_,m,c,t,e,r);if(!(void 0===v?_===m||o(_,m,n,i,r):v)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var g=t.constructor,y=e.constructor;g==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(d=!1)}return r.delete(t),r.delete(e),d}(t,e,n,i,o,r)}(t,e,n,i,bi,o))}function wi(t,e,n,i){var o=n.length,r=o,a=!i;if(null==t)return!r;for(t=_t(t);o--;){var s=n[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<r;){var u=(s=n[o])[0],l=t[u],h=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var c=new Zn;if(i)var f=i(l,h,u,t,e,c);if(!(void 0===f?bi(h,l,3,i,c):f))return!1}}return!0}function xi(t){return!(!Fa(t)||(e=t,Tt&&Tt in e))&&(Ra(t)?zt:at).test(kr(t));var e}function Li(t){return"function"==typeof t?t:null==t?Vs:"object"==typeof t?Ia(t)?Ai(t[0],t[1]):Si(t):eu(t)}function Pi(t){if(!fr(t))return rn(t);var e=[];for(var n in _t(t))Pt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Mi(t){if(!Fa(t))return function(t){var e=[];if(null!=t)for(var n in _t(t))e.push(n);return e}(t);var e=fr(t),n=[];for(var i in t)("constructor"!=i||!e&&Pt.call(t,i))&&n.push(i);return n}function Ti(t,e){return t<e}function ki(t,e){var n=-1,o=Ba(t)?i(t.length):[];return ti(t,(function(t,i,r){o[++n]=e(t,i,r)})),o}function Si(t){var e=Jo(t);return 1==e.length&&e[0][2]?pr(e[0][0],e[0][1]):function(n){return n===t||wi(n,t,e)}}function Ai(t,e){return lr(t)&&dr(e)?pr(Tr(t),e):function(n){var i=_s(n,t);return void 0===i&&i===e?ms(n,t):bi(e,i,3)}}function zi(t,e,n,i,o){t!==e&&ai(e,(function(r,a){if(o||(o=new Zn),Fa(r))!function(t,e,n,i,o,r,a){var s=gr(t,n),u=gr(e,n),l=a.get(u);if(l)return void Hn(t,n,l);var h=r?r(s,u,n+"",t,e,a):void 0,c=void 0===h;if(c){var f=Ia(u),d=!f&&Za(u),p=!f&&!d&&Xa(u);h=u,f||d||p?Ia(s)?h=s:Da(s)?h=go(s):d?(c=!1,h=co(u,!0)):p?(c=!1,h=po(u,!0)):h=[]:Ga(u)||Ea(u)?(h=s,Ea(s)?h=as(s):Fa(s)&&!Ra(s)||(h=rr(u))):c=!1}c&&(a.set(u,h),o(h,u,i,r,a),a.delete(u));Hn(t,n,h)}(t,e,a,n,zi,i,o);else{var s=i?i(gr(t,a),r,a+"",t,e,o):void 0;void 0===s&&(s=r),Hn(t,a,s)}}),ws)}function Ci(t,e){var n=t.length;if(n)return sr(e+=e<0?n:0,n)?t[e]:void 0}function Ei(t,e,n){var i=-1;return e=de(e.length?e:[Vs],ze($o())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(ki(t,(function(t,n,o){return{criteria:de(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){var i=-1,o=t.criteria,r=e.criteria,a=o.length,s=n.length;for(;++i<a;){var u=_o(o[i],r[i]);if(u){if(i>=s)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Ii(t,e,n){for(var i=-1,o=e.length,r={};++i<o;){var a=e[i],s=ci(t,a);n(s,a)&&Ui(r,so(a,t),s)}return r}function Oi(t,e,n,i){var o=i?xe:we,r=-1,a=e.length,s=t;for(t===e&&(e=go(e)),n&&(s=de(t,ze(n)));++r<a;)for(var u=0,l=e[r],h=n?n(l):l;(u=o(s,h,u,i))>-1;)s!==t&&Kt.call(s,u,1),Kt.call(t,u,1);return t}function Bi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var o=e[n];if(n==i||o!==r){var r=o;sr(o)?Kt.call(t,o,1):Ji(t,o)}}return t}function Di(t,e){return t+Je(hn()*(e-t+1))}function Zi(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Je(e/2))&&(t+=t)}while(e);return n}function ji(t,e){return wr(_r(t,e,Vs),t+"")}function Ni(t){return Nn(As(t))}function Ri(t,e){var n=As(t);return Pr(n,Kn(e,0,n.length))}function Ui(t,e,n,i){if(!Fa(t))return t;for(var o=-1,r=(e=so(e,t)).length,a=r-1,s=t;null!=s&&++o<r;){var u=Tr(e[o]),l=n;if(o!=a){var h=s[u];void 0===(l=i?i(h,u,s):void 0)&&(l=Fa(h)?h:sr(e[o+1])?[]:{})}Fn(s,u,l),s=s[u]}return t}var Hi=gn?function(t,e){return gn.set(t,e),t}:Vs,Fi=Te?function(t,e){return Te(t,"toString",{configurable:!0,enumerable:!1,value:Fs(e),writable:!0})}:Vs;function Wi(t){return Pr(As(t))}function qi(t,e,n){var o=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var a=i(r);++o<r;)a[o]=t[o+e];return a}function Vi(t,e){var n;return ti(t,(function(t,i,o){return!(n=e(t,i,o))})),!!n}function Gi(t,e,n){var i=0,o=null==t?i:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;i<o;){var r=i+o>>>1,a=t[r];null!==a&&!$a(a)&&(n?a<=e:a<e)?i=r+1:o=r}return o}return Yi(t,e,Vs,n)}function Yi(t,e,n,i){e=n(e);for(var o=0,r=null==t?0:t.length,a=e!=e,s=null===e,u=$a(e),l=void 0===e;o<r;){var h=Je((o+r)/2),c=n(t[h]),f=void 0!==c,d=null===c,p=c==c,_=$a(c);if(a)var m=i||p;else m=l?p&&(i||f):s?p&&f&&(i||!d):u?p&&f&&!d&&(i||!_):!d&&!_&&(i?c<=e:c<e);m?o=h+1:r=h}return sn(r,4294967294)}function Ki(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Aa(s,u)){var u=s;r[o++]=0===a?0:a}}return r}function Qi(t){return"number"==typeof t?t:$a(t)?NaN:+t}function $i(t){if("string"==typeof t)return t;if(Ia(t))return de(t,$i)+"";if($a(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Xi(t,e,n){var i=-1,o=ce,r=t.length,a=!0,s=[],u=s;if(n)a=!1,o=fe;else if(r>=200){var l=e?null:jo(t);if(l)return Fe(l);a=!1,o=Ee,u=new Dn}else u=e?[]:s;t:for(;++i<r;){var h=t[i],c=e?e(h):h;if(h=n||0!==h?h:0,a&&c==c){for(var f=u.length;f--;)if(u[f]===c)continue t;e&&u.push(c),s.push(h)}else o(u,c,n)||(u!==s&&u.push(c),s.push(h))}return s}function Ji(t,e){return null==(t=mr(t,e=so(e,t)))||delete t[Tr(Nr(e))]}function to(t,e,n,i){return Ui(t,e,n(ci(t,e)),i)}function eo(t,e,n,i){for(var o=t.length,r=i?o:-1;(i?r--:++r<o)&&e(t[r],r,t););return n?qi(t,i?0:r,i?r+1:o):qi(t,i?r+1:0,i?o:r)}function no(t,e){var n=t;return n instanceof En&&(n=n.value()),_e(e,(function(t,e){return e.func.apply(e.thisArg,pe([t],e.args))}),n)}function io(t,e,n){var o=t.length;if(o<2)return o?Xi(t[0]):[];for(var r=-1,a=i(o);++r<o;)for(var s=t[r],u=-1;++u<o;)u!=r&&(a[r]=Jn(a[r]||s,t[u],e,n));return Xi(ri(a,1),e,n)}function oo(t,e,n){for(var i=-1,o=t.length,r=e.length,a={};++i<o;){var s=i<r?e[i]:void 0;n(a,t[i],s)}return a}function ro(t){return Da(t)?t:[]}function ao(t){return"function"==typeof t?t:Vs}function so(t,e){return Ia(t)?t:lr(t,e)?[t]:Mr(ss(t))}var uo=ji;function lo(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:qi(t,e,n)}var ho=Ke||function(t){return Gt.clearTimeout(t)};function co(t,e){if(e)return t.slice();var n=t.length,i=Ht?Ht(n):new t.constructor(n);return t.copy(i),i}function fo(t){var e=new t.constructor(t.byteLength);return new Dt(e).set(new Dt(t)),e}function po(t,e){var n=e?fo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function _o(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,r=$a(t),a=void 0!==e,s=null===e,u=e==e,l=$a(e);if(!s&&!l&&!r&&t>e||r&&a&&u&&!s&&!l||i&&a&&u||!n&&u||!o)return 1;if(!i&&!r&&!l&&t<e||l&&n&&o&&!i&&!r||s&&n&&o||!a&&o||!u)return-1}return 0}function mo(t,e,n,o){for(var r=-1,a=t.length,s=n.length,u=-1,l=e.length,h=an(a-s,0),c=i(l+h),f=!o;++u<l;)c[u]=e[u];for(;++r<s;)(f||r<a)&&(c[n[r]]=t[r]);for(;h--;)c[u++]=t[r++];return c}function vo(t,e,n,o){for(var r=-1,a=t.length,s=-1,u=n.length,l=-1,h=e.length,c=an(a-u,0),f=i(c+h),d=!o;++r<c;)f[r]=t[r];for(var p=r;++l<h;)f[p+l]=e[l];for(;++s<u;)(d||r<a)&&(f[p+n[s]]=t[r++]);return f}function go(t,e){var n=-1,o=t.length;for(e||(e=i(o));++n<o;)e[n]=t[n];return e}function yo(t,e,n,i){var o=!n;n||(n={});for(var r=-1,a=e.length;++r<a;){var s=e[r],u=i?i(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),o?Gn(n,s,u):Fn(n,s,u)}return n}function bo(t,e){return function(n,i){var o=Ia(n)?ae:qn,r=e?e():{};return o(n,t,$o(i,2),r)}}function wo(t){return ji((function(e,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(r=t.length>3&&"function"==typeof r?(o--,r):void 0,a&&ur(n[0],n[1],a)&&(r=o<3?void 0:r,o=1),e=_t(e);++i<o;){var s=n[i];s&&t(e,s,i,r)}return e}))}function xo(t,e){return function(n,i){if(null==n)return n;if(!Ba(n))return t(n,i);for(var o=n.length,r=e?o:-1,a=_t(n);(e?r--:++r<o)&&!1!==i(a[r],r,a););return n}}function Lo(t){return function(e,n,i){for(var o=-1,r=_t(e),a=i(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(r[u],u,r))break}return e}}function Po(t){return function(e){var n=Ne(e=ss(e))?Ve(e):void 0,i=n?n[0]:e.charAt(0),o=n?lo(n,1).join(""):e.slice(1);return i[t]()+o}}function Mo(t){return function(e){return _e(Rs(Es(e).replace(Et,"")),t,"")}}function To(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=An(t.prototype),i=t.apply(n,e);return Fa(i)?i:n}}function ko(t){return function(e,n,i){var o=_t(e);if(!Ba(e)){var r=$o(n,3);e=bs(e),n=function(t){return r(o[t],t,o)}}var a=t(e,n,i);return a>-1?o[r?e[a]:a]:void 0}}function So(t){return qo((function(e){var n=e.length,i=n,o=Cn.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new gt(r);if(o&&!s&&"wrapper"==Ko(a))var s=new Cn([],!0)}for(i=s?i:n;++i<n;){var u=Ko(a=e[i]),l="wrapper"==u?Yo(a):void 0;s=l&&hr(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Ko(l[0])].apply(s,l[3]):1==a.length&&hr(a)?s[u]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&Ia(i))return s.plant(i).value();for(var o=0,r=n?e[o].apply(this,t):i;++o<n;)r=e[o].call(this,r);return r}}))}function Ao(t,e,n,o,r,a,s,u,l,h){var c=128&e,f=1&e,d=2&e,p=24&e,_=512&e,m=d?void 0:To(t);return function v(){for(var g=arguments.length,y=i(g),b=g;b--;)y[b]=arguments[b];if(p)var w=Qo(v),x=Be(y,w);if(o&&(y=mo(y,o,r,p)),a&&(y=vo(y,a,s,p)),g-=x,p&&g<h){var L=He(y,w);return Do(t,e,Ao,v.placeholder,n,y,L,u,l,h-g)}var P=f?n:this,M=d?P[t]:t;return g=y.length,u?y=vr(y,u):_&&g>1&&y.reverse(),c&&l<g&&(y.length=l),this&&this!==Gt&&this instanceof v&&(M=m||To(M)),M.apply(P,y)}}function zo(t,e){return function(n,i){return function(t,e,n,i){return ui(t,(function(t,o,r){e(i,n(t),o,r)})),i}(n,t,e(i),{})}}function Co(t,e){return function(n,i){var o;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(o=n),void 0!==i){if(void 0===o)return i;"string"==typeof n||"string"==typeof i?(n=$i(n),i=$i(i)):(n=Qi(n),i=Qi(i)),o=t(n,i)}return o}}function Eo(t){return qo((function(e){return e=de(e,ze($o())),ji((function(n){var i=this;return t(e,(function(t){return re(t,i,n)}))}))}))}function Io(t,e){var n=(e=void 0===e?" ":$i(e)).length;if(n<2)return n?Zi(e,t):e;var i=Zi(e,Xe(t/qe(e)));return Ne(e)?lo(Ve(i),0,t).join(""):i.slice(0,t)}function Oo(t){return function(e,n,o){return o&&"number"!=typeof o&&ur(e,n,o)&&(n=o=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,o){for(var r=-1,a=an(Xe((e-t)/(n||1)),0),s=i(a);a--;)s[o?a:++r]=t,t+=n;return s}(e,n,o=void 0===o?e<n?1:-1:ns(o),t)}}function Bo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=rs(e),n=rs(n)),t(e,n)}}function Do(t,e,n,i,o,r,a,s,u,l){var h=8&e;e|=h?32:64,4&(e&=~(h?64:32))||(e&=-4);var c=[t,e,o,h?r:void 0,h?a:void 0,h?void 0:r,h?void 0:a,s,u,l],f=n.apply(void 0,c);return hr(t)&&yr(f,c),f.placeholder=i,xr(f,t,e)}function Zo(t){var e=pt[t];return function(t,n){if(t=rs(t),(n=null==n?0:sn(is(n),292))&&nn(t)){var i=(ss(t)+"e").split("e");return+((i=(ss(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var jo=_n&&1/Fe(new _n([,-0]))[1]==1/0?function(t){return new _n(t)}:$s;function No(t){return function(e){var n=ir(e);return n==_?Re(e):n==y?We(e):function(t,e){return de(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ro(t,e,n,o,s,u,l,h){var c=2&e;if(!c&&"function"!=typeof t)throw new gt(r);var f=o?o.length:0;if(f||(e&=-97,o=s=void 0),l=void 0===l?l:an(is(l),0),h=void 0===h?h:is(h),f-=s?s.length:0,64&e){var d=o,p=s;o=s=void 0}var _=c?void 0:Yo(t),m=[t,e,n,o,s,d,p,u,l,h];if(_&&function(t,e){var n=t[1],i=e[1],o=n|i,r=o<131,s=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!r&&!s)return t;1&i&&(t[2]=e[2],o|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?mo(l,u,e[4]):u,t[4]=l?He(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?vo(l,u,e[6]):u,t[6]=l?He(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&i&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(m,_),t=m[0],e=m[1],n=m[2],o=m[3],s=m[4],!(h=m[9]=void 0===m[9]?c?0:t.length:an(m[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var o=To(t);return function r(){for(var a=arguments.length,s=i(a),u=a,l=Qo(r);u--;)s[u]=arguments[u];var h=a<3&&s[0]!==l&&s[a-1]!==l?[]:He(s,l);if((a-=h.length)<n)return Do(t,e,Ao,r.placeholder,void 0,s,h,void 0,void 0,n-a);var c=this&&this!==Gt&&this instanceof r?o:t;return re(c,this,s)}}(t,e,h):32!=e&&33!=e||s.length?Ao.apply(void 0,m):function(t,e,n,o){var r=1&e,a=To(t);return function e(){for(var s=-1,u=arguments.length,l=-1,h=o.length,c=i(h+u),f=this&&this!==Gt&&this instanceof e?a:t;++l<h;)c[l]=o[l];for(;u--;)c[l++]=arguments[++s];return re(f,r?n:this,c)}}(t,e,n,o);else var v=function(t,e,n){var i=1&e,o=To(t);return function e(){var r=this&&this!==Gt&&this instanceof e?o:t;return r.apply(i?n:this,arguments)}}(t,e,n);return xr((_?Hi:yr)(v,m),t,e)}function Uo(t,e,n,i){return void 0===t||Aa(t,wt[n])&&!Pt.call(i,n)?e:t}function Ho(t,e,n,i,o,r){return Fa(t)&&Fa(e)&&(r.set(e,t),zi(t,e,void 0,Ho,r),r.delete(e)),t}function Fo(t){return Ga(t)?void 0:t}function Wo(t,e,n,i,o,r){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=r.get(t);if(l&&r.get(e))return l==e;var h=-1,c=!0,f=2&n?new Dn:void 0;for(r.set(t,e),r.set(e,t);++h<s;){var d=t[h],p=e[h];if(i)var _=a?i(p,d,h,e,t,r):i(d,p,h,t,e,r);if(void 0!==_){if(_)continue;c=!1;break}if(f){if(!ve(e,(function(t,e){if(!Ee(f,e)&&(d===t||o(d,t,n,i,r)))return f.push(e)}))){c=!1;break}}else if(d!==p&&!o(d,p,n,i,r)){c=!1;break}}return r.delete(t),r.delete(e),c}function qo(t){return wr(_r(t,void 0,Or),t+"")}function Vo(t){return fi(t,bs,er)}function Go(t){return fi(t,ws,nr)}var Yo=gn?function(t){return gn.get(t)}:$s;function Ko(t){for(var e=t.name+"",n=yn[e],i=Pt.call(yn,e)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==t)return o.name}return e}function Qo(t){return(Pt.call(Sn,"placeholder")?Sn:t).placeholder}function $o(){var t=Sn.iteratee||Gs;return t=t===Gs?Li:t,arguments.length?t(arguments[0],arguments[1]):t}function Xo(t,e){var n,i,o=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Jo(t){for(var e=bs(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,dr(o)]}return e}function tr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return xi(n)?n:void 0}var er=tn?function(t){return null==t?[]:(t=_t(t),he(tn(t),(function(e){return Yt.call(t,e)})))}:ou,nr=tn?function(t){for(var e=[];t;)pe(e,er(t)),t=qt(t);return e}:ou,ir=di;function or(t,e,n){for(var i=-1,o=(e=so(e,t)).length,r=!1;++i<o;){var a=Tr(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}return r||++i!=o?r:!!(o=null==t?0:t.length)&&Ha(o)&&sr(a,o)&&(Ia(t)||Ea(t))}function rr(t){return"function"!=typeof t.constructor||fr(t)?{}:An(qt(t))}function ar(t){return Ia(t)||Ea(t)||!!($t&&t&&t[$t])}function sr(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ut.test(t))&&t>-1&&t%1==0&&t<e}function ur(t,e,n){if(!Fa(n))return!1;var i=typeof e;return!!("number"==i?Ba(n)&&sr(e,n.length):"string"==i&&e in n)&&Aa(n[e],t)}function lr(t,e){if(Ia(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!$a(t))||(W.test(t)||!F.test(t)||null!=e&&t in _t(e))}function hr(t){var e=Ko(t),n=Sn[e];if("function"!=typeof n||!(e in En.prototype))return!1;if(t===n)return!0;var i=Yo(n);return!!i&&t===i[0]}(fn&&ir(new fn(new ArrayBuffer(1)))!=P||dn&&ir(new dn)!=_||pn&&"[object Promise]"!=ir(pn.resolve())||_n&&ir(new _n)!=y||mn&&ir(new mn)!=x)&&(ir=function(t){var e=di(t),n=e==v?t.constructor:void 0,i=n?kr(n):"";if(i)switch(i){case bn:return P;case wn:return _;case xn:return"[object Promise]";case Ln:return y;case Pn:return x}return e});var cr=xt?Ra:ru;function fr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function dr(t){return t==t&&!Fa(t)}function pr(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in _t(n)))}}function _r(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var o=arguments,r=-1,a=an(o.length-e,0),s=i(a);++r<a;)s[r]=o[e+r];r=-1;for(var u=i(e+1);++r<e;)u[r]=o[r];return u[e]=n(s),re(t,this,u)}}function mr(t,e){return e.length<2?t:ci(t,qi(e,0,-1))}function vr(t,e){for(var n=t.length,i=sn(e.length,n),o=go(t);i--;){var r=e[i];t[i]=sr(r,n)?o[r]:void 0}return t}function gr(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yr=Lr(Hi),br=$e||function(t,e){return Gt.setTimeout(t,e)},wr=Lr(Fi);function xr(t,e,n){var i=e+"";return wr(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace($,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return se(s,(function(n){var i="_."+n[0];e&n[1]&&!ce(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(X);return e?e[1].split(J):[]}(i),n)))}function Lr(t){var e=0,n=0;return function(){var i=un(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Pr(t,e){var n=-1,i=t.length,o=i-1;for(e=void 0===e?i:e;++n<e;){var r=Di(n,o),a=t[r];t[r]=t[n],t[n]=a}return t.length=e,t}var Mr=function(t){var e=La(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(q,(function(t,n,i,o){e.push(i?o.replace(et,"$1"):n||t)})),e}));function Tr(t){if("string"==typeof t||$a(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function kr(t){if(null!=t){try{return Lt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Sr(t){if(t instanceof En)return t.clone();var e=new Cn(t.__wrapped__,t.__chain__);return e.__actions__=go(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ar=ji((function(t,e){return Da(t)?Jn(t,ri(e,1,Da,!0)):[]})),zr=ji((function(t,e){var n=Nr(e);return Da(n)&&(n=void 0),Da(t)?Jn(t,ri(e,1,Da,!0),$o(n,2)):[]})),Cr=ji((function(t,e){var n=Nr(e);return Da(n)&&(n=void 0),Da(t)?Jn(t,ri(e,1,Da,!0),void 0,n):[]}));function Er(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:is(n);return o<0&&(o=an(i+o,0)),be(t,$o(e,3),o)}function Ir(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return void 0!==n&&(o=is(n),o=n<0?an(i+o,0):sn(o,i-1)),be(t,$o(e,3),o,!0)}function Or(t){return(null==t?0:t.length)?ri(t,1):[]}function Br(t){return t&&t.length?t[0]:void 0}var Dr=ji((function(t){var e=de(t,ro);return e.length&&e[0]===t[0]?vi(e):[]})),Zr=ji((function(t){var e=Nr(t),n=de(t,ro);return e===Nr(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?vi(n,$o(e,2)):[]})),jr=ji((function(t){var e=Nr(t),n=de(t,ro);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?vi(n,void 0,e):[]}));function Nr(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Rr=ji(Ur);function Ur(t,e){return t&&t.length&&e&&e.length?Oi(t,e):t}var Hr=qo((function(t,e){var n=null==t?0:t.length,i=Yn(t,e);return Bi(t,de(e,(function(t){return sr(t,n)?+t:t})).sort(_o)),i}));function Fr(t){return null==t?t:cn.call(t)}var Wr=ji((function(t){return Xi(ri(t,1,Da,!0))})),qr=ji((function(t){var e=Nr(t);return Da(e)&&(e=void 0),Xi(ri(t,1,Da,!0),$o(e,2))})),Vr=ji((function(t){var e=Nr(t);return e="function"==typeof e?e:void 0,Xi(ri(t,1,Da,!0),void 0,e)}));function Gr(t){if(!t||!t.length)return[];var e=0;return t=he(t,(function(t){if(Da(t))return e=an(t.length,e),!0})),Ae(e,(function(e){return de(t,Me(e))}))}function Yr(t,e){if(!t||!t.length)return[];var n=Gr(t);return null==e?n:de(n,(function(t){return re(e,void 0,t)}))}var Kr=ji((function(t,e){return Da(t)?Jn(t,e):[]})),Qr=ji((function(t){return io(he(t,Da))})),$r=ji((function(t){var e=Nr(t);return Da(e)&&(e=void 0),io(he(t,Da),$o(e,2))})),Xr=ji((function(t){var e=Nr(t);return e="function"==typeof e?e:void 0,io(he(t,Da),void 0,e)})),Jr=ji(Gr);var ta=ji((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Yr(t,n)}));function ea(t){var e=Sn(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ia=qo((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof En&&sr(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[o],thisArg:void 0}),new Cn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(o)}));var oa=bo((function(t,e,n){Pt.call(t,n)?++t[n]:Gn(t,n,1)}));var ra=ko(Er),aa=ko(Ir);function sa(t,e){return(Ia(t)?se:ti)(t,$o(e,3))}function ua(t,e){return(Ia(t)?ue:ei)(t,$o(e,3))}var la=bo((function(t,e,n){Pt.call(t,n)?t[n].push(e):Gn(t,n,[e])}));var ha=ji((function(t,e,n){var o=-1,r="function"==typeof e,a=Ba(t)?i(t.length):[];return ti(t,(function(t){a[++o]=r?re(e,t,n):gi(t,e,n)})),a})),ca=bo((function(t,e,n){Gn(t,n,e)}));function fa(t,e){return(Ia(t)?de:ki)(t,$o(e,3))}var da=bo((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var pa=ji((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ur(t,e[0],e[1])?e=[]:n>2&&ur(e[0],e[1],e[2])&&(e=[e[0]]),Ei(t,ri(e,1),[])})),_a=Qe||function(){return Gt.Date.now()};function ma(t,e,n){return e=n?void 0:e,Ro(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function va(t,e){var n;if("function"!=typeof e)throw new gt(r);return t=is(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ga=ji((function(t,e,n){var i=1;if(n.length){var o=He(n,Qo(ga));i|=32}return Ro(t,i,e,n,o)})),ya=ji((function(t,e,n){var i=3;if(n.length){var o=He(n,Qo(ya));i|=32}return Ro(e,i,t,n,o)}));function ba(t,e,n){var i,o,a,s,u,l,h=0,c=!1,f=!1,d=!0;if("function"!=typeof t)throw new gt(r);function p(e){var n=i,r=o;return i=o=void 0,h=e,s=t.apply(r,n)}function _(t){return h=t,u=br(v,e),c?p(t):s}function m(t){var n=t-l;return void 0===l||n>=e||n<0||f&&t-h>=a}function v(){var t=_a();if(m(t))return g(t);u=br(v,function(t){var n=e-(t-l);return f?sn(n,a-(t-h)):n}(t))}function g(t){return u=void 0,d&&i?p(t):(i=o=void 0,s)}function y(){var t=_a(),n=m(t);if(i=arguments,o=this,l=t,n){if(void 0===u)return _(l);if(f)return ho(u),u=br(v,e),p(l)}return void 0===u&&(u=br(v,e)),s}return e=rs(e)||0,Fa(n)&&(c=!!n.leading,a=(f="maxWait"in n)?an(rs(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==u&&ho(u),h=0,i=l=o=u=void 0},y.flush=function(){return void 0===u?s:g(_a())},y}var wa=ji((function(t,e){return Xn(t,1,e)})),xa=ji((function(t,e,n){return Xn(t,rs(e)||0,n)}));function La(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(r);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=t.apply(this,i);return n.cache=r.set(o,a)||r,a};return n.cache=new(La.Cache||Bn),n}function Pa(t){if("function"!=typeof t)throw new gt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}La.Cache=Bn;var Ma=uo((function(t,e){var n=(e=1==e.length&&Ia(e[0])?de(e[0],ze($o())):de(ri(e,1),ze($o()))).length;return ji((function(i){for(var o=-1,r=sn(i.length,n);++o<r;)i[o]=e[o].call(this,i[o]);return re(t,this,i)}))})),Ta=ji((function(t,e){return Ro(t,32,void 0,e,He(e,Qo(Ta)))})),ka=ji((function(t,e){return Ro(t,64,void 0,e,He(e,Qo(ka)))})),Sa=qo((function(t,e){return Ro(t,256,void 0,void 0,void 0,e)}));function Aa(t,e){return t===e||t!=t&&e!=e}var za=Bo(pi),Ca=Bo((function(t,e){return t>=e})),Ea=yi(function(){return arguments}())?yi:function(t){return Wa(t)&&Pt.call(t,"callee")&&!Yt.call(t,"callee")},Ia=i.isArray,Oa=Jt?ze(Jt):function(t){return Wa(t)&&di(t)==L};function Ba(t){return null!=t&&Ha(t.length)&&!Ra(t)}function Da(t){return Wa(t)&&Ba(t)}var Za=en||ru,ja=te?ze(te):function(t){return Wa(t)&&di(t)==c};function Na(t){if(!Wa(t))return!1;var e=di(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ga(t)}function Ra(t){if(!Fa(t))return!1;var e=di(t);return e==d||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ua(t){return"number"==typeof t&&t==is(t)}function Ha(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Fa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wa(t){return null!=t&&"object"==typeof t}var qa=ee?ze(ee):function(t){return Wa(t)&&ir(t)==_};function Va(t){return"number"==typeof t||Wa(t)&&di(t)==m}function Ga(t){if(!Wa(t)||di(t)!=v)return!1;var e=qt(t);if(null===e)return!0;var n=Pt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Lt.call(n)==St}var Ya=ne?ze(ne):function(t){return Wa(t)&&di(t)==g};var Ka=ie?ze(ie):function(t){return Wa(t)&&ir(t)==y};function Qa(t){return"string"==typeof t||!Ia(t)&&Wa(t)&&di(t)==b}function $a(t){return"symbol"==typeof t||Wa(t)&&di(t)==w}var Xa=oe?ze(oe):function(t){return Wa(t)&&Ha(t.length)&&!!Rt[di(t)]};var Ja=Bo(Ti),ts=Bo((function(t,e){return t<=e}));function es(t){if(!t)return[];if(Ba(t))return Qa(t)?Ve(t):go(t);if(Xt&&t[Xt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Xt]());var e=ir(t);return(e==_?Re:e==y?Fe:As)(t)}function ns(t){return t?(t=rs(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function is(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function os(t){return t?Kn(is(t),0,4294967295):0}function rs(t){if("number"==typeof t)return t;if($a(t))return NaN;if(Fa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Fa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Y,"");var n=rt.test(t);return n||st.test(t)?Wt(t.slice(2),n?2:8):ot.test(t)?NaN:+t}function as(t){return yo(t,ws(t))}function ss(t){return null==t?"":$i(t)}var us=wo((function(t,e){if(fr(e)||Ba(e))yo(e,bs(e),t);else for(var n in e)Pt.call(e,n)&&Fn(t,n,e[n])})),ls=wo((function(t,e){yo(e,ws(e),t)})),hs=wo((function(t,e,n,i){yo(e,ws(e),t,i)})),cs=wo((function(t,e,n,i){yo(e,bs(e),t,i)})),fs=qo(Yn);var ds=ji((function(t,e){t=_t(t);var n=-1,i=e.length,o=i>2?e[2]:void 0;for(o&&ur(e[0],e[1],o)&&(i=1);++n<i;)for(var r=e[n],a=ws(r),s=-1,u=a.length;++s<u;){var l=a[s],h=t[l];(void 0===h||Aa(h,wt[l])&&!Pt.call(t,l))&&(t[l]=r[l])}return t})),ps=ji((function(t){return t.push(void 0,Ho),re(Ls,void 0,t)}));function _s(t,e,n){var i=null==t?void 0:ci(t,e);return void 0===i?n:i}function ms(t,e){return null!=t&&or(t,e,mi)}var vs=zo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),t[e]=n}),Fs(Vs)),gs=zo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),Pt.call(t,e)?t[e].push(n):t[e]=[n]}),$o),ys=ji(gi);function bs(t){return Ba(t)?jn(t):Pi(t)}function ws(t){return Ba(t)?jn(t,!0):Mi(t)}var xs=wo((function(t,e,n){zi(t,e,n)})),Ls=wo((function(t,e,n,i){zi(t,e,n,i)})),Ps=qo((function(t,e){var n={};if(null==t)return n;var i=!1;e=de(e,(function(e){return e=so(e,t),i||(i=e.length>1),e})),yo(t,Go(t),n),i&&(n=Qn(n,7,Fo));for(var o=e.length;o--;)Ji(n,e[o]);return n}));var Ms=qo((function(t,e){return null==t?{}:function(t,e){return Ii(t,e,(function(e,n){return ms(t,n)}))}(t,e)}));function Ts(t,e){if(null==t)return{};var n=de(Go(t),(function(t){return[t]}));return e=$o(e),Ii(t,n,(function(t,n){return e(t,n[0])}))}var ks=No(bs),Ss=No(ws);function As(t){return null==t?[]:Ce(t,bs(t))}var zs=Mo((function(t,e,n){return e=e.toLowerCase(),t+(n?Cs(e):e)}));function Cs(t){return Ns(ss(t).toLowerCase())}function Es(t){return(t=ss(t))&&t.replace(lt,De).replace(It,"")}var Is=Mo((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Os=Mo((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Bs=Po("toLowerCase");var Ds=Mo((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Zs=Mo((function(t,e,n){return t+(n?" ":"")+Ns(e)}));var js=Mo((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ns=Po("toUpperCase");function Rs(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return Zt.test(t)}(t)?function(t){return t.match(Bt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Us=ji((function(t,e){try{return re(t,void 0,e)}catch(t){return Na(t)?t:new ft(t)}})),Hs=qo((function(t,e){return se(e,(function(e){e=Tr(e),Gn(t,e,ga(t[e],t))})),t}));function Fs(t){return function(){return t}}var Ws=So(),qs=So(!0);function Vs(t){return t}function Gs(t){return Li("function"==typeof t?t:Qn(t,1))}var Ys=ji((function(t,e){return function(n){return gi(n,t,e)}})),Ks=ji((function(t,e){return function(n){return gi(t,n,e)}}));function Qs(t,e,n){var i=bs(e),o=hi(e,i);null!=n||Fa(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=hi(e,bs(e)));var r=!(Fa(n)&&"chain"in n&&!n.chain),a=Ra(t);return se(o,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(r||e){var n=t(this.__wrapped__),o=n.__actions__=go(this.__actions__);return o.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,pe([this.value()],arguments))})})),t}function $s(){}var Xs=Eo(de),Js=Eo(le),tu=Eo(ve);function eu(t){return lr(t)?Me(Tr(t)):function(t){return function(e){return ci(e,t)}}(t)}var nu=Oo(),iu=Oo(!0);function ou(){return[]}function ru(){return!1}var au=Co((function(t,e){return t+e}),0),su=Zo("ceil"),uu=Co((function(t,e){return t/e}),1),lu=Zo("floor");var hu,cu=Co((function(t,e){return t*e}),1),fu=Zo("round"),du=Co((function(t,e){return t-e}),0);return Sn.after=function(t,e){if("function"!=typeof e)throw new gt(r);return t=is(t),function(){if(--t<1)return e.apply(this,arguments)}},Sn.ary=ma,Sn.assign=us,Sn.assignIn=ls,Sn.assignInWith=hs,Sn.assignWith=cs,Sn.at=fs,Sn.before=va,Sn.bind=ga,Sn.bindAll=Hs,Sn.bindKey=ya,Sn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ia(t)?t:[t]},Sn.chain=ea,Sn.chunk=function(t,e,n){e=(n?ur(t,e,n):void 0===e)?1:an(is(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var r=0,a=0,s=i(Xe(o/e));r<o;)s[a++]=qi(t,r,r+=e);return s},Sn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,o=[];++e<n;){var r=t[e];r&&(o[i++]=r)}return o},Sn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return pe(Ia(n)?go(n):[n],ri(e,1))},Sn.cond=function(t){var e=null==t?0:t.length,n=$o();return t=e?de(t,(function(t){if("function"!=typeof t[1])throw new gt(r);return[n(t[0]),t[1]]})):[],ji((function(n){for(var i=-1;++i<e;){var o=t[i];if(re(o[0],this,n))return re(o[1],this,n)}}))},Sn.conforms=function(t){return function(t){var e=bs(t);return function(n){return $n(n,t,e)}}(Qn(t,1))},Sn.constant=Fs,Sn.countBy=oa,Sn.create=function(t,e){var n=An(t);return null==e?n:Vn(n,e)},Sn.curry=function t(e,n,i){var o=Ro(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return o.placeholder=t.placeholder,o},Sn.curryRight=function t(e,n,i){var o=Ro(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return o.placeholder=t.placeholder,o},Sn.debounce=ba,Sn.defaults=ds,Sn.defaultsDeep=ps,Sn.defer=wa,Sn.delay=xa,Sn.difference=Ar,Sn.differenceBy=zr,Sn.differenceWith=Cr,Sn.drop=function(t,e,n){var i=null==t?0:t.length;return i?qi(t,(e=n||void 0===e?1:is(e))<0?0:e,i):[]},Sn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?qi(t,0,(e=i-(e=n||void 0===e?1:is(e)))<0?0:e):[]},Sn.dropRightWhile=function(t,e){return t&&t.length?eo(t,$o(e,3),!0,!0):[]},Sn.dropWhile=function(t,e){return t&&t.length?eo(t,$o(e,3),!0):[]},Sn.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&ur(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=is(n))<0&&(n=-n>o?0:o+n),(i=void 0===i||i>o?o:is(i))<0&&(i+=o),i=n>i?0:os(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Sn.filter=function(t,e){return(Ia(t)?he:oi)(t,$o(e,3))},Sn.flatMap=function(t,e){return ri(fa(t,e),1)},Sn.flatMapDeep=function(t,e){return ri(fa(t,e),1/0)},Sn.flatMapDepth=function(t,e,n){return n=void 0===n?1:is(n),ri(fa(t,e),n)},Sn.flatten=Or,Sn.flattenDeep=function(t){return(null==t?0:t.length)?ri(t,1/0):[]},Sn.flattenDepth=function(t,e){return(null==t?0:t.length)?ri(t,e=void 0===e?1:is(e)):[]},Sn.flip=function(t){return Ro(t,512)},Sn.flow=Ws,Sn.flowRight=qs,Sn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var o=t[e];i[o[0]]=o[1]}return i},Sn.functions=function(t){return null==t?[]:hi(t,bs(t))},Sn.functionsIn=function(t){return null==t?[]:hi(t,ws(t))},Sn.groupBy=la,Sn.initial=function(t){return(null==t?0:t.length)?qi(t,0,-1):[]},Sn.intersection=Dr,Sn.intersectionBy=Zr,Sn.intersectionWith=jr,Sn.invert=vs,Sn.invertBy=gs,Sn.invokeMap=ha,Sn.iteratee=Gs,Sn.keyBy=ca,Sn.keys=bs,Sn.keysIn=ws,Sn.map=fa,Sn.mapKeys=function(t,e){var n={};return e=$o(e,3),ui(t,(function(t,i,o){Gn(n,e(t,i,o),t)})),n},Sn.mapValues=function(t,e){var n={};return e=$o(e,3),ui(t,(function(t,i,o){Gn(n,i,e(t,i,o))})),n},Sn.matches=function(t){return Si(Qn(t,1))},Sn.matchesProperty=function(t,e){return Ai(t,Qn(e,1))},Sn.memoize=La,Sn.merge=xs,Sn.mergeWith=Ls,Sn.method=Ys,Sn.methodOf=Ks,Sn.mixin=Qs,Sn.negate=Pa,Sn.nthArg=function(t){return t=is(t),ji((function(e){return Ci(e,t)}))},Sn.omit=Ps,Sn.omitBy=function(t,e){return Ts(t,Pa($o(e)))},Sn.once=function(t){return va(2,t)},Sn.orderBy=function(t,e,n,i){return null==t?[]:(Ia(e)||(e=null==e?[]:[e]),Ia(n=i?void 0:n)||(n=null==n?[]:[n]),Ei(t,e,n))},Sn.over=Xs,Sn.overArgs=Ma,Sn.overEvery=Js,Sn.overSome=tu,Sn.partial=Ta,Sn.partialRight=ka,Sn.partition=da,Sn.pick=Ms,Sn.pickBy=Ts,Sn.property=eu,Sn.propertyOf=function(t){return function(e){return null==t?void 0:ci(t,e)}},Sn.pull=Rr,Sn.pullAll=Ur,Sn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Oi(t,e,$o(n,2)):t},Sn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Oi(t,e,void 0,n):t},Sn.pullAt=Hr,Sn.range=nu,Sn.rangeRight=iu,Sn.rearg=Sa,Sn.reject=function(t,e){return(Ia(t)?he:oi)(t,Pa($o(e,3)))},Sn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,o=[],r=t.length;for(e=$o(e,3);++i<r;){var a=t[i];e(a,i,t)&&(n.push(a),o.push(i))}return Bi(t,o),n},Sn.rest=function(t,e){if("function"!=typeof t)throw new gt(r);return ji(t,e=void 0===e?e:is(e))},Sn.reverse=Fr,Sn.sampleSize=function(t,e,n){return e=(n?ur(t,e,n):void 0===e)?1:is(e),(Ia(t)?Rn:Ri)(t,e)},Sn.set=function(t,e,n){return null==t?t:Ui(t,e,n)},Sn.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Ui(t,e,n,i)},Sn.shuffle=function(t){return(Ia(t)?Un:Wi)(t)},Sn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ur(t,e,n)?(e=0,n=i):(e=null==e?0:is(e),n=void 0===n?i:is(n)),qi(t,e,n)):[]},Sn.sortBy=pa,Sn.sortedUniq=function(t){return t&&t.length?Ki(t):[]},Sn.sortedUniqBy=function(t,e){return t&&t.length?Ki(t,$o(e,2)):[]},Sn.split=function(t,e,n){return n&&"number"!=typeof n&&ur(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!Ya(e))&&!(e=$i(e))&&Ne(t)?lo(Ve(t),0,n):t.split(e,n):[]},Sn.spread=function(t,e){if("function"!=typeof t)throw new gt(r);return e=null==e?0:an(is(e),0),ji((function(n){var i=n[e],o=lo(n,0,e);return i&&pe(o,i),re(t,this,o)}))},Sn.tail=function(t){var e=null==t?0:t.length;return e?qi(t,1,e):[]},Sn.take=function(t,e,n){return t&&t.length?qi(t,0,(e=n||void 0===e?1:is(e))<0?0:e):[]},Sn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?qi(t,(e=i-(e=n||void 0===e?1:is(e)))<0?0:e,i):[]},Sn.takeRightWhile=function(t,e){return t&&t.length?eo(t,$o(e,3),!1,!0):[]},Sn.takeWhile=function(t,e){return t&&t.length?eo(t,$o(e,3)):[]},Sn.tap=function(t,e){return e(t),t},Sn.throttle=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new gt(r);return Fa(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ba(t,e,{leading:i,maxWait:e,trailing:o})},Sn.thru=na,Sn.toArray=es,Sn.toPairs=ks,Sn.toPairsIn=Ss,Sn.toPath=function(t){return Ia(t)?de(t,Tr):$a(t)?[t]:go(Mr(ss(t)))},Sn.toPlainObject=as,Sn.transform=function(t,e,n){var i=Ia(t),o=i||Za(t)||Xa(t);if(e=$o(e,4),null==n){var r=t&&t.constructor;n=o?i?new r:[]:Fa(t)&&Ra(r)?An(qt(t)):{}}return(o?se:ui)(t,(function(t,i,o){return e(n,t,i,o)})),n},Sn.unary=function(t){return ma(t,1)},Sn.union=Wr,Sn.unionBy=qr,Sn.unionWith=Vr,Sn.uniq=function(t){return t&&t.length?Xi(t):[]},Sn.uniqBy=function(t,e){return t&&t.length?Xi(t,$o(e,2)):[]},Sn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Xi(t,void 0,e):[]},Sn.unset=function(t,e){return null==t||Ji(t,e)},Sn.unzip=Gr,Sn.unzipWith=Yr,Sn.update=function(t,e,n){return null==t?t:to(t,e,ao(n))},Sn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:to(t,e,ao(n),i)},Sn.values=As,Sn.valuesIn=function(t){return null==t?[]:Ce(t,ws(t))},Sn.without=Kr,Sn.words=Rs,Sn.wrap=function(t,e){return Ta(ao(e),t)},Sn.xor=Qr,Sn.xorBy=$r,Sn.xorWith=Xr,Sn.zip=Jr,Sn.zipObject=function(t,e){return oo(t||[],e||[],Fn)},Sn.zipObjectDeep=function(t,e){return oo(t||[],e||[],Ui)},Sn.zipWith=ta,Sn.entries=ks,Sn.entriesIn=Ss,Sn.extend=ls,Sn.extendWith=hs,Qs(Sn,Sn),Sn.add=au,Sn.attempt=Us,Sn.camelCase=zs,Sn.capitalize=Cs,Sn.ceil=su,Sn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=rs(n))==n?n:0),void 0!==e&&(e=(e=rs(e))==e?e:0),Kn(rs(t),e,n)},Sn.clone=function(t){return Qn(t,4)},Sn.cloneDeep=function(t){return Qn(t,5)},Sn.cloneDeepWith=function(t,e){return Qn(t,5,e="function"==typeof e?e:void 0)},Sn.cloneWith=function(t,e){return Qn(t,4,e="function"==typeof e?e:void 0)},Sn.conformsTo=function(t,e){return null==e||$n(t,e,bs(e))},Sn.deburr=Es,Sn.defaultTo=function(t,e){return null==t||t!=t?e:t},Sn.divide=uu,Sn.endsWith=function(t,e,n){t=ss(t),e=$i(e);var i=t.length,o=n=void 0===n?i:Kn(is(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},Sn.eq=Aa,Sn.escape=function(t){return(t=ss(t))&&N.test(t)?t.replace(Z,Ze):t},Sn.escapeRegExp=function(t){return(t=ss(t))&&G.test(t)?t.replace(V,"\\$&"):t},Sn.every=function(t,e,n){var i=Ia(t)?le:ni;return n&&ur(t,e,n)&&(e=void 0),i(t,$o(e,3))},Sn.find=ra,Sn.findIndex=Er,Sn.findKey=function(t,e){return ye(t,$o(e,3),ui)},Sn.findLast=aa,Sn.findLastIndex=Ir,Sn.findLastKey=function(t,e){return ye(t,$o(e,3),li)},Sn.floor=lu,Sn.forEach=sa,Sn.forEachRight=ua,Sn.forIn=function(t,e){return null==t?t:ai(t,$o(e,3),ws)},Sn.forInRight=function(t,e){return null==t?t:si(t,$o(e,3),ws)},Sn.forOwn=function(t,e){return t&&ui(t,$o(e,3))},Sn.forOwnRight=function(t,e){return t&&li(t,$o(e,3))},Sn.get=_s,Sn.gt=za,Sn.gte=Ca,Sn.has=function(t,e){return null!=t&&or(t,e,_i)},Sn.hasIn=ms,Sn.head=Br,Sn.identity=Vs,Sn.includes=function(t,e,n,i){t=Ba(t)?t:As(t),n=n&&!i?is(n):0;var o=t.length;return n<0&&(n=an(o+n,0)),Qa(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&we(t,e,n)>-1},Sn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:is(n);return o<0&&(o=an(i+o,0)),we(t,e,o)},Sn.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=sn(e,n)&&t<an(e,n)}(t=rs(t),e,n)},Sn.invoke=ys,Sn.isArguments=Ea,Sn.isArray=Ia,Sn.isArrayBuffer=Oa,Sn.isArrayLike=Ba,Sn.isArrayLikeObject=Da,Sn.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&di(t)==h},Sn.isBuffer=Za,Sn.isDate=ja,Sn.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Ga(t)},Sn.isEmpty=function(t){if(null==t)return!0;if(Ba(t)&&(Ia(t)||"string"==typeof t||"function"==typeof t.splice||Za(t)||Xa(t)||Ea(t)))return!t.length;var e=ir(t);if(e==_||e==y)return!t.size;if(fr(t))return!Pi(t).length;for(var n in t)if(Pt.call(t,n))return!1;return!0},Sn.isEqual=function(t,e){return bi(t,e)},Sn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?bi(t,e,void 0,n):!!i},Sn.isError=Na,Sn.isFinite=function(t){return"number"==typeof t&&nn(t)},Sn.isFunction=Ra,Sn.isInteger=Ua,Sn.isLength=Ha,Sn.isMap=qa,Sn.isMatch=function(t,e){return t===e||wi(t,e,Jo(e))},Sn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wi(t,e,Jo(e),n)},Sn.isNaN=function(t){return Va(t)&&t!=+t},Sn.isNative=function(t){if(cr(t))throw new ft("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xi(t)},Sn.isNil=function(t){return null==t},Sn.isNull=function(t){return null===t},Sn.isNumber=Va,Sn.isObject=Fa,Sn.isObjectLike=Wa,Sn.isPlainObject=Ga,Sn.isRegExp=Ya,Sn.isSafeInteger=function(t){return Ua(t)&&t>=-9007199254740991&&t<=9007199254740991},Sn.isSet=Ka,Sn.isString=Qa,Sn.isSymbol=$a,Sn.isTypedArray=Xa,Sn.isUndefined=function(t){return void 0===t},Sn.isWeakMap=function(t){return Wa(t)&&ir(t)==x},Sn.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==di(t)},Sn.join=function(t,e){return null==t?"":on.call(t,e)},Sn.kebabCase=Is,Sn.last=Nr,Sn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return void 0!==n&&(o=(o=is(n))<0?an(i+o,0):sn(o,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,o):be(t,Le,o,!0)},Sn.lowerCase=Os,Sn.lowerFirst=Bs,Sn.lt=Ja,Sn.lte=ts,Sn.max=function(t){return t&&t.length?ii(t,Vs,pi):void 0},Sn.maxBy=function(t,e){return t&&t.length?ii(t,$o(e,2),pi):void 0},Sn.mean=function(t){return Pe(t,Vs)},Sn.meanBy=function(t,e){return Pe(t,$o(e,2))},Sn.min=function(t){return t&&t.length?ii(t,Vs,Ti):void 0},Sn.minBy=function(t,e){return t&&t.length?ii(t,$o(e,2),Ti):void 0},Sn.stubArray=ou,Sn.stubFalse=ru,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=cu,Sn.nth=function(t,e){return t&&t.length?Ci(t,is(e)):void 0},Sn.noConflict=function(){return Gt._===this&&(Gt._=At),this},Sn.noop=$s,Sn.now=_a,Sn.pad=function(t,e,n){t=ss(t);var i=(e=is(e))?qe(t):0;if(!e||i>=e)return t;var o=(e-i)/2;return Io(Je(o),n)+t+Io(Xe(o),n)},Sn.padEnd=function(t,e,n){t=ss(t);var i=(e=is(e))?qe(t):0;return e&&i<e?t+Io(e-i,n):t},Sn.padStart=function(t,e,n){t=ss(t);var i=(e=is(e))?qe(t):0;return e&&i<e?Io(e-i,n)+t:t},Sn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(ss(t).replace(K,""),e||0)},Sn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ur(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=hn();return sn(t+o*(e-t+Ft("1e-"+((o+"").length-1))),e)}return Di(t,e)},Sn.reduce=function(t,e,n){var i=Ia(t)?_e:ke,o=arguments.length<3;return i(t,$o(e,4),n,o,ti)},Sn.reduceRight=function(t,e,n){var i=Ia(t)?me:ke,o=arguments.length<3;return i(t,$o(e,4),n,o,ei)},Sn.repeat=function(t,e,n){return e=(n?ur(t,e,n):void 0===e)?1:is(e),Zi(ss(t),e)},Sn.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Sn.result=function(t,e,n){var i=-1,o=(e=so(e,t)).length;for(o||(o=1,t=void 0);++i<o;){var r=null==t?void 0:t[Tr(e[i])];void 0===r&&(i=o,r=n),t=Ra(r)?r.call(t):r}return t},Sn.round=fu,Sn.runInContext=t,Sn.sample=function(t){return(Ia(t)?Nn:Ni)(t)},Sn.size=function(t){if(null==t)return 0;if(Ba(t))return Qa(t)?qe(t):t.length;var e=ir(t);return e==_||e==y?t.size:Pi(t).length},Sn.snakeCase=Ds,Sn.some=function(t,e,n){var i=Ia(t)?ve:Vi;return n&&ur(t,e,n)&&(e=void 0),i(t,$o(e,3))},Sn.sortedIndex=function(t,e){return Gi(t,e)},Sn.sortedIndexBy=function(t,e,n){return Yi(t,e,$o(n,2))},Sn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Gi(t,e);if(i<n&&Aa(t[i],e))return i}return-1},Sn.sortedLastIndex=function(t,e){return Gi(t,e,!0)},Sn.sortedLastIndexBy=function(t,e,n){return Yi(t,e,$o(n,2),!0)},Sn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Gi(t,e,!0)-1;if(Aa(t[n],e))return n}return-1},Sn.startCase=Zs,Sn.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Kn(is(n),0,t.length),e=$i(e),t.slice(n,n+e.length)==e},Sn.subtract=du,Sn.sum=function(t){return t&&t.length?Se(t,Vs):0},Sn.sumBy=function(t,e){return t&&t.length?Se(t,$o(e,2)):0},Sn.template=function(t,e,n){var i=Sn.templateSettings;n&&ur(t,e,n)&&(e=void 0),t=ss(t),e=hs({},e,i,Uo);var o,r,a=hs({},e.imports,i.imports,Uo),s=bs(a),u=Ce(a,s),l=0,h=e.interpolate||ht,c="__p += '",f=mt((e.escape||ht).source+"|"+h.source+"|"+(h===H?nt:ht).source+"|"+(e.evaluate||ht).source+"|$","g"),d="//# sourceURL="+(Pt.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Nt+"]")+"\n";t.replace(f,(function(e,n,i,a,s,u){return i||(i=a),c+=t.slice(l,u).replace(ct,je),n&&(o=!0,c+="' +\n__e("+n+") +\n'"),s&&(r=!0,c+="';\n"+s+";\n__p += '"),i&&(c+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),c+="';\n";var p=Pt.call(e,"variable")&&e.variable;p||(c="with (obj) {\n"+c+"\n}\n"),c=(r?c.replace(I,""):c).replace(O,"$1").replace(B,"$1;"),c="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var _=Us((function(){return dt(s,d+"return "+c).apply(void 0,u)}));if(_.source=c,Na(_))throw _;return _},Sn.times=function(t,e){if((t=is(t))<1||t>9007199254740991)return[];var n=4294967295,i=sn(t,4294967295);t-=4294967295;for(var o=Ae(i,e=$o(e));++n<t;)e(n);return o},Sn.toFinite=ns,Sn.toInteger=is,Sn.toLength=os,Sn.toLower=function(t){return ss(t).toLowerCase()},Sn.toNumber=rs,Sn.toSafeInteger=function(t){return t?Kn(is(t),-9007199254740991,9007199254740991):0===t?t:0},Sn.toString=ss,Sn.toUpper=function(t){return ss(t).toUpperCase()},Sn.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=$i(e)))return t;var i=Ve(t),o=Ve(e);return lo(i,Ie(i,o),Oe(i,o)+1).join("")},Sn.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Q,"");if(!t||!(e=$i(e)))return t;var i=Ve(t);return lo(i,0,Oe(i,Ve(e))+1).join("")},Sn.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=$i(e)))return t;var i=Ve(t);return lo(i,Ie(i,Ve(e))).join("")},Sn.truncate=function(t,e){var n=30,i="...";if(Fa(e)){var o="separator"in e?e.separator:o;n="length"in e?is(e.length):n,i="omission"in e?$i(e.omission):i}var r=(t=ss(t)).length;if(Ne(t)){var a=Ve(t);r=a.length}if(n>=r)return t;var s=n-qe(i);if(s<1)return i;var u=a?lo(a,0,s).join(""):t.slice(0,s);if(void 0===o)return u+i;if(a&&(s+=u.length-s),Ya(o)){if(t.slice(s).search(o)){var l,h=u;for(o.global||(o=mt(o.source,ss(it.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var c=l.index;u=u.slice(0,void 0===c?s:c)}}else if(t.indexOf($i(o),s)!=s){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i},Sn.unescape=function(t){return(t=ss(t))&&j.test(t)?t.replace(D,Ge):t},Sn.uniqueId=function(t){var e=++Mt;return ss(t)+e},Sn.upperCase=js,Sn.upperFirst=Ns,Sn.each=sa,Sn.eachRight=ua,Sn.first=Br,Qs(Sn,(hu={},ui(Sn,(function(t,e){Pt.call(Sn.prototype,e)||(hu[e]=t)})),hu),{chain:!1}),Sn.VERSION="4.17.15",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Sn[t].placeholder=Sn})),se(["drop","take"],(function(t,e){En.prototype[t]=function(n){n=void 0===n?1:an(is(n),0);var i=this.__filtered__&&!e?new En(this):this.clone();return i.__filtered__?i.__takeCount__=sn(n,i.__takeCount__):i.__views__.push({size:sn(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},En.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;En.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$o(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");En.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");En.prototype[t]=function(){return this.__filtered__?new En(this):this[n](1)}})),En.prototype.compact=function(){return this.filter(Vs)},En.prototype.find=function(t){return this.filter(t).head()},En.prototype.findLast=function(t){return this.reverse().find(t)},En.prototype.invokeMap=ji((function(t,e){return"function"==typeof t?new En(this):this.map((function(n){return gi(n,t,e)}))})),En.prototype.reject=function(t){return this.filter(Pa($o(t)))},En.prototype.slice=function(t,e){t=is(t);var n=this;return n.__filtered__&&(t>0||e<0)?new En(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=is(e))<0?n.dropRight(-e):n.take(e-t)),n)},En.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},En.prototype.toArray=function(){return this.take(4294967295)},ui(En.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Sn[i?"take"+("last"==e?"Right":""):e],r=i||/^find/.test(e);o&&(Sn.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof En,u=a[0],l=s||Ia(e),h=function(t){var e=o.apply(Sn,pe([t],a));return i&&c?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var c=this.__chain__,f=!!this.__actions__.length,d=r&&!c,p=s&&!f;if(!r&&l){e=p?e:new En(this);var _=t.apply(e,a);return _.__actions__.push({func:na,args:[h],thisArg:void 0}),new Cn(_,c)}return d&&p?t.apply(this,a):(_=this.thru(h),d?i?_.value()[0]:_.value():_)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Sn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var o=this.value();return e.apply(Ia(o)?o:[],t)}return this[n]((function(n){return e.apply(Ia(n)?n:[],t)}))}})),ui(En.prototype,(function(t,e){var n=Sn[e];if(n){var i=n.name+"";Pt.call(yn,i)||(yn[i]=[]),yn[i].push({name:e,func:n})}})),yn[Ao(void 0,2).name]=[{name:"wrapper",func:void 0}],En.prototype.clone=function(){var t=new En(this.__wrapped__);return t.__actions__=go(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=go(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=go(this.__views__),t},En.prototype.reverse=function(){if(this.__filtered__){var t=new En(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},En.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ia(t),i=e<0,o=n?t.length:0,r=function(t,e,n){var i=-1,o=n.length;for(;++i<o;){var r=n[i],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=r.start,s=r.end,u=s-a,l=i?s:a-1,h=this.__iteratees__,c=h.length,f=0,d=sn(u,this.__takeCount__);if(!n||!i&&o==u&&d==u)return no(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var _=-1,m=t[l+=e];++_<c;){var v=h[_],g=v.iteratee,y=v.type,b=g(m);if(2==y)m=b;else if(!b){if(1==y)continue t;break t}}p[f++]=m}return p},Sn.prototype.at=ia,Sn.prototype.chain=function(){return ea(this)},Sn.prototype.commit=function(){return new Cn(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(t){for(var e,n=this;n instanceof zn;){var i=Sr(n);i.__index__=0,i.__values__=void 0,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},Sn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof En){var e=t;return this.__actions__.length&&(e=new En(this)),(e=e.reverse()).__actions__.push({func:na,args:[Fr],thisArg:void 0}),new Cn(e,this.__chain__)}return this.thru(Fr)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return no(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Xt&&(Sn.prototype[Xt]=function(){return this}),Sn}();Gt._=Ye,void 0===(o=function(){return Ye}.call(e,n,e,i))||(i.exports=o)}).call(this)}).call(this,n(13),n(14)(t))},function(t,e){t.exports={"Loading data...":{de:"Daten werden geladen ...",ru:"Данные загружаются..."},"(Sensor)":{de:"Sensor",bg:"Сензор",ru:"Сенсор",fr:"Détecteur"},"PM10 &micro;g/m&sup3;":{},"PM2.5 &micro;g/m&sup3;":{},"AQI US":{},"Temperature °C":{de:"Temperatur °C",bg:"Температура °C",ru:"Температура °C",fr:"Température °C"},"Humidity %":{de:"Feuchtigkeit %",bg:"Влажност %",ru:"Влажность %",fr:"Humidité %"},"Pressure hPa":{de:"Luftdruck hPa",bg:"Атмосферно налягане hPa",ru:"Атмосферное давление hPa",fr:"Pression hPa"},"Noise dBA":{de:"Lautstärke dBA",bg:"Шум dBA",ru:"Шум dBA",fr:"Niveau sonore dBA"}," Official AQI US":{de:"Luftqualitäts-Index (US)",ru:"Шкала AQI (США)"}," Temperature":{de:" Temperatur",bg:"Температура",ru:"Температура",fr:" Température"}," rel. Humidity":{de:" rel. Luftfeuchte",bg:"пр. Влажност",ru:"Влажность",fr:" Humidité rel."}," Pressure":{de:" Luftdruck",bg:"Атмосферно налягане",ru:"Давление",fr:" Pression"}," Noise":{de:" Lautstärke",bg:"Шум",ru:"Шум",fr:" Niveau sonore"},"Hide explanation":{de:"Erklärung ausblenden",bg:"Скриване на обяснението",ru:"Скрыть пояснения",fr:"Cacher les explications"},"Show explanation":{de:"Erklärung einblenden",bg:"Показване на обяснението",ru:"Показать пояснения",fr:"Montrer les explications"},"(close)":{de:"(schließen)",bg:"(затвори)",ru:"(закрыть)",fr:"(Fermer)"},"Last update":{de:"Letztes Update",bg:"Последна актуализация",ru:"Последнее обновление",fr:"Dernière mise à jour"},"<p>The hexagons represent the median of the current values of the sensors which are contained in the area, according to the option selected (PM10, PM2.5, temperature, relative humidity, pressure, AQI). You can refer to the scale on the left side of the map.</p> <p>By clicking on a hexagon, you can display a list of all the corresponding sensors as a table. The first column lists the sensor-IDs. In the first line, you can see the amount of sensor in the area and the median value.</p> <p>By clicking on the plus symbol next to a sensor ID, you can display two graphics: the individual measurements for the last 24 hours and the 24 hours floating mean for the last seven days. For technical reasons, the first of the 8 days displayed on the graphic has to stay empty.The values are refreshed every 5 minutes in order to fit with the measurement frequency of the Airrohr sensors.</p> <p>The Air Quality Index (AQI) is calculated according to the recommandations of the United States Environmental Protection Agency. Further information is available on the official page.(<a href='https://www.airnow.gov/aqi/aqi-basics/'>Link</a>). Hover over the AQI scale to display the levels of health concern.</p>":{de:"<p>Die Kacheln zeigen aktuell den Durchschnitt der PM10-Werte aller in der Zelle befindlichen Sensoren. Diese werden nach der Skala unten links entsprechend eingefärbt.</p> <p>Die Zahlen in der ersten Spalte enthält die Sensor-IDs. Befinden sich mehrere Sensoren in der Kachel, so wird der Durchschnittswerte aller in der Zelle enthaltenen Sensoren berechnet.</p> <p><b>Achtung</b>: Wir zeigen auf der Karte die Werte der <b>letzten 5 Minuten</b> an. Die von den jeweiligen Landesbehörden veröffentlichen Werte werden als ein 24-Stunden-Mittelwert angegeben. Dadurch können die Werte deutlich vom 24-Stunden-Mittelwert abweichen.</p> <p>Ein Klick auf das Plus vor der Sensor-ID blendet zwei Grafiken ein. Die erste Grafik 'Last 24 hours' zeigt den Tagesverlauf für die letzten 24 Stunden an. Die zweite Grafik zeigt den '24 h floating average' (den gleitenden 24-Stunden-Mittelwert) der letzten 7 Tage.</p>",bg:"<p>Шестоъгълниците представляват средната стойност на текущите стойности на сензорите, които се намират в областта, според избраната опция (PM10, PM2.5, температура, относителна влажност, атмосферно налягане, AQI). Можете да се сравните със скалата отляво на картата.</p> <p>Числата в първата колона съдържа идентификатори на сензора. Ако в шестоъгълника има няколко сензора, се изчисляват средните стойности на всички сензори, съдържащи се в клетката.</p> <p><b>Внимание</b>: Показваме стойностите на <b> последните 5 минути </b> на картата. Стойностите, публикувани от съответните държавни органи, се дават като средно за 24 часа. В резултат на това стойностите могат да се отклонят значително от средната за 24 часа.</p> <p>Щракването върху плюса пред идентификатора на сензора показва две графики. Първата графика „Последни 24 часа“ показва хода на деня за последните 24 часа. Втората графика показва '24-часовата плаваща средна стойност' (24-часовата подвижна средна стойност) за последните 7 дни.</p>",ru:"<p>Шестиугольники представляют медиану текущих значений датчиков, которые содержатся в области, согласно выбранной опции (PM10, PM2.5, температура, отн. влажность, давление, AQI и пр.). Шкала значений расположена в левом нижнем углу карты.</p> <p>Нажав на шестиугольник, вы можете отобразить список всех соответствующих датчиков в виде таблицы. В первом столбце перечислены идентификаторы датчиков. В первой строке вы можете увидеть количество датчиков в данной области и их среднее значение.</p> <p>Нажав на символ «плюс» рядом с идентификатором датчика, вы можете отобразить две графики: отдельные измерения за последние 24 часа и среднее значение за 24 часа за последние семь дней. По техническим причинам первый из 8 дней, отображаемых на графике, должен оставаться пустым. Значения обновляются каждые 5 минут, чтобы соответствовать частоте измерения датчиков.</p> <p>Индекс качества воздуха (AQI) рассчитывается в соответствии с рекомендациями агентства США по охране окружающей среды. Дополнительная информация доступна на <a href='https://www.airnow.gov/aqi/aqi-basics/'>официальной странице</a>). Наведите курсор на шкалу AQI, чтобы отобразить информацию по каждому из уровней индекса.</p>",fr:"<p>Les hexagones représentent la médiane actuelle des valeurs PM10 ou PM25 des stations de mesures contenues dans ceux-ci. Ils sont colorés selon l'échelle en bas à gauche.</p> <p>Les nombres présents dans la première colonne du tableau correspondent aux identifiants SensorID. Si plusieurs stations de mesures sont contenues dans un hexagone, la médiane est calculée à partir des valeurs correspondantes.</p> <p><b>Attention</b> : Nous montrons sur la carte les valeurs des <b>5 dernières minutes</b>. Les valeurs publiées par les structures officielles de mesure de la qualité de l'air sont des moyennes sur 24 heures. C'est pourquoi, elles peuvent être différentes.</p> <p>Un click sur le signe 'plus' devant l'identifiant SensorID permet d'afficher deux graphiques. Le premier 'Last 24 hours' montre le déroulé des mesures sur les dernières 24 heures.  Le deuxième graphique montre la moyenne glissante des valeurs sur 24 heures pour les 7 derniers jours.</p>"},"Good<div class='tooltip-div'>Air quality is considered satisfactory, and air pollution poses little or no risk.</div>":{de:"Gut<div class='tooltip-div'>Die Qualität der Luft ist zufriedenstellend. Die Luftverschmutzung stellt ein geringes oder kein Risiko dar.</div>",bg:"Добро<div class='tooltip-div'> Качеството на въздуха се счита за задоволително, а замърсяването на въздуха представлява малък или никакъв риск.</div>",ru:"Хороший<div class='tooltip-div'>Качество воздуха удовлетворительное и загрезнее представляет мало или вовсе не представляет риска для здоровья.</div>",fr:"Bon<div class='tooltip-div'>La qualité de l'air est satisfaisante. La pollution ne présente qu'un faible risque voire aucun risque.</div>"},"Moderate<div class='tooltip-div'>Air quality is acceptable; however, for some pollutants there may be a moderate health concern for a very small number of people who are unusually sensitive to air pollution.</div>":{de:"Mäßig<div class='tooltip-div'>Die Luftqualität ist insgesamt akzeptabel. Bei manchen Schadstoffen bestehen jedoch für einen sehr kleinen Personenkreis, der außergewöhnlich empfindlich auf Luftverschmutzung reagiert, eventuell Gesundheitsbedenken.</div>",bg:"Умерено<div class='tooltip-div'>Качеството на въздуха е приемливо; Въпреки това, за някои замърсители обаче може да има опасения за здравето на много малка група от хора, които са изключително чувствителни към замърсяването на въздуха.</div>",ru:"Умеренный<div class='tooltip-div'>Качество воздуха приемлемое, но отдельные загрязнители в воздухе могут представлять умеренный риск для небольшой группы людей, которые особенно чувствительны к данным видам загрязнения воздуха.</div>",fr:"Modéré<div class='tooltip-div'>La qualité de l'air est acceptable dans l'ensemble. Certaines substances nocives peuvent toutefois entraîner des problèmes de santé chez de petits groupes de personnes particulièrement sensibles à la pollution atmosphérique.</div>"},"Unhealthy for Sensitive Groups<div class='tooltip-div'>Members of sensitive groups may experience health effects. The general public is not likely to be affected.</div>":{de:"Ungesund für empfindliche Personen<div class='tooltip-div'>Bei empfindlichen Personengruppen können gesundheitliche Auswirkungen auftreten. Die allgemeine Öffentlichkeit ist höchstwahrscheinlich nicht betroffen.</div>",bg:"Нездравословно за чувствителни хора <div class = 'tooltip-div'> Въздействието върху здравето може да възникне в чувствителни групи. Малко вероятно е да се засегне широката общественост.</div>",ru:"Нездоровый для чувствительных групп<div class='tooltip-div'>Чувствительные группы людей могут испытывать негативное воздействие на здоровье. Для остальных людей влияние будет не столь заметно.</div>",fr:"Nocif pour les personnes sensibles<div class='tooltip-div'>Des effets sur la santé peuvent apparaître chez les personne les plus sensibles. La majorité de la population n'est normalement pas touchée.</div>"},"Unhealthy<div class='tooltip-div'>Everyone may begin to experience health effects; members of sensitive groups may experience more serious health effects.</div>":{de:"Ungesund<div class='tooltip-div'>Erste gesundheitliche Auswirkungen können sich bei allen Personengruppen einstellen. Bei empfindlichen Personengruppen können ernstere gesundheitliche Auswirkungen auftreten.</div>",bg:"Нездравословно<div class='tooltip-div'>Първите ефекти върху здравето могат да се появят при всички групи хора. В чувствителни групи могат да се появят сериозни последици за здравето.</div>",ru:"Нездоровый<div class='tooltip-div'>Все группы людей могут начать испытывать негативное влияние на здоровье. Наиболее чуствительные группы людей могут испытывать более серьезное влияние на здоровье.</div>",fr:"Nocif<div class='tooltip-div'>Des effets sur la santé peuvent apparaître chez tous les groupes de personnes. Chez les groupes les plus sensibles, de serieuses conséquences sanitaires sont possibles.</div>"},"Very Unhealthy<div class='tooltip-div'>Health alert: everyone may experience more serious health effects.</div>":{de:"Sehr ungesund<div class='tooltip-div'>Gesundheitswarnung aufgrund einer Notfallsituation. Die gesamte Bevölkerung ist voraussichtlich betroffen.</div>",bg:"Много нездравословно<div class='tooltip-div'>Здравен сигнал: Всеки може да изпита по-сериозни последици за здравето.</div>",ru:"Очень нездоровый<div class='tooltip-div'>Сигнал опасности: все группы людей могут испытывать серьезное негативное влияние на здоровье.</div>",fr:"Très nocif<div class='tooltip-div'>Alerte sanitaire grave en raison d'une situation d'urgence. Toute la population est touchée.</div>"},"Hazardous<div class='tooltip-div'>Health warnings of emergency conditions. The entire population is more likely to be affected.</div>":{de:"Gefährlich<div class='tooltip-div'>Gesundheitsalarm: Jeder könnte ernstere Auswirkungen auf die Gesundheit verspüren</div>",bg:"Опасно<div class='tooltip-div'>Здравни предупреждения за спешни състояния. Цялото население е много вероятно да бъде засегнато.</div>",ru:"Опасный<div class='tooltip-div'>Предупреждения о вреде для здоровья. Весьма вероятно, что представляет опасность для всего населения.</div>",fr:"Dangereux<div class='tooltip-div'>Alerte aux particules fines: Chacun peut sentir des effets nocifs pour la santé.</div>"},"Donate for Sensor.Community (Hardware, Software) now on Betterplace.org":{de:"Jetzt spenden für 'Sensor.Community' (Hardware, Software) auf betterplace.org!",nl:"Doneer voor 'Sensor.Community' op betterplace.org",bg:"Дарете за 'Sensor.community' на betterplace.org",ru:"Поддержите проект 'Sensor.Community' на сервисе betterplace.org",fr:"Faire un don pour 'Sensor.community' sur betterplace.org"},"Donate for<br/>Sensor.Community<br/>now on<br/><span>Betterplace.org</span>":{de:"Jetzt für<br/>Sensor.Community<br/>spenden auf<br/><span>Betterplace.org</span>",nl:"Doneer vor<br/>Sensor.Community<br/>op<br/><span>Betterplace.org</span>",bg:"Дарете за<br/>Sensor.community<br/>на<br/><span>betterplace.org</span>",ru:"Поддержите проект<br/>Sensor.Community<br/>на<br/><span>Betterplace.org</span>",fr:"Faire un don pour<br/>Sensor.community<br/>sur<br/><span>Betterplace.org</span>"}}},function(t,e){t.exports={europe:[57.5,22],deutschland:[51.165,10.4553],germany:[51.165,10.4553],"baden-wuerttemberg":[48.53,9.05],bayern:[48.949,11.395],brandenburg:[52.3622,13.0078],hessen:[50.5995,9.0249],"mecklenburg-vorpommern":[53.6121,12.7002],niedersachsen:[52.7562,9.3933],"nordrhein-westfalen":[51.4783,7.555],"rheinland-pfalz":[49.9131,7.4497],saarland:[49.3833,6.8333],sachsen:[51.0493,13.7381],"sachsen-anhalt":[51.9713,11.4697],"schleswig-holstein":[54.47,9.5142],thueringen:[50.8614,11.0522],ruhrgebiet:[51.5175,7.145],aachen:[50.777,6.0836],aalen:[48.8372,10.0936],ahlen:[51.7633,7.8911],arnsberg:[51.3967,8.0647],aschaffenburg:[49.9767,9.1477],augsburg:[48.3585,10.8944],"bad-homburg":[50.2292,8.6105],"bad-kreuznach":[49.8469,7.8669],"bad-oeynhausen":[52.2,8.8],"bad-salzuflen":[52.0875,8.7506],"baden-baden":[48.76194,8.2408],bamberg:[49.8917,10.8917],bayreuth:[49.9481,11.5783],bergheim:[50.9667,6.65],"bergisch-gladbach":[50.9917,7.136],berlin:[52.5167,13.3833],bielefeld:[52.0167,8.5167],bocholt:[51.8367,6.6108],bochum:[51.4825,7.2169],boeblingen:[48.6851,9.009],bonn:[50.734,7.0998],bottrop:[51.5247,6.9228],"brandenburg-an-der-havel":[52.4089,12.5631],braunschweig:[52.2692,10.5211],bremen:[53.0769,8.8089],bremerhaven:[53.5419,8.578],"castrop-rauxel":[51.55,7.3167],celle:[52.6261,10.0806],chemnitz:[50.8322,12.9242],cottbus:[51.76056,14.3342],cuxhaven:[53.8617,8.6941],darmstadt:[49.8667,8.65],delmenhorst:[53.0497,8.6339],"dessau-rosslau":[51.8606,12.2469],detmold:[51.9333,8.8833],dinslaken:[51.5667,6.7333],dormagen:[51.0933,6.8419],dorsten:[51.6604,6.96465],dortmund:[51.5142,7.46389],dresden:[51.0517,13.731],dueren:[50.8,6.4833],duesseldorf:[51.2256,6.7828],duisburg:[51.4351,6.7627],elmshorn:[53.7547,9.6536],emden:[53.3669,7.2056],erftstadt:[50.8092,6.7758],erfurt:[50.9781,11.0292],erlangen:[49.5964,11.0043],eschweiler:[50.8208,6.2631],essen:[51.4581,7.0148],esslingen:[48.7406,9.3108],euskirchen:[50.6608,6.7858],flensburg:[54.7819,9.4367],frankenthal:[49.5333,8.35],frankfurt:[50.1106,8.6822],"frankfurt-oder":[52.3417,14.5508],frechen:[50.9133,6.8139],freiburg:[47.99,7.82],friedrichshafen:[47.6542,9.4792],fuerth:[49.4783,10.9903],fulda:[50.552777777778,9.6775],garbsen:[52.4183,9.5981],gelsenkirchen:[51.5111,7.1006],gera:[50.8806,12.0833],giessen:[50.5872,8.6697],gladbeck:[51.573333333333,6.9925],goeppingen:[48.7025,9.6528],goerlitz:[51.1528,14.9872],goettingen:[51.5339,9.9356],goslar:[51.9072,10.43],greifswald:[54.096,13.3811],greiz:[50.6536,12.1884],grevenbroich:[51.0883,6.5875],guetersloh:[51.9,8.3833],gummersbach:[51.0269,7.5678],hagen:[51.3594,7.475],halle:[51.4828,11.97],hamburg:[53.5464,9.9841],hameln:[52.1031,9.36],hamm:[51.6811,7.817117],hanau:[50.1333,8.9167],hannover:[52.3744,9.7386],hattingen:[51.4011,7.1848],heidelberg:[49.4122,8.71],heidenheim:[48.6761,10.1544],heilbronn:[49.1417,9.2222],herford:[52.1172,8.6761],herne:[51.5419,7.2239],herten:[51.6,7.1333],hilden:[51.1714,6.9394],hildesheim:[52.15,9.95],huerth:[50.8694,6.8653],ibbenbueren:[52.2778,7.7167],ingolstadt:[48.7656,11.4244],iserlohn:[51.3811,7.6956],jena:[50.9272,11.5864],kaiserslautern:[49.4447,7.7689],karlsruhe:[49.014,8.4043],kassel:[51.3167,9.5],kempten:[47.7333,10.3167],kerpen:[50.8719,6.6961],kiel:[54.3253,10.1406],kleve:[51.7875,6.1353],koblenz:[50.3567,7.5939],koeln:[50.9381,6.9569],konstanz:[47.6633,9.1753],krefeld:[51.3369,6.5642],landshut:[48.5372,12.1522],langenfeld:[51.1131,6.9522],langenhagen:[52.4394,9.74],leipzig:[51.3403,12.37475],leverkusen:[51.0333,6.9833],lingen:[52.5233,7.3172],lippstadt:[51.6667,8.35],loerrach:[47.6156,7.6614],ludwigsburg:[48.8975,9.1922],ludwigshafen:[49.4831,8.4478],luebeck:[53.8661,10.6839],luedenscheid:[51.2183,7.6297],lueneburg:[53.2525,10.4144],luenen:[51.6167,7.5167],magdeburg:[52.1333,11.6167],mainz:[50,8.2711],mannheim:[49.4836,8.4631],marburg:[50.8075,8.7722],marl:[51.6539,7.0858],meerbusch:[51.2608,6.6778],menden:[51.4392,7.7953],minden:[52.2833,8.9167],moenchengladbach:[51.1911,6.4419],moers:[51.4517,6.6264],"muelheim-an-der-ruhr":[51.4331,6.8831],muenchen:[48.14,11.56],muenster:[51.9502,7.5911],"neu-ulm":[48.3942,9.9989],neubrandenburg:[53.557,13.261],neumuenster:[54.0714,9.99],neuss:[51.1986,6.6914],"neustadt-an-der-weinstrasse":[49.35,8.15],neuwied:[50.4286,7.4614],norderstedt:[53.6956,9.9836],nordhorn:[52.4361,7.0706],nuernberg:[49.4556,11.0786],oberhausen:[51.4703,6.8522],offenbach:[50.0994,8.7708],offenburg:[48.4708,7.9408],oldenburg:[53.1439,8.2139],osnabrueck:[52.2789,8.0431],paderborn:[51.7231,8.7549],passau:[48.5733,13.4569],peine:[52.3203,10.2336],pforzheim:[48.8911,8.6989],plauen:[50.495,12.1383],potsdam:[52.3958,13.0614],pulheim:[51,6.8],rastatt:[48.8569,8.2028],ratingen:[51.2956,6.8522],ravensburg:[47.7819,9.6136],recklinghausen:[51.6167,7.2],regensburg:[49.0167,12.0833],remscheid:[51.1783,7.1994],reutlingen:[48.4833,9.2167],rheine:[52.2833,7.4333],rosenheim:[47.8561,12.1289],rostock:[54.0833,12.1333],ruesselsheim:[49.995,8.4119],saarbruecken:[49.2333,7],salzgitter:[52.1533,10.4061],"sankt-augustin":[50.77,7.1867],schwaebisch_gmuend:[48.8,9.8],schweinfurt:[50.045,10.2342],schwerin:[53.6333,11.4167],siegen:[50.87444,8.0244],sindelfingen:[48.7133,9.003],solingen:[51.17139,7.0833],speyer:[49.3172,8.4342],stolberg:[50.7667,6.2333],stralsund:[54.3139,13.0897],stuttgart:[48.8,9.2],trier:[49.7596,6.6439],troisdorf:[50.8161,7.1556],tuebingen:[48.52,9.0556],ulm:[48.4008,9.9872],unna:[51.5347,7.6889],velbert:[51.3333,7.05],viersen:[51.2528,6.3933],"villingen-schwenningen":[48.0569,8.4917],waiblingen:[48.8303,9.3169],weimar:[50.9794,11.3297],wesel:[51.6586,6.6178],wetzlar:[50.5578,8.5044],wiesbaden:[50.0821,8.2414],wilhelmshaven:[53.5219,8.1075],willich:[51.2631,6.5492],wismar:[53.8882,11.462],witten:[51.4333,7.3333],wolfenbuettel:[52.1622,10.5369],wolfsburg:[52.4231,10.7872],worms:[49.633055555556,8.3608],wuerzburg:[49.7944,9.9294],wuppertal:[51.2592,7.2111],zwickau:[50.7189,12.4922],albania:[41,20],tirana:[41.317,19.817],oesterreich:[47.6,13.7833],austria:[47.6,13.7833],wien:[48.2083,16.3731],graz:[47.0667,15.4333],linz:[48.3031,14.2906],salzburg:[47.8,13.0333],innsbruck:[47.2672,11.3928],belarus:[54,28],minsk:[53.917,27.55],belgium:[50.8,4],brussels:[50.833333,4.4],"bosnia-and-herzegovina":[43.925,18],sarajevo:[43.867,18.417],bulgaria:[42.65,25.4],sofia:[42.6972,23.3233],pernik:[42.6,23.0333],varna:[43.2103,27.9097],plovdiv:[42.15,24.75],burgas:[42.4953,27.4717],velikotarnovo:[43.084,25.6556],ruse:[43.8564,25.9706],silistra:[44.1167,27.2667],starazagora:[42.42,25.63],vidin:[43.9911,22.8822],montana:[43.4125,23.225],pleven:[43.42,24.62],haskovo:[41.9333,25.5667],kardzhali:[41.65,25.3667],dimitrovgrad:[42.05,25.6],blagoevgrad:[42.0167,23.1],croatia:[45.166667,15.5],cyprus:[35.17,33.4],nicosia:[35.167,33.367],"czech-republic":[49.8,15.5],prague:[50.0833,14.4167],denmark:[56,11],finland:[65,26],helsinki:[60.1667,24.9333],turku:[60.45,22.2667],france:[46.3167,2.5333],paris:[48.8567,2.3517],alsace:[48.24905,7.52806],strasbourg:[48.5836,7.74806],grenoble:[45.2002,5.7222],rennes:[48.107,-1.659],greece:[39,22],athens:[37.984,23.7278],hungary:[47,20],budapest:[47.5,19.05],szeged:[46.255,20.145],ireland:[53.1333,-8.1167],dublin:[53.3425,-6.2658],sligo:[54.27679,-8.474551],italy:[42,12],italia:[42,12],sicily:[37.5667,14.2667],sicilia:[37.5667,14.2667],bologna:[44.4939,11.3428],florence:[43.7833,11.25],palermo:[38.1158,13.3614],rome:[41.9,12.5],roma:[41.9,12.5],turin:[45.0667,7.7],torino:[45.0667,7.7],verona:[45.433,10.983],kosovo:[42.583,21],pristina:[42.667,21.167],latvia:[57,25],riga:[56.949,24.106],liechtenstein:[47.17,9.51],vaduz:[47.141,9.521],luxembourg:[49.85,6],macedonia:[41.6,21.7],skopje:[42,21.43],netherlands:[51.6,5.5667],norway:[66,18],oslo:[59.9,10.75],poland:[52.1469,19.3781],warsaw:[52.233333,21.016667],wroclaw:[51.11,17.0322],lomianki:[52.367,20.9],portugal:[39.572,-8.031],lisbon:[38.7139,-9.1394],romania:[46,25],bucharest:[44.4167,26.1],russia:[65,90],moscow:[55.75,37.617],spb:[59.934,30.335],serbia:[44,21],belgrade:[44.8167,20.4667],nis:[43.321,21.896],slovakia:[48.667,19.5],bratislava:[48.15,17.117],slovenia:[46.134,14.766],ljubljana:[46.056,14.508],spain:[40,-1],barcelona:[41.3837,2.1829],mallorca:[39.6167,2.9833],majorca:[39.6167,2.9833],schweiz:[46.8,8.2333],suisse:[46.8,8.2333],basel:[47.5581,7.5877],bern:[46.948,7.4474],biel:[47.1368,7.2467],lausanne:[46.5194,6.6345],luzern:[47.0521,8.3059],zuerich:[47.3717,8.5423],genf:[46.2,6.15],winterthur:[47.5,8.75],"st-gallen":[47.4236,9.3775],lugano:[46.008,8.9557],sweden:[63,16],stockholm:[59.3294,18.0686],ukraine:[49,32],kiev:[50.43,30.5233],lviv:[49.83,24.0142],"united-kingdom":[55,-4],bristol:[51.45,-2.5833],eastbourne:[50.8,.34],london:[51.5072,-.1275],cameroon:[7.5,12],yaounde:[3.8667,11.5167],egypt:[27,31],cairo:[30.044,31.236],kenya:[0,38],nairobi:[-1.2833,36.8167],nigeria:[9,8],abuja:[9.067,7.483],tanzania:[-6.307,34.854],"dar-es-salaam":[-6.8,39.283333],"south-africa":[-28.65,25],pretoria:[-25.746,28.188],bloemfontain:[-29.117,26.217],"cape-town":[-33.925,18.424],argentina:[-39,-63],"buenos-aires":[-34.6,-58.383],bolivia:[-16.712,-64.666],"la-paz":[-16.5,-68.15],sucre:[-19.05,-65.25],brazil:[-13,-52],brasilia:[-15.7817,-47.9],"sao-paulo":[-23.55,-46.633],canada:[70,-95],chile:[-38,-71],santiago:[-33.46,-70.6],colombia:[4,-72],bogota:[4.66,-74.0722],"costa-rica":[9.5,-84],"dominican-republic":[19,-70.6667],"santo-domingo":[18.4667,-69.95],"puerto-plata":[19.803,-70.683],guatemala:[15.5,-90.25],"guatemala-city":[14.613,-90.535],haiti:[19,-72.417],"port-au-prince":[18.533,-72.333],mexico:[23,-102],"mexico-city":[19.433,-99.133],peru:[-8.233,-76.017],lima:[-12.043333,-77.028333],usa:[40,-100],"united-states":[40,-100],portland:[45.52,-122.6819],brunei:[4.6,114.7],china:[32.8,103.08],beijing:[39.92,116.38],hongkong:[22.352,114.196],india:[21,78],mumbai:[19,72.83],iraq:[33,44],baghdad:[33.33,44.43],israel:[31,35],jerusalem:[31.783,35.217],"tel-aviv":[32.067,34.783],japan:[35,136],tokyo:[35.683,139.767],jordan:[31.24,36.51],amman:[31.95,35.933],kyrgyzstan:[41.267,74.983],bishkek:[42.867,74.567],malaysia:[4.5,108.8],"kuala-lumpur":[3.141,101.698],putrajaya:[2.943,101.699],nepal:[28.25,83.9167],kathmandu:[27.7,85.3167],Oman:[21,57],muscat:[23.6,58.583],"republic-of-korea":[36,128],seoul:[37.55,126.967],taiwan:[23.63,121.0532],tajikistan:[38.583,71.367],dushanbe:[38.56,68.774],thailand:[15.4,101.3],turkey:[39,35],ankara:[39.9,32.8],istanbul:[41,29],"united-arab-emirates":[24,54],uae:[24,54],dubai:[25.2667,55.3],vietnam:[16,107],hanoi:[21.0333,105.85],australia:[-25,135],adelaide:[-34.929,138.601],brisbane:[-27.467,153.033],canberra:[-35.3075,149.124417],darwin:[-12.45,130.833],hobart:[-42.881,147.325],melbourne:[-37.814,144.963],perth:[-31.952,115.859],sydney:[-33.865,151.209],"new-zealand":[-44,173],wellington:[-41.3,174.79],world:[0,0]}},function(t,e){t.exports={europe:4,deutschland:6,germany:6,"baden-wuerttemberg":8,bayern:7,brandenburg:7,hessen:8,"mecklenburg-vorpommern":8,niedersachsen:8,"nordrhein-westfalen":8,"rheinland-pfalz":8,saarland:10,sachsen:9,"sachsen-anhalt":8,"schleswig-holstein":8,thueringen:8,ruhrgebiet:9,albania:7,oesterreich:7,austria:7,belarus:6,belgium:8,"bosnia-and-herzegovina":8,bulgaria:7,sofia:12,croatia:7,cyprus:9,"czech-republic":8,denmark:7,france:6,alsace:8,finland:5,greece:6,hungary:7,ireland:7,italy:6,italia:6,sicily:8,sicilia:8,kosovo:8,latvia:7,liechtenstein:11,luxembourg:9,macedonia:9,netherlands:7,norway:4,poland:6,warsaw:10,portugal:7,lisbon:10,romania:7,russia:3,moskow:10,spb:10,serbia:7,slovakia:8,slovenia:8,spain:6,mallorca:10,majorca:10,schweiz:8,suisse:8,sweden:4,ukraine:6,"united-kingdom":5,london:10,cameroon:6,egypt:6,kenya:6,nigeria:6,tanzania:6,"south-africa":6,argentina:4,"buenos-aires":10,bolivia:6,brazil:4,brasilia:10,"sao-paulo":10,canada:3,chile:4,santiago:10,colombia:5,"costa-rica":8,"dominican-republic":8,guatemala:7,haiti:8,mexico:5,peru:5,usa:4,"united-states":4,brunei:9,china:4,beijing:9,india:5,mumbai:11,iraq:6,israel:7,japan:5,tokyo:9,jordan:7,kyrgyzstan:7,malaysia:6,nepal:7,oman:6,"republic-of-korea":7,taiwan:8,tajikistan:[7],thailand:5,turkey:6,"united-arab-emirates":7,uae:7,dubai:10,vietnam:6,australia:4,adelaide:10,brisbane:10,melbourne:10,perth:10,sydney:10,"new-zealand":[5],world:2}},,,,,,function(t,e,n){
/* @preserve
 * Leaflet 1.6.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t){"use strict";var e=Object.freeze;function n(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}Object.freeze=function(t){return t};var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function a(t){return t._leaflet_id=t._leaflet_id||++r,t._leaflet_id}function s(t,e,n){var i,o,r,a;return a=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}}function u(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function l(){return!1}function h(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return c(t).split(/\s+/)}function d(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var _=/\{ *([\w_-]+) *\}/g;function m(t,e){return t.replace(_,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var P=window.requestAnimationFrame||b("RequestAnimationFrame")||x,M=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||P!==x)return P.call(window,o(t,e));t.call(e)}function k(t){t&&M.call(window,t)}var S=(Object.freeze||Object)({freeze:e,extend:n,create:i,bind:o,lastId:r,stamp:a,throttle:s,wrapNum:u,falseFn:l,formatNum:h,trim:c,splitWords:f,setOptions:d,getParamString:p,template:m,isArray:v,indexOf:g,emptyImageUrl:y,requestFn:P,cancelFn:M,requestAnimFrame:T,cancelAnimFrame:k});function A(){}A.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,r=i(o);for(var a in r.constructor=e,e.prototype=r,this)this.hasOwnProperty(a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),n.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=n(i(r.options),t.options)),n(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},A.include=function(t){return n(this.prototype,t),this},A.mergeOptions=function(t){return n(this.prototype.options,t),this},A.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var z={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=f(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var o=0,r=(t=f(t)).length;o<r;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,a=0,s=r.length;a<s;a++)if(r[a].fn===e&&r[a].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var a=i[o];if(a.ctx===n&&a.fn===e)return a.fn=l,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=l;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,s=r.length;a<s;a++){var u=r[a];u.fn.call(u.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var r=o((function(){this.off(t,e,n).off(t,r,n)}),this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var C=A.extend(z);function E(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var I=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function O(t,e,n){return t instanceof E?t:v(t)?new E(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new E(t.x,t.y):new E(t,e,n)}function B(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function D(t,e){return!t||t instanceof B?t:new B(t,e)}function Z(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function j(t,e){return t instanceof Z?t:new Z(t,e)}function N(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function R(t,e,n){return t instanceof N?t:v(t)&&"object"!=typeof t[0]?3===t.length?new N(t[0],t[1],t[2]):2===t.length?new N(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new N(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new N(t,e,n)}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new E(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new E(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(t){var e=(t=O(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=O(t)).x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}},B.prototype={extend:function(t){return t=O(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new E((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new E(this.min.x,this.max.y)},getTopRight:function(){return new E(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof E?O(t):D(t))instanceof B?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=D(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,a=o.y>=e.y&&i.y<=n.y;return r&&a},overlaps:function(t){t=D(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,a=o.y>e.y&&i.y<n.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},Z.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof N)e=t,n=t;else{if(!(t instanceof Z))return t?this.extend(R(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new N(e.lat,e.lng),this._northEast=new N(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new Z(new N(e.lat-i,e.lng-o),new N(n.lat+i,n.lng+o))},getCenter:function(){return new N((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new N(this.getNorth(),this.getWest())},getSouthEast:function(){return new N(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof N||"lat"in t?R(t):j(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof Z?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,a=o.lng>=e.lng&&i.lng<=n.lng;return r&&a},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,a=o.lng>e.lng&&i.lng<n.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},N.prototype={equals:function(t,e){return!!t&&(t=R(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+h(this.lat,t)+", "+h(this.lng,t)+")"},distanceTo:function(t){return F.distance(this,R(t))},wrap:function(){return F.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new N(this.lat,this.lng,this.alt)}};var U,H={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new B(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new N(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),a=t.getNorthEast();return new Z(new N(r.lat-i,r.lng-o),new N(a.lat-i,a.lng-o))}},F=n({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=r*r+Math.cos(i)*Math.cos(o)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),W={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new E(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new N((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(U=6378137*Math.PI,new B([-U,-U],[U,U]))};function q(t,e,n,i){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function V(t,e,n,i){return new q(t,e,n,i)}q.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new E((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G=n({},F,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return V(t,.5,-t,.5)}()}),Y=n({},G,{code:"EPSG:900913"});function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Q(t,e){var n,i,o,r,a,s,u="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(a=t[n]).length;i<r;i++)u+=(i?"L":"M")+(s=a[i]).x+" "+s.y;u+=e?St?"z":"x":""}return u||"M0 0"}var $=document.documentElement.style,X="ActiveXObject"in window,J=X&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=zt("webkit"),nt=zt("android"),it=zt("android 2")||zt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=nt&&zt("Google")&&ot<537&&!("AudioNode"in window),at=!!window.opera,st=zt("chrome"),ut=zt("gecko")&&!et&&!at&&!X,lt=!st&&zt("safari"),ht=zt("phantom"),ct="OTransition"in $,ft=0===navigator.platform.indexOf("Win"),dt=X&&"transition"in $,pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,_t="MozPerspective"in $,mt=!window.L_DISABLE_3D&&(dt||pt||_t)&&!ct&&!ht,vt="undefined"!=typeof orientation||zt("mobile"),gt=vt&&et,yt=vt&&pt,bt=!window.PointerEvent&&window.MSPointerEvent,wt=!(et||!window.PointerEvent&&!bt),xt=!window.L_NO_TOUCH&&(wt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Lt=vt&&at,Pt=vt&&ut,Mt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(t){}return t},kt=!!document.createElement("canvas").getContext,St=!(!document.createElementNS||!K("svg").createSVGRect),At=!St&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function zt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ct=(Object.freeze||Object)({ie:X,ielt9:J,edge:tt,webkit:et,android:nt,android23:it,androidStock:rt,opera:at,chrome:st,gecko:ut,safari:lt,phantom:ht,opera12:ct,win:ft,ie3d:dt,webkit3d:pt,gecko3d:_t,any3d:mt,mobile:vt,mobileWebkit:gt,mobileWebkit3d:yt,msPointer:bt,pointer:wt,touch:xt,mobileOpera:Lt,mobileGecko:Pt,retina:Mt,passiveEvents:Tt,canvas:kt,svg:St,vml:At}),Et=bt?"MSPointerDown":"pointerdown",It=bt?"MSPointerMove":"pointermove",Ot=bt?"MSPointerUp":"pointerup",Bt=bt?"MSPointerCancel":"pointercancel",Dt=["INPUT","SELECT","OPTION"],Zt={},jt=!1,Nt=0;function Rt(t,e,n,i){return"touchstart"===e?function(t,e,n){var i=o((function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Dt.indexOf(t.target.tagName)<0))return;Ze(t)}Wt(t,e)}));t["_leaflet_touchstart"+n]=i,t.addEventListener(Et,i,!1),jt||(document.documentElement.addEventListener(Et,Ut,!0),document.documentElement.addEventListener(It,Ht,!0),document.documentElement.addEventListener(Ot,Ft,!0),document.documentElement.addEventListener(Bt,Ft,!0),jt=!0)}(t,n,i):"touchmove"===e?function(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Wt(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(It,i,!1)}(t,n,i):"touchend"===e&&function(t,e,n){var i=function(t){Wt(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(Ot,i,!1),t.addEventListener(Bt,i,!1)}(t,n,i),this}function Ut(t){Zt[t.pointerId]=t,Nt++}function Ht(t){Zt[t.pointerId]&&(Zt[t.pointerId]=t)}function Ft(t){delete Zt[t.pointerId],Nt--}function Wt(t,e){for(var n in t.touches=[],Zt)t.touches.push(Zt[n]);t.changedTouches=[t],e(t)}var qt=bt?"MSPointerDown":wt?"pointerdown":"touchstart",Vt=bt?"MSPointerUp":wt?"pointerup":"touchend",Gt="_leaflet_";function Yt(t,e,n){var i,o,r=!1;function a(t){var e;if(wt){if(!tt||"mouse"===t.pointerType)return;e=Nt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(i||n);o=t.touches?t.touches[0]:t,r=a>0&&a<=250,i=n}}function s(t){if(r&&!o.cancelBubble){if(wt){if(!tt||"mouse"===t.pointerType)return;var n,a,s={};for(a in o)n=o[a],s[a]=n&&n.bind?n.bind(o):n;o=s}o.type="dblclick",o.button=0,e(o),i=null}}return t[Gt+qt+n]=a,t[Gt+Vt+n]=s,t[Gt+"dblclick"+n]=e,t.addEventListener(qt,a,!!Tt&&{passive:!1}),t.addEventListener(Vt,s,!!Tt&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function Kt(t,e){var n=t[Gt+qt+e],i=t[Gt+Vt+e],o=t[Gt+"dblclick"+e];return t.removeEventListener(qt,n,!!Tt&&{passive:!1}),t.removeEventListener(Vt,i,!!Tt&&{passive:!1}),tt||t.removeEventListener("dblclick",o,!1),this}var Qt,$t,Xt,Jt,te,ee=ve(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ne=ve(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ie="webkitTransition"===ne||"OTransition"===ne?ne+"End":"transitionend";function oe(t){return"string"==typeof t?document.getElementById(t):t}function re(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function ae(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function le(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function he(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=_e(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function fe(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!ce(t,e)){var r=_e(t);pe(t,(r?r+" ":"")+e)}}function de(t,e){void 0!==t.classList?t.classList.remove(e):pe(t,c((" "+_e(t)+" ").replace(" "+e+" "," ")))}function pe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function _e(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function ve(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ge(t,e,n){var i=e||new E(0,0);t.style[ee]=(dt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function ye(t,e){t._leaflet_pos=e,mt?ge(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function be(t){return t._leaflet_pos||new E(0,0)}if("onselectstart"in document)Qt=function(){Ae(window,"selectstart",Ze)},$t=function(){Ce(window,"selectstart",Ze)};else{var we=ve(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qt=function(){if(we){var t=document.documentElement.style;Xt=t[we],t[we]="none"}},$t=function(){we&&(document.documentElement.style[we]=Xt,Xt=void 0)}}function xe(){Ae(window,"dragstart",Ze)}function Le(){Ce(window,"dragstart",Ze)}function Pe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Me(),Jt=t,te=t.style.outline,t.style.outline="none",Ae(window,"keydown",Me))}function Me(){Jt&&(Jt.style.outline=te,Jt=void 0,te=void 0,Ce(window,"keydown",Me))}function Te(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function ke(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Se=(Object.freeze||Object)({TRANSFORM:ee,TRANSITION:ne,TRANSITION_END:ie,get:oe,getStyle:re,create:ae,remove:se,empty:ue,toFront:le,toBack:he,hasClass:ce,addClass:fe,removeClass:de,setClass:pe,getClass:_e,setOpacity:me,testProp:ve,setTransform:ge,setPosition:ye,getPosition:be,disableTextSelection:Qt,enableTextSelection:$t,disableImageDrag:xe,enableImageDrag:Le,preventOutline:Pe,restoreOutline:Me,getSizedParentNode:Te,getScale:ke});function Ae(t,e,n,i){if("object"==typeof e)for(var o in e)Ee(t,o,e[o],n);else for(var r=0,a=(e=f(e)).length;r<a;r++)Ee(t,e[r],n,i);return this}var ze="_leaflet_events";function Ce(t,e,n,i){if("object"==typeof e)for(var o in e)Ie(t,o,e[o],n);else if(e)for(var r=0,a=(e=f(e)).length;r<a;r++)Ie(t,e[r],n,i);else{for(var s in t[ze])Ie(t,s,t[ze][s]);delete t[ze]}return this}function Ee(t,e,n,i){var o=e+a(n)+(i?"_"+a(i):"");if(t[ze]&&t[ze][o])return this;var r=function(e){return n.call(i||t,e||window.event)},s=r;wt&&0===e.indexOf("touch")?Rt(t,e,r,o):!xt||"dblclick"!==e||!Yt||wt&&st?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",r,!!Tt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,Ve(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",r,!1)):("click"===e&&nt&&(r=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=He&&n-He;i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?je(t):(He=n,e(t))}(t,s)}),t.addEventListener(e,r,!1)):"attachEvent"in t&&t.attachEvent("on"+e,r):Yt(t,r,o),t[ze]=t[ze]||{},t[ze][o]=r}function Ie(t,e,n,i){var o=e+a(n)+(i?"_"+a(i):""),r=t[ze]&&t[ze][o];if(!r)return this;wt&&0===e.indexOf("touch")?function(t,e,n){var i=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Et,i,!1):"touchmove"===e?t.removeEventListener(It,i,!1):"touchend"===e&&(t.removeEventListener(Ot,i,!1),t.removeEventListener(Bt,i,!1))}(t,e,o):!xt||"dblclick"!==e||!Kt||wt&&st?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!!Tt&&{passive:!1}):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r):Kt(t,o),t[ze][o]=null}function Oe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,qe(t),this}function Be(t){return Ee(t,"mousewheel",Oe),this}function De(t){return Ae(t,"mousedown touchstart dblclick",Oe),Ee(t,"click",We),this}function Ze(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function je(t){return Ze(t),Oe(t),this}function Ne(t,e){if(!e)return new E(t.clientX,t.clientY);var n=ke(e),i=n.boundingClientRect;return new E((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Re=ft&&st?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function Ue(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Re:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var He,Fe={};function We(t){Fe[t.type]=!0}function qe(t){var e=Fe[t.type];return Fe[t.type]=!1,e}function Ve(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ge=(Object.freeze||Object)({on:Ae,off:Ce,stopPropagation:Oe,disableScrollPropagation:Be,disableClickPropagation:De,preventDefault:Ze,stop:je,getMousePosition:Ne,getWheelDelta:Ue,fakeStop:We,skipped:qe,isExternalTarget:Ve,addListener:Ae,removeListener:Ce}),Ye=C.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=be(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ye(this._el,n),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ke=C.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(R(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ne&&mt&&!Lt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ae(this._proxy,ie,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(R(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof E?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),a=this.containerPointToLatLng(o.add(r));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=O(e.paddingTopLeft||e.padding||[0,0]),i=O(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),s=this.project(t.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=O(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ye,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){fe(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!mt)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),a=this._zoom;t=R(t),e=void 0===e?a:e;var s=Math.max(r.x,r.y),u=s*this.getZoomScale(a,e),l=o.distanceTo(i)||1;function h(t){var e=(u*u-s*s+2.0164*(t?-1:1)*2.0164*l*l)/(2*(t?u:s)*2.0164*l),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function c(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var d=h(0);function p(t){return s*(f(d)*(c(e=d+1.42*t)/f(e))-c(d))/2.0164;var e}var _=Date.now(),m=(h(1)-d)/1.42,v=n.duration?1e3*n.duration:1e3*m*.8;return this._moveStart(!0,n.noMoveStart),function n(){var r=(Date.now()-_)/v,u=function(t){return 1-Math.pow(1-t,1.5)}(r)*m;r<=1?(this._flyToFrame=T(n,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(p(u)/l)),a),this.getScaleZoom(s/function(t){return s*(f(d)/f(d+1.42*t))}(u),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=j(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=O((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=O(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),a=this.project(t),s=this.getPixelBounds(),u=s.getSize().divideBy(2),l=D([s.min.add(n),s.max.subtract(i)]);if(!l.contains(a)){this._enforcingBounds=!0;var h=r.subtract(a),c=O(a.x+h.x,a.y+h.y);(a.x<l.min.x||a.x>l.max.x)&&(c.x=r.x-h.x,h.x>0?c.x+=u.x-n.x:c.x-=u.x-i.x),(a.y<l.min.y||a.y>l.max.y)&&(c.y=r.y-h.y,h.y>0?c.y+=u.y-n.y:c.y-=u.y-i.y),this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),r=e.divideBy(2).round(),a=i.divideBy(2).round(),s=r.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),i=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new N(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(r[a]=t.coords[a]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ae("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new Z(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=O(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),l=D(this.project(s,i),this.project(a,i)).getSize(),h=mt?this.options.zoomSnap:1,c=u.x/l.x,f=u.y/l.y,d=e?Math.max(c,f):Math.min(c,f);return i=this.getScaleZoom(d,i),h&&(i=Math.round(i/(h/100))*(h/100),i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new B(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(R(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(O(t),e)},layerPointToLatLng:function(t){var e=O(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(R(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(R(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(R(t),R(e))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(R(t)))},mouseEventToContainerPoint:function(t){return Ne(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=oe(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ae(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt,fe(t,"leaflet-container"+(xt?" leaflet-touch":"")+(Mt?" leaflet-retina":"")+(J?" leaflet-oldie":"")+(lt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=re(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ye(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(t.markerPane,"leaflet-zoom-hide"),fe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ye(this._mapPane,new E(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ye(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Ce:Ae;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),mt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,s=!1;r;){if((n=this._targets[a(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!Ve(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||s||o||!Ve(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!qe(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Pe(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var o=n({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var r=i[0];"contextmenu"===e&&r.listens(e,!0)&&Ze(t);var a={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var s=r.getLatLng&&(!r._radius||r._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?r.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<i.length;u++)if(i[u].fire(e,a,!0),a.originalEvent._stopped||!1===i[u].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return be(this._mapPane)||new E(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return D([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new B(i.subtract(o),i.add(o)),a=this._getBoundsOffset(r,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new B(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=D(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new E(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=mt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){de(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ee,n=this._proxy.style[e];ge(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ge(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(T((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&de(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T((function(){this._moveEnd(!0)}),this))}}),Qe=A.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return fe(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),$e=function(t){return new Qe(t)};Ke.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ae("div",e+"control-container",this._container);function i(i,o){var r=e+i+" "+e+o;t[i+o]=ae("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xe=Qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Qe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):de(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return de(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ae("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),De(e),Be(e);var i=this._section=ae("section",t+"-list");n&&(this._map.on("click",this.collapse,this),nt||Ae(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ae("a",t+"-toggle",e);o.href="#",o.title="Layers",xt?(Ae(o,"click",je),Ae(o,"click",this.expand,this)):Ae(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ae("div",t+"-base",i),this._separator=ae("div",t+"-separator",i),this._overlaysList=ae("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(o((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ue(this._baseLayersList),ue(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(e),e.layerId=a(t.layer),Ae(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Je=Qe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ae("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=ae("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),De(r),Ae(r,"click",je),Ae(r,"click",o,this),Ae(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";de(this._zoomInButton,e),de(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&fe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&fe(this._zoomInButton,e)}});Ke.mergeOptions({zoomControl:!0}),Ke.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))}));var tn=Qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=ae("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ae("div",e,n)),t.imperial&&(this._iScale=ae("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),en=Qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),De(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ke.mergeOptions({attributionControl:!0}),Ke.addInitHook((function(){this.options.attributionControl&&(new en).addTo(this)})),Qe.Layers=Xe,Qe.Zoom=Je,Qe.Scale=tn,Qe.Attribution=en,$e.layers=function(t,e,n){return new Xe(t,e,n)},$e.zoom=function(t){return new Je(t)},$e.scale=function(t){return new tn(t)},$e.attribution=function(t){return new en(t)};var nn=A.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nn.addTo=function(t,e){return t.addHandler(e,this),this};var on,rn={Events:z},an=xt?"touchstart mousedown":"mousedown",sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},un={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ln=C.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){d(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ae(this._dragStartTarget,an,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(),Ce(this._dragStartTarget,an,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ce(this._element,"leaflet-zoom-anim")&&!(ln._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ln._dragging=this,this._preventOutline&&Pe(this._element),xe(),Qt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Te(this._element);this._startPoint=new E(e.clientX,e.clientY),this._parentScale=ke(n),Ae(document,un[t.type],this._onMove,this),Ae(document,sn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new E(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ze(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=be(this._element).subtract(n),fe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,k(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ye(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in de(document.body,"leaflet-dragging"),this._lastTarget&&(de(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),un)Ce(document,un[t],this._onMove,this),Ce(document,sn[t],this._onUp,this);Le(),$t(),this._moved&&this._moving&&(k(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ln._dragging=!1}});function hn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,o,r){var a,s,u,l=0;for(s=o+1;s<=r-1;s++)(u=_n(e[s],e[o],e[r],!0))>l&&(a=s,l=u);l>i&&(n[a]=1,t(e,n,i,o,a),t(e,n,i,a,r))}(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r}(t=function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)a=t[i],s=t[o],u=void 0,l=void 0,u=s.x-a.x,l=s.y-a.y,u*u+l*l>e&&(n.push(t[i]),o=i);var a,s,u,l;return o<r-1&&n.push(t[r-1]),n}(t,n),n)}function cn(t,e,n){return Math.sqrt(_n(t,e,n,!0))}function fn(t,e,n,i,o){var r,a,s,u=i?on:pn(t,n),l=pn(e,n);for(on=l;;){if(!(u|l))return[t,e];if(u&l)return!1;s=pn(a=dn(t,e,r=u||l,n,o),n),r===u?(t=a,u=s):(e=a,l=s)}}function dn(t,e,n,i,o){var r,a,s=e.x-t.x,u=e.y-t.y,l=i.min,h=i.max;return 8&n?(r=t.x+s*(h.y-t.y)/u,a=h.y):4&n?(r=t.x+s*(l.y-t.y)/u,a=l.y):2&n?(r=h.x,a=t.y+u*(h.x-t.x)/s):1&n&&(r=l.x,a=t.y+u*(l.x-t.x)/s),new E(r,a,o)}function pn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function _n(t,e,n,i){var o,r=e.x,a=e.y,s=n.x-r,u=n.y-a,l=s*s+u*u;return l>0&&((o=((t.x-r)*s+(t.y-a)*u)/l)>1?(r=n.x,a=n.y):o>0&&(r+=s*o,a+=u*o)),s=t.x-r,u=t.y-a,i?s*s+u*u:new E(r,a)}function mn(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function vn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(t)}var gn=(Object.freeze||Object)({simplify:hn,pointToSegmentDistance:cn,closestPointOnSegment:function(t,e,n){return _n(t,e,n)},clipSegment:fn,_getEdgeIntersection:dn,_getBitCode:pn,_sqClosestPointOnSegment:_n,isFlat:mn,_flat:vn});function yn(t,e,n){var i,o,r,a,s,u,l,h,c,f=[1,4,2,8];for(o=0,l=t.length;o<l;o++)t[o]._code=pn(t[o],e);for(a=0;a<4;a++){for(h=f[a],i=[],o=0,r=(l=t.length)-1;o<l;r=o++)s=t[o],u=t[r],s._code&h?u._code&h||((c=dn(u,s,h,e,n))._code=pn(c,e),i.push(c)):(u._code&h&&((c=dn(u,s,h,e,n))._code=pn(c,e),i.push(c)),i.push(s));t=i}return t}var bn=(Object.freeze||Object)({clipPolygon:yn}),wn={project:function(t){return new E(t.lng,t.lat)},unproject:function(t){return new N(t.y,t.x)},bounds:new B([-180,-90],[180,90])},xn={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),a=r*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),r/2);return i=-n*Math.log(Math.max(s,1e-10)),new E(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=r*Math.sin(s),e=Math.pow((1-e)/(1+e),r/2),s+=l=Math.PI/2-2*Math.atan(a*e)-s;return new N(s*n,t.x*n/i)}},Ln=(Object.freeze||Object)({LonLat:wn,Mercator:xn,SphericalMercator:W}),Pn=n({},F,{code:"EPSG:3395",projection:xn,transformation:function(){var t=.5/(Math.PI*xn.R);return V(t,.5,-t,.5)}()}),Mn=n({},F,{code:"EPSG:4326",projection:wn,transformation:V(1/180,1,-1/180,.5)}),Tn=n({},H,{projection:wn,transformation:V(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});H.Earth=F,H.EPSG3395=Pn,H.EPSG3857=G,H.EPSG900913=Y,H.EPSG4326=Mn,H.Simple=Tn;var kn=C.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ke.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=kn.extend({initialize:function(t,e){var n,i;if(d(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),An=Sn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Sn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Sn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Z;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),zn=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=O(i),r=O("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Mt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Cn=zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Cn.imagePath||(Cn.imagePath=this._detectIconPath()),(this.options.imagePath||Cn.imagePath)+zn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ae("div","leaflet-default-icon-path",document.body),e=re(t,"background-image")||re(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),En=nn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ln(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&de(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=be(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=D(a.min._subtract(s).add(o),a.max._subtract(s).subtract(o));if(!u.contains(r)){var l=O((Math.max(u.max.x,r.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,r.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,r.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,r.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),ye(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=be(e._icon),o=e._map.layerPointToLatLng(i);n&&ye(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),In=kn.extend({options:{icon:new Cn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=R(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=R(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),fe(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(fe(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ye(this._icon,t),this._shadow&&ye(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),En)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new En(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),On=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Bn=On.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=R(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=R(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return On.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new B(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Dn=Bn.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),d(this,e),this._latlng=R(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:On.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===F.distance){var o=Math.PI/180,r=this._mRadius/F.R/o,a=n.project([e+r,t]),s=n.project([e-r,t]),u=a.add(s).divideBy(2),l=n.unproject(u).lat,h=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(l*o))/(Math.cos(e*o)*Math.cos(l*o)))/o;(isNaN(h)||0===h)&&(h=r/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(h)?0:u.x-n.project([l,t-h]).x,this._radiusY=u.y-a.y}else{var c=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(c).x}this._updateBounds()}}),Zn=On.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=_n,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,h=u.length;l<h;l++){var c=r(t,e=u[l-1],n=u[l],!0);c<i&&(i=c,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<u-1;t++)if(o=s[t],r=s[t+1],(i+=n=o.distanceTo(r))>e)return a=(i-e)/n,this._map.layerPointToLatLng([r.x-a*(r.x-o.x),r.y-a*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=R(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Z,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=mn(t),i=0,o=t.length;i<o;i++)n?(e[i]=R(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new E(t,t);this._pxBounds=new B([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof N,a=t.length;if(r){for(o=[],i=0;i<a;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,a,s,u=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,r=(s=this._rings[e]).length;n<r-1;n++)(a=fn(s[n],s[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(a[0]),a[1]===s[n+1]&&n!==r-2||(u[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=hn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(a=(s=this._parts[n]).length)-1;i<a;o=i++)if((e||0!==i)&&cn(t,s[o],s[i])<=u)return!0;return!1}});Zn._flat=vn;var jn=Zn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,a,s,u,l=this._rings[0],h=l.length;if(!h)return null;for(r=a=s=0,t=0,e=h-1;t<h;e=t++)n=l[t],i=l[e],o=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*o,s+=(n.y+i.y)*o,r+=3*o;return u=0===r?l[0]:[a/r,s/r],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Zn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof N&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Zn.prototype._setLatLngs.call(this,t),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new E(e,e);if(t=new B(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=yn(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,a,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;o<s;o++)for(r=0,a=(u=(e=this._parts[o]).length)-1;r<u;a=r++)n=e[r],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||Zn.prototype._containsPoint.call(this,t,!0)}}),Nn=An.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=v(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=Rn(t,r);return a?(a.feature=Gn(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Rn(t,e){var n,i,o,r,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],l=e&&e.pointToLayer,h=e&&e.coordsToLatLng||Hn;if(!s&&!a)return null;switch(a.type){case"Point":return Un(l,t,n=h(s),e);case"MultiPoint":for(o=0,r=s.length;o<r;o++)n=h(s[o]),u.push(Un(l,t,n,e));return new An(u);case"LineString":case"MultiLineString":return i=Fn(s,"LineString"===a.type?0:1,h),new Zn(i,e);case"Polygon":case"MultiPolygon":return i=Fn(s,"Polygon"===a.type?1:2,h),new jn(i,e);case"GeometryCollection":for(o=0,r=a.geometries.length;o<r;o++){var c=Rn({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);c&&u.push(c)}return new An(u);default:throw new Error("Invalid GeoJSON object.")}}function Un(t,e,n,i){return t?t(e,n):new In(n,i&&i.markersInheritOptions&&i)}function Hn(t){return new N(t[1],t[0],t[2])}function Fn(t,e,n){for(var i,o=[],r=0,a=t.length;r<a;r++)i=e?Fn(t[r],e-1,n):(n||Hn)(t[r]),o.push(i);return o}function Wn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[h(t.lng,e),h(t.lat,e),h(t.alt,e)]:[h(t.lng,e),h(t.lat,e)]}function qn(t,e,n,i){for(var o=[],r=0,a=t.length;r<a;r++)o.push(e?qn(t[r],e-1,n,i):Wn(t[r],i));return!e&&n&&o.push(o[0]),o}function Vn(t,e){return t.feature?n({},t.feature,{geometry:e}):Gn(e)}function Gn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Yn={toGeoJSON:function(t){return Vn(this,{type:"Point",coordinates:Wn(this.getLatLng(),t)})}};function Kn(t,e){return new Nn(t,e)}In.include(Yn),Dn.include(Yn),Bn.include(Yn),Zn.include({toGeoJSON:function(t){var e=!mn(this._latlngs);return Vn(this,{type:(e?"Multi":"")+"LineString",coordinates:qn(this._latlngs,e?1:0,!1,t)})}}),jn.include({toGeoJSON:function(t){var e=!mn(this._latlngs),n=e&&!mn(this._latlngs[0]),i=qn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Vn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Sn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Vn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=Gn(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}})),n?Vn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Qn=Kn,$n=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&he(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ae("img");fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ge(this._image,n,e)},_reset:function(){var t=this._image,e=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ye(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Xn=$n.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ae("video");if(fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=o(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=n.length>0?i:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=ae("source");s.src=this._url[a],e.appendChild(s)}}}}),Jn=$n.extend({_initImage:function(){var t=this._image=this._url;fe(t,"leaflet-image-layer"),this._zoomAnimated&&fe(t,"leaflet-zoom-animated"),this.options.className&&fe(t,this.options.className),t.onselectstart=l,t.onmousemove=l}}),ti=kn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&me(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(o(se,void 0,this._container),200)):se(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=R(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&he(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof kn||(n=e,e=t),e instanceof An)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=O(this.options.offset),n=this._getAnchor();this._zoomAnimated?ye(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),ei=ti.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){ti.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof On||this._source.on("preclick",Oe))},onRemove:function(t){ti.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof On||this._source.off("preclick",Oe))},getEvents:function(){var t=ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ae("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ae("div",t+"-content-wrapper",e);if(this._contentNode=ae("div",t+"-content",n),De(n),Be(this._contentNode),Ae(n,"contextmenu",Oe),this._tipContainer=ae("div",t+"-tip-container",e),this._tip=ae("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ae("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Ae(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight;o&&i>o?(e.height=o+"px",fe(t,"leaflet-popup-scrolled")):de(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ye(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(re(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new E(this._containerLeft,-n-this._containerBottom);o._add(be(this._container));var r=t.layerPointToContainerPoint(o),a=O(this.options.autoPanPadding),s=O(this.options.autoPanPaddingTopLeft||a),u=O(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),h=0,c=0;r.x+i+u.x>l.x&&(h=r.x+i-l.x+u.x),r.x-h-s.x<0&&(h=r.x-s.x),r.y+n+u.y>l.y&&(c=r.y+n-l.y+u.y),r.y-c-s.y<0&&(c=r.y-s.y),(h||c)&&t.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),je(t)},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ke.mergeOptions({closePopupOnClick:!0}),Ke.include({openPopup:function(t,e,n){return t instanceof ei||(t=new ei(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),kn.include({bindPopup:function(t,e){return t instanceof ei?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new ei(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(je(t),e instanceof On?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ni=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){ti.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){ti.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=ti.prototype.getEvents.call(this);return xt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=O(this.options.offset),l=this._getAnchor();"top"===r?t=t.add(O(-a/2+u.x,-s+u.y+l.y,!0)):"bottom"===r?t=t.subtract(O(a/2-u.x,-u.y,!0)):"center"===r?t=t.subtract(O(a/2+u.x,s/2-l.y+u.y,!0)):"right"===r||"auto"===r&&o.x<i.x?(r="right",t=t.add(O(u.x+l.x,l.y-s/2+u.y,!0))):(r="left",t=t.subtract(O(a+l.x-u.x,s/2-l.y-u.y,!0))),de(n,"leaflet-tooltip-right"),de(n,"leaflet-tooltip-left"),de(n,"leaflet-tooltip-top"),de(n,"leaflet-tooltip-bottom"),fe(n,"leaflet-tooltip-"+r),ye(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ke.include({openTooltip:function(t,e,n){return t instanceof ni||(t=new ni(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),kn.include({bindTooltip:function(t,e){return t instanceof ni?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new ni(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),xt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ii=zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ue(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=O(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});zn.Default=Cn;var oi=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof E?t:new E(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!J){me(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);me(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(se(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),a=n-1,s=new E(+o,+r);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>i&&this._retainParent(o,r,a,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var a=new E(o,r);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();mt?ge(t.el,o,i):ye(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new B(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),a=[],s=this.options.keepBuffer,u=new B(o.getBottomLeft().subtract([s,-s]),o.getTopRight().add([s,-s]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var h=this._tiles[l].coords;h.z===this._tileZoom&&u.contains(new E(h.x,h.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var c=o.min.y;c<=o.max.y;c++)for(var f=o.min.x;f<=o.max.x;f++){var d=new E(f,c);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:a.push(d)}}if(a.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var _=document.createDocumentFragment();for(f=0;f<a.length;f++)this._addTile(a[f],_);this._level.el.appendChild(_)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new Z(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new E(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(se(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,J&&this.options.opacity<1&&me(t,this.options.opacity),nt&&!it&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&T(o(this._tileReady,this,t,null,r)),ye(r,n),this._tiles[i]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(me(n.el,0),k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(fe(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),J||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new E(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new B(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ri=oi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Mt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ae(n,"load",o(this._tileOnLoad,this,e,n)),Ae(n,"error",o(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Mt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return m(this._url,n(e,this.options))},_tileOnLoad:function(t,e){J?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=y,se(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return rt||e.el.setAttribute("src",y),oi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return oi.prototype._tileReady.call(this,t,e,n)}});function ai(t,e){return new ri(t,e)}var si=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);var r=(e=d(this,e)).detectRetina&&Mt?2:1,a=this.getTileSize();i.width=a.x*r,i.height=a.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ri.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=D(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,a=(this._wmsVersion>=1.3&&this._crs===Mn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),s=ri.prototype.getTileUrl.call(this,t);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});ri.WMS=si,ai.wms=function(t,e){return new si(t,e)};var ui=kn.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=be(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e).subtract(r),s=o.multiplyBy(-n).add(i).add(o).subtract(a);mt?ge(this._container,s,n):ye(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new B(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),li=ui.extend({getEvents:function(){var t=ui.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ui.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ae(t,"mousemove",this._onMouseMove,this),Ae(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ae(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,se(this._container),Ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ui.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Mt?2:1;ye(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Mt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ui.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,a=t._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(i=0,o=a[n].length;i<o;i++)r=a[n][i],u[i?"lineTo":"moveTo"](r.x,r.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(We(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(de(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(fe(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(L.bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function hi(t){return kt?new li(t):null}var ci=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),fi={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ui.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ci("shape");fe(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ci("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;se(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=ci("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=ci("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){le(t._container)},_bringToBack:function(t){he(t._container)}},di=At?ci:K,pi=ui.extend({getEvents:function(){var t=ui.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=di("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=di("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ui.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ye(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=di("path");t.options.className&&fe(e,t.options.className),t.options.interactive&&fe(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Q(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){le(t._path)},_bringToBack:function(t){he(t._path)}});function _i(t){return St||At?new pi(t):null}At&&pi.include(fi),Ke.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&hi(t)||_i(t)}});var mi=jn.extend({initialize:function(t,e){jn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pi.create=di,pi.pointsToPath=Q,Nn.geometryToLayer=Rn,Nn.coordsToLatLng=Hn,Nn.coordsToLatLngs=Fn,Nn.latLngToCoords=Wn,Nn.latLngsToCoords=qn,Nn.getFeature=Vn,Nn.asFeature=Gn,Ke.mergeOptions({boxZoom:!0});var vi=nn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Qt(),xe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ae(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new B(this._point,this._startPoint),n=e.getSize();ye(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(se(this._box),de(this._container,"leaflet-crosshair")),$t(),Le(),Ce(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ke.addInitHook("addHandler","boxZoom",vi),Ke.mergeOptions({doubleClickZoom:!0});var gi=nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ke.addInitHook("addHandler","doubleClickZoom",gi),Ke.mergeOptions({dragging:!0,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yi=nn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ln(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){de(this._map._container,"leaflet-grab"),de(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,a=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/r),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),h=s.multiplyBy(l/u),c=l/(n.inertiaDeceleration*a),f=h.multiplyBy(-c/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),T((function(){e.panBy(f,{duration:c,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Ke.addInitHook("addHandler","dragging",yi),Ke.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bi=nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ae(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=O(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}je(t)}}});Ke.addInitHook("addHandler","keyboard",bi),Ke.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wi=nn.extend({addHooks:function(){Ae(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ce(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ue(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),i),je(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,a=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Ke.addInitHook("addHandler","scrollWheelZoom",wi),Ke.mergeOptions({tap:!0,tapTolerance:15});var xi=nn.extend({addHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ze(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new E(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&fe(n,"leaflet-active"),this._holdTimeout=setTimeout(o((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Ae(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Ce(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&de(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new E(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});xt&&!wt&&Ke.addInitHook("addHandler","tap",xi),Ke.mergeOptions({touchZoom:xt&&!it,bounceAtZoomLimits:!0});var Li=nn.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend",this._onTouchEnd,this),Ze(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var s=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(s,this,!0),Ze(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),Ce(document,"touchmove",this._onTouchMove),Ce(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ke.addInitHook("addHandler","touchZoom",Li),Ke.BoxZoom=vi,Ke.DoubleClickZoom=gi,Ke.Drag=yi,Ke.Keyboard=bi,Ke.ScrollWheelZoom=wi,Ke.Tap=xi,Ke.TouchZoom=Li,Object.freeze=e,t.version="1.6.0",t.Control=Qe,t.control=$e,t.Browser=Ct,t.Evented=C,t.Mixin=rn,t.Util=S,t.Class=A,t.Handler=nn,t.extend=n,t.bind=o,t.stamp=a,t.setOptions=d,t.DomEvent=Ge,t.DomUtil=Se,t.PosAnimation=Ye,t.Draggable=ln,t.LineUtil=gn,t.PolyUtil=bn,t.Point=E,t.point=O,t.Bounds=B,t.bounds=D,t.Transformation=q,t.transformation=V,t.Projection=Ln,t.LatLng=N,t.latLng=R,t.LatLngBounds=Z,t.latLngBounds=j,t.CRS=H,t.GeoJSON=Nn,t.geoJSON=Kn,t.geoJson=Qn,t.Layer=kn,t.LayerGroup=Sn,t.layerGroup=function(t,e){return new Sn(t,e)},t.FeatureGroup=An,t.featureGroup=function(t){return new An(t)},t.ImageOverlay=$n,t.imageOverlay=function(t,e,n){return new $n(t,e,n)},t.VideoOverlay=Xn,t.videoOverlay=function(t,e,n){return new Xn(t,e,n)},t.SVGOverlay=Jn,t.svgOverlay=function(t,e,n){return new Jn(t,e,n)},t.DivOverlay=ti,t.Popup=ei,t.popup=function(t,e){return new ei(t,e)},t.Tooltip=ni,t.tooltip=function(t,e){return new ni(t,e)},t.Icon=zn,t.icon=function(t){return new zn(t)},t.DivIcon=ii,t.divIcon=function(t){return new ii(t)},t.Marker=In,t.marker=function(t,e){return new In(t,e)},t.TileLayer=ri,t.tileLayer=ai,t.GridLayer=oi,t.gridLayer=function(t){return new oi(t)},t.SVG=pi,t.svg=_i,t.Renderer=ui,t.Canvas=li,t.canvas=hi,t.Path=On,t.CircleMarker=Bn,t.circleMarker=function(t,e){return new Bn(t,e)},t.Circle=Dn,t.circle=function(t,e,n){return new Dn(t,e,n)},t.Polyline=Zn,t.polyline=function(t,e){return new Zn(t,e)},t.Polygon=jn,t.polygon=function(t,e){return new jn(t,e)},t.Rectangle=mi,t.rectangle=function(t,e){return new mi(t,e)},t.Map=Ke,t.map=function(t,e){return new Ke(t,e)};var Pi=window.L;t.noConflict=function(){return window.L=Pi,this},window.L=t}(e)},function(t,e){!function(t){var e,n=(e=t.documentMode,"onhashchange"in t&&(void 0===e||e>7));L.Hash=function(t){this.onHashChange=L.Util.bind(this.onHashChange,this),t&&this.init(t)},L.Hash.parseHash=function(t){0===t.indexOf("#")&&(t=t.substr(1));var e=t.split("/");if(3==e.length){var n=parseInt(e[0],10),i=parseFloat(e[1]),o=parseFloat(e[2]);return!(isNaN(n)||isNaN(i)||isNaN(o))&&{center:new L.LatLng(i,o),zoom:n}}return!1},L.Hash.formatHash=function(t){var e=t.getCenter(),n=t.getZoom(),i=Math.max(0,Math.ceil(Math.log(n)/Math.LN2));return"#"+[n,e.lat.toFixed(i),e.lng.toFixed(i)].join("/")},L.Hash.prototype={map:null,lastHash:null,parseHash:L.Hash.parseHash,formatHash:L.Hash.formatHash,init:function(t){this.map=t,this.lastHash=null,this.onHashChange(),this.isListening||this.startListening()},removeFrom:function(t){this.changeTimeout&&clearTimeout(this.changeTimeout),this.isListening&&this.stopListening(),this.map=null},onMapMove:function(){if(this.movingMap||!this.map._loaded)return!1;var t=this.formatHash(this.map);this.lastHash!=t&&(location.replace(t),this.lastHash=t)},movingMap:!1,update:function(){var t=location.hash;if(t!==this.lastHash){var e=this.parseHash(t);e?(this.movingMap=!0,this.map.setView(e.center,e.zoom),this.movingMap=!1):this.onMapMove(this.map)}},changeDefer:100,changeTimeout:null,onHashChange:function(){if(!this.changeTimeout){var t=this;this.changeTimeout=setTimeout((function(){t.update(),t.changeTimeout=null}),this.changeDefer)}},isListening:!1,hashChangeInterval:null,startListening:function(){this.map.on("moveend",this.onMapMove,this),n?L.DomEvent.addListener(t,"hashchange",this.onHashChange):(clearInterval(this.hashChangeInterval),this.hashChangeInterval=setInterval(this.onHashChange,50)),this.isListening=!0},stopListening:function(){this.map.off("moveend",this.onMapMove,this),n?L.DomEvent.removeListener(t,"hashchange",this.onHashChange):clearInterval(this.hashChangeInterval),this.isListening=!1}},L.hash=function(t){return new L.Hash(t)},L.Map.prototype.addHash=function(){this._hash=L.hash(this)},L.Map.prototype.removeHash=function(){this._hash.removeFrom()}}(window)},function(t,e,n){},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";L.DomUtil.setTransform||(L.DomUtil.setTransform=function(t,e,n){var i=e||new L.Point(0,0);t.style[L.DomUtil.TRANSFORM]=(L.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}),L.CanvasLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t){this._map=null,this._canvas=null,this._frame=null,this._delegate=null,L.setOptions(this,t)},delegate:function(t){return this._delegate=t,this},needRedraw:function(){return this._frame||(this._frame=L.Util.requestAnimFrame(this.drawLayer,this)),this},_onLayerDidResize:function(t){this._canvas.width=t.newSize.x,this._canvas.height=t.newSize.y},_onLayerDidMove:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t),this.drawLayer()},getEvents:function(){var t={resize:this._onLayerDidResize,moveend:this._onLayerDidMove};return this._map.options.zoomAnimation&&L.Browser.any3d&&(t.zoomanim=this._animateZoom),t},onAdd:function(t){console.log("canvas onAdd",this),this._map=t,this._canvas=L.DomUtil.create("canvas","leaflet-layer"),this.tiles={};var e=this._map.getSize();this._canvas.width=e.x,this._canvas.height=e.y;var n=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(n?"animated":"hide")),this.options.pane.appendChild(this._canvas),t.on(this.getEvents(),this);var i=this._delegate||this;i.onLayerDidMount&&i.onLayerDidMount(),this.needRedraw();var o=this;setTimeout((function(){o._onLayerDidMove()}),0)},onRemove:function(t){var e=this._delegate||this;e.onLayerWillUnmount&&e.onLayerWillUnmount(),this.options.pane.removeChild(this._canvas),t.off(this.getEvents(),this),this._canvas=null},addTo:function(t){return t.addLayer(this),this},drawLayer:function(){var t=this._map.getSize(),e=this._map.getBounds(),n=this._map.getZoom(),i=this._map.options.crs.project(this._map.getCenter()),o=this._map.options.crs.project(this._map.containerPointToLatLng(this._map.getSize())),r=this._delegate||this;r.onDrawLayer&&r.onDrawLayer({layer:this,canvas:this._canvas,bounds:e,size:t,zoom:n,center:i,corner:o}),this._frame=null},_setTransform:function(t,e,n){var i=e||new L.Point(0,0);t.style[L.DomUtil.TRANSFORM]=(L.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=L.Layer?this._map._latLngToNewLayerPoint(this._map.getBounds().getNorthWest(),t.zoom,t.center):this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform(this._canvas,n,e)}}),L.canvasLayer=function(t){return new L.CanvasLayer(t)},L.Control.Velocity=L.Control.extend({options:{position:"bottomleft",emptyString:"Unavailable",angleConvention:"bearingCCW",speedUnit:"m/s",onAdd:null,onRemove:null},onAdd:function(t){return this._container=L.DomUtil.create("div","leaflet-control-velocity"),L.DomEvent.disableClickPropagation(this._container),t.on("mousemove",this._onMouseMove,this),this._container.innerHTML=this.options.emptyString,this.options.leafletVelocity.options.onAdd&&this.options.leafletVelocity.options.onAdd(),this._container},onRemove:function(t){t.off("mousemove",this._onMouseMove,this),this.options.leafletVelocity.options.onRemove&&this.options.leafletVelocity.options.onRemove()},vectorToSpeed:function(t,e,n){var i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2));return"k/h"===n?this.meterSec2kilometerHour(i):"kt"===n?this.meterSec2Knots(i):i},vectorToDegrees:function(t,e,n){n.endsWith("CCW")&&(e=e>0?e=-e:Math.abs(e));var i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),o=180*Math.atan2(t/i,e/i)/Math.PI+180;return"bearingCW"!==n&&"meteoCCW"!==n||(o+=180)>=360&&(o-=360),o},meterSec2Knots:function(t){return t/.514},meterSec2kilometerHour:function(t){return 3.6*t},_onMouseMove:function(t){var e=this.options.leafletVelocity._map.containerPointToLatLng(L.point(t.containerPoint.x,t.containerPoint.y)),n=this.options.leafletVelocity._windy.interpolatePoint(e.lng,e.lat),i="";i=n&&!isNaN(n[0])&&!isNaN(n[1])&&n[2]?"<strong>"+this.options.velocityType+" Direction: </strong>"+this.vectorToDegrees(n[0],n[1],this.options.angleConvention).toFixed(2)+"°, <strong>"+this.options.velocityType+" Speed: </strong>"+this.vectorToSpeed(n[0],n[1],this.options.speedUnit).toFixed(2)+this.options.speedUnit:this.options.emptyString,this._container.innerHTML=i}}),L.Map.mergeOptions({positionControl:!1}),L.Map.addInitHook((function(){this.options.positionControl&&(this.positionControl=new L.Control.MousePosition,this.addControl(this.positionControl))})),L.control.velocity=function(t){return new L.Control.Velocity(t)},L.VelocityLayer=(L.Layer?L.Layer:L.Class).extend({options:{displayValues:!0,displayOptions:{velocityType:"Velocity",position:"bottomleft",emptyString:"No velocity data"},maxVelocity:10,colorScale:null,data:null},_map:null,_canvasLayer:null,_windy:null,_context:null,_timer:0,_mouseControl:null,initialize:function(t){L.setOptions(this,t)},onAdd:function(t){this._paneName=this.options.paneName||"overlayPane";var e=t._panes.overlayPane;t.getPane&&((e=t.getPane(this._paneName))||(e=t.createPane(this._paneName))),this._canvasLayer=L.canvasLayer({pane:e}).delegate(this),this._canvasLayer.addTo(t),this._map=t},onRemove:function(t){this._destroyWind()},setData:function(t){this.options.data=t,this._windy&&(this._windy.setData(t),this._clearAndRestart()),this.fire("load")},setOpacity:function(t){console.log("this._canvasLayer",this._canvasLayer),this._canvasLayer.setOpacity(t)},setOptions:function(t){this.options=Object.assign(this.options,t),t.hasOwnProperty("displayOptions")&&(this.options.displayOptions=Object.assign(this.options.displayOptions,t.displayOptions),this._initMouseHandler(!0)),t.hasOwnProperty("data")&&(this.options.data=t.data),this._windy&&(this._windy.setOptions(t),t.hasOwnProperty("data")&&this._windy.setData(t.data),this._clearAndRestart()),this.fire("load")},onDrawLayer:function(t,e){var n=this;this._windy?this.options.data&&(this._timer&&clearTimeout(n._timer),this._timer=setTimeout((function(){n._startWindy()}),750)):this._initWindy(this)},_startWindy:function(){var t=this._map.getBounds(),e=this._map.getSize();this._windy.start([[0,0],[e.x,e.y]],e.x,e.y,[[t._southWest.lng,t._southWest.lat],[t._northEast.lng,t._northEast.lat]])},_initWindy:function(t){var e=Object.assign({canvas:t._canvasLayer._canvas,map:this._map},t.options);this._windy=new i(e),this._context=this._canvasLayer._canvas.getContext("2d"),this._canvasLayer._canvas.classList.add("velocity-overlay"),this.onDrawLayer(),this._map.on("dragstart",t._windy.stop),this._map.on("dragend",t._clearAndRestart),this._map.on("zoomstart",t._windy.stop),this._map.on("zoomend",t._clearAndRestart),this._map.on("resize",t._clearWind),this._initMouseHandler(!1)},_initMouseHandler:function(t){if(t&&(this._map.removeControl(this._mouseControl),this._mouseControl=!1),!this._mouseControl&&this.options.displayValues){var e=this.options.displayOptions||{};e.leafletVelocity=this,this._mouseControl=L.control.velocity(e).addTo(this._map)}},_clearAndRestart:function(){this._context&&this._context.clearRect(0,0,3e3,3e3),this._windy&&this._startWindy()},_clearWind:function(){this._windy&&this._windy.stop(),this._context&&this._context.clearRect(0,0,3e3,3e3)},_destroyWind:function(){this._timer&&clearTimeout(this._timer),this._windy&&this._windy.stop(),this._context&&this._context.clearRect(0,0,3e3,3e3),this._mouseControl&&this._map.removeControl(this._mouseControl),this._mouseControl=null,this._windy=null,this._map.removeLayer(this._canvasLayer)}}),L.velocityLayer=function(t){return new L.VelocityLayer(t)};var i=function(t){var e,n,i,o,r,a,s,u,l,h,c=t.minVelocity||0,f=t.maxVelocity||10,d=(t.velocityScale||.005)*(Math.pow(window.devicePixelRatio,1/3)||1),p=t.particleAge||90,_=t.lineWidth||1,m=t.particleMultiplier||1/300,v=Math.pow(window.devicePixelRatio,1/3)||1.6,g=t.frameRate||15,y=1e3/g,b=.97,w=t.colorScale||["rgb(36,104, 180)","rgb(60,157, 194)","rgb(128,205,193 )","rgb(151,218,168 )","rgb(198,231,181)","rgb(238,247,217)","rgb(255,238,159)","rgb(252,217,125)","rgb(255,182,100)","rgb(252,150,75)","rgb(250,112,52)","rgb(245,64,32)","rgb(237,45,28)","rgb(220,24,32)","rgb(180,0,35)"],x=[NaN,NaN,null],P=t.data,M=function(t,e,n,i,o,r){var a=1-t,s=1-e,u=a*s,l=t*s,h=a*e,c=t*e,f=n[0]*u+i[0]*l+o[0]*h+r[0]*c,d=n[1]*u+i[1]*l+o[1]*h+r[1]*c;return[f,d,Math.sqrt(f*f+d*d)]},T=function(t){var e=null,n=null;return t.forEach((function(t){switch(t.header.parameterCategory+","+t.header.parameterNumber){case"1,2":case"2,2":e=t;break;case"1,3":case"2,3":n=t;break;default:t}})),function(t,e){var n=t.data,i=e.data;return{header:t.header,data:function(t){return[n[t],i[t]]},interpolate:M}}(e,n)},k=function(t,i){if(!n)return null;var u,l=A(t-o,360)/a,h=(r-i)/s,c=Math.floor(l),f=c+1,d=Math.floor(h),p=d+1;if(u=n[d]){var _=u[c],m=u[f];if(S(_)&&S(m)&&(u=n[p])){var v=u[c],g=u[f];if(S(v)&&S(g))return e.interpolate(l-c,h-d,_,m,v,g)}}return null},S=function(t){return null!=t},A=function(t,e){return t-e*Math.floor(t/e)},z=function(t,e,n,i,o,r,a){var s=a[0]*r,u=a[1]*r,l=C(t,e,n,i,o);return a[0]=l[0]*s+l[2]*u,a[1]=l[1]*s+l[3]*u,a},C=function(t,e,n,i,o){var r=2*Math.PI,a=e<0?5:-5,s=n<0?5:-5,u=B(n,e+a),l=B(n+s,e),h=Math.cos(n/360*r);return[(u[0]-i)/a/h,(u[1]-o)/a/h,(l[0]-i)/s,(l[1]-o)/s]},E=function(t,e,n){function i(e,n){var i=t[Math.round(e)];return i&&i[Math.round(n)]||x}i.release=function(){t=[]},i.randomize=function(t){var n,o,r=0;do{n=Math.round(Math.floor(Math.random()*e.width)+e.x),o=Math.round(Math.floor(Math.random()*e.height)+e.y)}while(null===i(n,o)[2]&&r++<30);return t.x=n,t.y=o,t},n(e,i)},I=function(t){return t/180*Math.PI},O=function(e,n,i){var o=t.map.containerPointToLatLng(L.point(e,n));return[o.lng,o.lat]},B=function(e,n,i){var o=t.map.latLngToContainerPoint(L.latLng(e,n));return[o.x,o.y]},D=function(e,n){var i,o,r=(i=c,o=f,w.indexFor=function(t){return Math.max(0,Math.min(w.length-1,Math.round((t-i)/(o-i)*(w.length-1))))},w),a=r.map((function(){return[]})),s=Math.round(e.width*e.height*m);/android|blackberry|iemobile|ipad|iphone|ipod|opera mini|webos/i.test(navigator.userAgent)&&(s*=v);for(var u="rgba(0, 0, 0, ".concat(b,")"),l=[],d=0;d<s;d++)l.push(n.randomize({age:Math.floor(Math.random()*p)+0}));var g=t.canvas.getContext("2d");g.lineWidth=_,g.fillStyle=u,g.globalAlpha=.6;var x=Date.now();!function t(){h=requestAnimationFrame(t);var i=Date.now(),o=i-x;o>y&&(x=i-o%y,a.forEach((function(t){t.length=0})),l.forEach((function(t){t.age>p&&(n.randomize(t).age=0);var e=t.x,i=t.y,o=n(e,i),s=o[2];if(null===s)t.age=p;else{var u=e+o[0],l=i+o[1];null!==n(u,l)[2]?(t.xt=u,t.yt=l,a[r.indexFor(s)].push(t)):(t.x=u,t.y=l)}t.age+=1})),g.globalCompositeOperation="destination-in",g.fillRect(e.x,e.y,e.width,e.height),g.globalCompositeOperation="lighter",g.globalAlpha=0===b?0:.9*b,a.forEach((function(t,e){t.length>0&&(g.beginPath(),g.strokeStyle=r[e],t.forEach((function(t){g.moveTo(t.x,t.y),g.lineTo(t.xt,t.yt),t.x=t.xt,t.y=t.yt})),g.stroke())})))}()},Z=function(){j.field&&j.field.release(),h&&cancelAnimationFrame(h)},j={params:t,start:function(t,h,c,f){var p={south:I(f[0][1]),north:I(f[1][1]),east:I(f[1][0]),west:I(f[0][0]),width:h,height:c};Z(),function(t,h){var c=!0;t.length<2&&(c=!1),c||console.log("Windy Error: data must have at least two components (u,v)");var f=(e=T(t)).header;if(f.hasOwnProperty("gridDefinitionTemplate")&&0!=f.gridDefinitionTemplate&&(c=!1),c||console.log("Windy Error: Only data with Latitude_Longitude coordinates is supported"),c=!0,o=f.lo1,r=f.la1,a=f.dx,s=f.dy,u=f.nx,l=f.ny,f.hasOwnProperty("scanMode")){var d=f.scanMode.toString(2),p=(d=("0"+d).slice(-8)).split("").map(Number).map(Boolean);p[0]&&(a=-a),p[1]&&(s=-s),p[2]&&(c=!1),p[3]&&(c=!1),p[4]&&(c=!1),p[5]&&(c=!1),p[6]&&(c=!1),p[7]&&(c=!1),c||console.log("Windy Error: Data with scanMode: "+f.scanMode+" is not supported.")}(i=new Date(f.refTime)).setHours(i.getHours()+f.forecastTime),n=[];for(var _=0,m=Math.floor(u*a)>=360,v=0;v<l;v++){for(var g=[],y=0;y<u;y++,_++)g[y]=e.data(_);m&&g.push(g[0]),n[v]=g}h({date:i,interpolate:k})}(P,(function(e){!function(t,e,n,i){var o={},r=(n.south-n.north)*(n.west-n.east),a=d*Math.pow(r,.4),s=[],u=e.x;function l(n){for(var i=[],r=e.y;r<=e.yMax;r+=2){var u=O(n,r);if(u){var l=u[0],h=u[1];if(isFinite(l)){var c=t.interpolate(l,h);c&&(c=z(o,l,h,n,r,a,c),i[r+1]=i[r]=c)}}}s[n+1]=s[n]=i}!function t(){for(var n=Date.now();u<e.width;)if(l(u),u+=2,Date.now()-n>1e3)return void setTimeout(t,25);E(s,e,i)}()}(e,function(t,e,n){var i=t[0],o=t[1],r=Math.round(i[0]),a=Math.max(Math.floor(i[1],0),0);Math.min(Math.ceil(o[0],e),e-1);return{x:r,y:a,xMax:e,yMax:Math.min(Math.ceil(o[1],n),n-1),width:e,height:n}}(t,h,c),p,(function(t,e){j.field=e,D(t,e)}))}))},stop:Z,createField:E,interpolatePoint:k,setData:function(t){P=t},setOptions:function(t){t.hasOwnProperty("minVelocity")&&(c=t.minVelocity),t.hasOwnProperty("maxVelocity")&&(f=t.maxVelocity),t.hasOwnProperty("velocityScale")&&(d=(t.velocityScale||.005)*(Math.pow(window.devicePixelRatio,1/3)||1)),t.hasOwnProperty("particleAge")&&(p=t.particleAge),t.hasOwnProperty("lineWidth")&&(_=t.lineWidth),t.hasOwnProperty("particleMultiplier")&&(m=t.particleMultiplier),t.hasOwnProperty("opacity")&&(b=+t.opacity),t.hasOwnProperty("frameRate")&&(g=t.frameRate),y=1e3/g}};return j};window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})},function(t,e,n){},function(t,e,n){t.exports=n.p+"/robots.txt"},function(t,e){t.exports="images/lab_marker.png"},function(t,e){t.exports="images/lab_marker.svg"},function(t,e,n){t.exports=n.p+"/favicons/android-chrome-144x144.png"},function(t,e,n){t.exports=n.p+"/favicons/android-chrome-192x192.png"},function(t,e,n){t.exports=n.p+"/favicons/android-chrome-256x256.png"},function(t,e,n){t.exports=n.p+"/favicons/android-chrome-36x36.png"},function(t,e,n){t.exports=n.p+"/favicons/android-chrome-384x384.png"},function(t,e,n){t.exports=n.p+"/favicons/android-chrome-48x48.png"},function(t,e,n){t.exports=n.p+"/favicons/android-chrome-512x512.png"},function(t,e,n){t.exports=n.p+"/favicons/android-chrome-72x72.png"},function(t,e,n){t.exports=n.p+"/favicons/android-chrome-96x96.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-114x114-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-114x114.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-120x120-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-120x120.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-144x144-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-144x144.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-152x152-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-152x152.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-180x180-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-180x180.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-57x57-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-57x57.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-60x60-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-60x60.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-72x72-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-72x72.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-76x76-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-76x76.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon-precomposed.png"},function(t,e,n){t.exports=n.p+"/favicons/apple-touch-icon.png"},function(t,e,n){t.exports=n.p+"/favicons/browserconfig.xml"},function(t,e,n){t.exports=n.p+"/favicons/favicon-16x16.png"},function(t,e,n){t.exports=n.p+"/favicons/favicon-194x194.png"},function(t,e,n){t.exports=n.p+"/favicons/favicon-32x32.png"},function(t,e,n){t.exports=n.p+"/favicons/favicon.ico"},function(t,e,n){t.exports=n.p+"/favicons/mstile-144x144.png"},function(t,e,n){t.exports=n.p+"/favicons/mstile-150x150.png"},function(t,e,n){t.exports=n.p+"/favicons/mstile-310x150.png"},function(t,e,n){t.exports=n.p+"/favicons/mstile-310x310.png"},function(t,e,n){t.exports=n.p+"/favicons/mstile-70x70.png"},function(t,e,n){t.exports=n.p+"/favicons/safari-pinned-tab.svg"},function(t,e,n){t.exports=n.p+"/favicons/site.webmanifest"},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"hexbin",(function(){return l}));var o={};n.r(o),n.d(o,"create",(function(){return Lt})),n.d(o,"creator",(function(){return _})),n.d(o,"local",(function(){return Mt})),n.d(o,"matcher",(function(){return b})),n.d(o,"mouse",(function(){return At})),n.d(o,"namespace",(function(){return f})),n.d(o,"namespaces",(function(){return c})),n.d(o,"clientPoint",(function(){return St})),n.d(o,"select",(function(){return xt})),n.d(o,"selectAll",(function(){return zt})),n.d(o,"selection",(function(){return wt})),n.d(o,"selector",(function(){return v})),n.d(o,"selectorAll",(function(){return y})),n.d(o,"style",(function(){return Z})),n.d(o,"touch",(function(){return Ct})),n.d(o,"touches",(function(){return Et})),n.d(o,"window",(function(){return I})),n.d(o,"event",(function(){return ut})),n.d(o,"customEvent",(function(){return pt}));n(10),n(11),n(12);var r=Math.PI/3,a=[0,r,2*r,3*r,4*r,5*r];function s(t){return t[0]}function u(t){return t[1]}var l=function(){var t,e,n,i=0,o=0,l=1,h=1,c=s,f=u;function d(t){var i,o={},r=[],a=t.length;for(i=0;i<a;++i)if(!isNaN(u=+c.call(null,s=t[i],i,t))&&!isNaN(l=+f.call(null,s,i,t))){var s,u,l,h=Math.round(l/=n),d=Math.round(u=u/e-(1&h)/2),p=l-h;if(3*Math.abs(p)>1){var _=u-d,m=d+(u<d?-1:1)/2,v=h+(l<h?-1:1),g=u-m,y=l-v;_*_+p*p>g*g+y*y&&(d=m+(1&h?1:-1)/2,h=v)}var b=d+"-"+h,w=o[b];w?w.push(s):(r.push(w=o[b]=[s]),w.x=(d+(1&h)/2)*e,w.y=h*n)}return r}function p(t){var e=0,n=0;return a.map((function(i){var o=Math.sin(i)*t,r=-Math.cos(i)*t,a=o-e,s=r-n;return e=o,n=r,[a,s]}))}return d.hexagon=function(e){return"m"+p(null==e?t:+e).join("l")+"z"},d.centers=function(){for(var r=[],a=Math.round(o/n),s=Math.round(i/e),u=a*n;u<h+t;u+=n,++a)for(var c=s*e+(1&a)*e/2;c<l+e/2;c+=e)r.push([c,u]);return r},d.mesh=function(){var e=p(t).slice(0,4).join("l");return d.centers().map((function(t){return"M"+t+"m"+e})).join("")},d.x=function(t){return arguments.length?(c=t,d):c},d.y=function(t){return arguments.length?(f=t,d):f},d.radius=function(i){return arguments.length?(e=2*(t=+i)*Math.sin(r),n=1.5*t,d):t},d.size=function(t){return arguments.length?(i=o=0,l=+t[0],h=+t[1],d):[l-i,h-o]},d.extent=function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],l=+t[1][0],h=+t[1][1],d):[[i,o],[l,h]]},d.radius(1)},h="http://www.w3.org/1999/xhtml",c={svg:"http://www.w3.org/2000/svg",xhtml:h,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},f=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),c.hasOwnProperty(e)?{space:c[e],local:t}:t};function d(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===h&&e.documentElement.namespaceURI===h?e.createElement(t):e.createElementNS(n,t)}}function p(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var _=function(t){var e=f(t);return(e.local?p:d)(e)};function m(){}var v=function(t){return null==t?m:function(){return this.querySelector(t)}};function g(){return[]}var y=function(t){return null==t?g:function(){return this.querySelectorAll(t)}},b=function(t){return function(){return this.matches(t)}},w=function(t){return new Array(t.length)};function x(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}x.prototype={constructor:x,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function P(t,e,n,i,o,r){for(var a,s=0,u=e.length,l=r.length;s<l;++s)(a=e[s])?(a.__data__=r[s],i[s]=a):n[s]=new x(t,r[s]);for(;s<u;++s)(a=e[s])&&(o[s]=a)}function M(t,e,n,i,o,r,a){var s,u,l,h={},c=e.length,f=r.length,d=new Array(c);for(s=0;s<c;++s)(u=e[s])&&(d[s]=l="$"+a.call(u,u.__data__,s,e),l in h?o[s]=u:h[l]=u);for(s=0;s<f;++s)(u=h[l="$"+a.call(t,r[s],s,r)])?(i[s]=u,u.__data__=r[s],h[l]=null):n[s]=new x(t,r[s]);for(s=0;s<c;++s)(u=e[s])&&h[d[s]]===u&&(o[s]=u)}function T(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function k(t){return function(){this.removeAttribute(t)}}function S(t){return function(){this.removeAttributeNS(t.space,t.local)}}function A(t,e){return function(){this.setAttribute(t,e)}}function z(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function C(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var I=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function O(t){return function(){this.style.removeProperty(t)}}function B(t,e,n){return function(){this.style.setProperty(t,e,n)}}function D(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Z(t,e){return t.style.getPropertyValue(e)||I(t).getComputedStyle(t,null).getPropertyValue(e)}function j(t){return function(){delete this[t]}}function N(t,e){return function(){this[t]=e}}function R(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function U(t){return t.trim().split(/^|\s+/)}function H(t){return t.classList||new F(t)}function F(t){this._node=t,this._names=U(t.getAttribute("class")||"")}function W(t,e){for(var n=H(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function q(t,e){for(var n=H(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function V(t){return function(){W(this,t)}}function G(t){return function(){q(this,t)}}function Y(t,e){return function(){(e.apply(this,arguments)?W:q)(this,t)}}F.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function K(){this.textContent=""}function Q(t){return function(){this.textContent=t}}function $(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function X(){this.innerHTML=""}function J(t){return function(){this.innerHTML=t}}function tt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function et(){this.nextSibling&&this.parentNode.appendChild(this)}function nt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function it(){return null}function ot(){var t=this.parentNode;t&&t.removeChild(this)}function rt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function at(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var st={},ut=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(st={mouseenter:"mouseover",mouseleave:"mouseout"}));function lt(t,e,n){return t=ht(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ht(t,e,n){return function(i){var o=ut;ut=i;try{t.call(this,this.__data__,e,n)}finally{ut=o}}}function ct(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ft(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function dt(t,e,n){var i=st.hasOwnProperty(t.type)?lt:ht;return function(o,r,a){var s,u=this.__on,l=i(e,r,a);if(u)for(var h=0,c=u.length;h<c;++h)if((s=u[h]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function pt(t,e,n,i){var o=ut;t.sourceEvent=ut,ut=t;try{return e.apply(n,i)}finally{ut=o}}function _t(t,e,n){var i=I(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function mt(t,e){return function(){return _t(this,t,e)}}function vt(t,e){return function(){return _t(this,t,e.apply(this,arguments))}}var gt=[null];function yt(t,e){this._groups=t,this._parents=e}function bt(){return new yt([[document.documentElement]],gt)}yt.prototype=bt.prototype={constructor:yt,select:function(t){"function"!=typeof t&&(t=v(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a,s=e[o],u=s.length,l=i[o]=new Array(u),h=0;h<u;++h)(r=s[h])&&(a=t.call(r,r.__data__,h,s))&&("__data__"in r&&(a.__data__=r.__data__),l[h]=a);return new yt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var a,s=e[r],u=s.length,l=0;l<u;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),o.push(a));return new yt(i,o)},filter:function(t){"function"!=typeof t&&(t=b(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a=e[o],s=a.length,u=i[o]=[],l=0;l<s;++l)(r=a[l])&&t.call(r,r.__data__,l,a)&&u.push(r);return new yt(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each((function(t){p[++h]=t})),p;var n,i=e?M:P,o=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=r.length,s=new Array(a),u=new Array(a),l=new Array(a),h=0;h<a;++h){var c=o[h],f=r[h],d=f.length,p=t.call(c,c&&c.__data__,h,o),_=p.length,m=u[h]=new Array(_),v=s[h]=new Array(_);i(c,f,m,v,l[h]=new Array(d),p,e);for(var g,y,b=0,w=0;b<_;++b)if(g=m[b]){for(b>=w&&(w=b+1);!(y=v[w])&&++w<_;);g._next=y||null}}return(s=new yt(s,o))._enter=u,s._exit=l,s},enter:function(){return new yt(this._enter||this._groups.map(w),this._parents)},exit:function(){return new yt(this._exit||this._groups.map(w),this._parents)},join:function(t,e,n){var i=this.enter(),o=this,r=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(o=e(o)),null==n?r.remove():n(r),i&&o?i.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),a=new Array(i),s=0;s<r;++s)for(var u,l=e[s],h=n[s],c=l.length,f=a[s]=new Array(c),d=0;d<c;++d)(u=l[d]||h[d])&&(f[d]=u);for(;s<i;++s)a[s]=e[s];return new yt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,a=o[r];--r>=0;)(i=o[r])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=T);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var a,s=n[r],u=s.length,l=o[r]=new Array(u),h=0;h<u;++h)(a=s[h])&&(l[h]=a);l.sort(e)}return new yt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var a=i[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],a=0,s=r.length;a<s;++a)(o=r[a])&&t.call(o,o.__data__,a,r);return this},attr:function(t,e){var n=f(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?S:k:"function"==typeof e?n.local?E:C:n.local?z:A)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?O:"function"==typeof e?D:B)(t,e,null==n?"":n)):Z(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?j:"function"==typeof e?R:N)(t,e)):this.node()[t]},classed:function(t,e){var n=U(t+"");if(arguments.length<2){for(var i=H(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Y:e?V:G)(n,e))},text:function(t){return arguments.length?this.each(null==t?K:("function"==typeof t?$:Q)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?tt:J)(t)):this.node().innerHTML},raise:function(){return this.each(et)},lower:function(){return this.each(nt)},append:function(t){var e="function"==typeof t?t:_(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:_(t),i=null==e?it:"function"==typeof e?e:v(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(ot)},clone:function(t){return this.select(t?at:rt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,o,r=ct(t+""),a=r.length;if(!(arguments.length<2)){for(s=e?dt:ft,null==n&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,h=s.length;l<h;++l)for(i=0,u=s[l];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?vt:mt)(t,e))}};var wt=bt,xt=function(t){return"string"==typeof t?new yt([[document.querySelector(t)]],[document.documentElement]):new yt([[t]],gt)},Lt=function(t){return xt(_(t).call(document.documentElement))},Pt=0;function Mt(){return new Tt}function Tt(){this._="@"+(++Pt).toString(36)}Tt.prototype=Mt.prototype={constructor:Tt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var kt=function(){for(var t,e=ut;t=e.sourceEvent;)e=t;return e},St=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]},At=function(t){var e=kt();return e.changedTouches&&(e=e.changedTouches[0]),St(t,e)},zt=function(t){return"string"==typeof t?new yt([document.querySelectorAll(t)],[document.documentElement]):new yt([null==t?[]:t],gt)},Ct=function(t,e,n){arguments.length<3&&(n=e,e=kt().changedTouches);for(var i,o=0,r=e?e.length:0;o<r;++o)if((i=e[o]).identifier===n)return St(t,i);return null},Et=function(t,e){null==e&&(e=kt().touches);for(var n=0,i=e?e.length:0,o=new Array(i);n<i;++n)o[n]=St(t,e[n]);return o},It={value:function(){}};function Ot(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Bt(i)}function Bt(t){this._=t}function Dt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Zt(t,e){for(var n,i=0,o=t.length;i<o;++i)if((n=t[i]).name===e)return n.value}function jt(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=It,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Bt.prototype=Ot.prototype={constructor:Bt,on:function(t,e){var n,i=this._,o=Dt(t+"",i),r=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++r<a;)if(n=(t=o[r]).type)i[n]=jt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=jt(i[n],t.name,null);return this}for(;++r<a;)if((n=(t=o[r]).type)&&(n=Zt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(i=this._[t]).length;r<n;++r)i[r].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};var Nt,Rt,Ut=Ot,Ht=0,Ft=0,Wt=0,qt=0,Vt=0,Gt=0,Yt="object"==typeof performance&&performance.now?performance:Date,Kt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qt(){return Vt||(Kt($t),Vt=Yt.now()+Gt)}function $t(){Vt=0}function Xt(){this._call=this._time=this._next=null}function Jt(t,e,n){var i=new Xt;return i.restart(t,e,n),i}function te(){Vt=(qt=Yt.now())+Gt,Ht=Ft=0;try{!function(){Qt(),++Ht;for(var t,e=Nt;e;)(t=Vt-e._time)>=0&&e._call.call(null,t),e=e._next;--Ht}()}finally{Ht=0,function(){var t,e,n=Nt,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Nt=e);Rt=t,ne(i)}(),Vt=0}}function ee(){var t=Yt.now(),e=t-qt;e>1e3&&(Gt-=e,qt=t)}function ne(t){Ht||(Ft&&(Ft=clearTimeout(Ft)),t-Vt>24?(t<1/0&&(Ft=setTimeout(te,t-Yt.now()-Gt)),Wt&&(Wt=clearInterval(Wt))):(Wt||(qt=Yt.now(),Wt=setInterval(ee,1e3)),Ht=1,Kt(te)))}Xt.prototype=Jt.prototype={constructor:Xt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Qt():+n)+(null==e?0:+e),this._next||Rt===this||(Rt?Rt._next=this:Nt=this,Rt=this),this._call=t,this._time=n,ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,ne())}};var ie=function(t,e,n){var i=new Xt;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i},oe=Ut("start","end","cancel","interrupt"),re=[],ae=function(t,e,n,i,o,r){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,o=t.__transition;function r(u){var l,h,c,f;if(1!==n.state)return s();for(l in o)if((f=o[l]).name===n.name){if(3===f.state)return ie(r);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete o[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete o[l])}if(ie((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(c=n.tween.length),l=0,h=-1;l<c;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=f);i.length=h+1}}function a(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),r=-1,a=i.length;++r<a;)i[r].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var i in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Jt((function(t){n.state=1,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:o,on:oe,tween:re,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})};function se(t,e){var n=le(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ue(t,e){var n=le(t,e);if(n.state>3)throw new Error("too late; already running");return n}function le(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var he,ce,fe,de,pe=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},_e=180/Math.PI,me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ve=function(t,e,n,i,o,r){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*_e,skewX:Math.atan(u)*_e,scaleX:a,scaleY:s}};function ge(t,e,n,i){function o(t){return t.length?t.pop()+" ":""}return function(r,a){var s=[],u=[];return r=t(r),a=t(a),function(t,i,o,r,a,s){if(t!==o||i!==r){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:pe(t,o)},{i:u-2,x:pe(i,r)})}else(o||r)&&a.push("translate("+o+e+r+n)}(r.translateX,r.translateY,a.translateX,a.translateY,s,u),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(o(n)+"rotate(",null,i)-2,x:pe(t,e)})):e&&n.push(o(n)+"rotate("+e+i)}(r.rotate,a.rotate,s,u),function(t,e,n,r){t!==e?r.push({i:n.push(o(n)+"skewX(",null,i)-2,x:pe(t,e)}):e&&n.push(o(n)+"skewX("+e+i)}(r.skewX,a.skewX,s,u),function(t,e,n,i,r,a){if(t!==n||e!==i){var s=r.push(o(r)+"scale(",null,",",null,")");a.push({i:s-4,x:pe(t,n)},{i:s-2,x:pe(e,i)})}else 1===n&&1===i||r.push(o(r)+"scale("+n+","+i+")")}(r.scaleX,r.scaleY,a.scaleX,a.scaleY,s,u),r=a=null,function(t){for(var e,n=-1,i=u.length;++n<i;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var ye=ge((function(t){return"none"===t?me:(he||(he=document.createElement("DIV"),ce=document.documentElement,fe=document.defaultView),he.style.transform=t,t=fe.getComputedStyle(ce.appendChild(he),null).getPropertyValue("transform"),ce.removeChild(he),t=t.slice(7,-1).split(","),ve(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),be=ge((function(t){return null==t?me:(de||(de=document.createElementNS("http://www.w3.org/2000/svg","g")),de.setAttribute("transform",t),(t=de.transform.baseVal.consolidate())?(t=t.matrix,ve(t.a,t.b,t.c,t.d,t.e,t.f)):me)}),", ",")",")");function we(t,e){var n,i;return function(){var o=ue(this,t),r=o.tween;if(r!==n)for(var a=0,s=(i=n=r).length;a<s;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}o.tween=i}}function xe(t,e,n){var i,o;if("function"!=typeof n)throw new Error;return function(){var r=ue(this,t),a=r.tween;if(a!==i){o=(i=a).slice();for(var s={name:e,value:n},u=0,l=o.length;u<l;++u)if(o[u].name===e){o[u]=s;break}u===l&&o.push(s)}r.tween=o}}function Le(t,e,n){var i=t._id;return t.each((function(){var t=ue(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return le(t,i).value[e]}}var Pe=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Me(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Te(){}var ke="\\s*([+-]?\\d+)\\s*",Se="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ze=/^#([0-9a-f]{3,8})$/,Ce=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Ee=new RegExp("^rgb\\("+[Ae,Ae,Ae]+"\\)$"),Ie=new RegExp("^rgba\\("+[ke,ke,ke,Se]+"\\)$"),Oe=new RegExp("^rgba\\("+[Ae,Ae,Ae,Se]+"\\)$"),Be=new RegExp("^hsl\\("+[Se,Ae,Ae]+"\\)$"),De=new RegExp("^hsla\\("+[Se,Ae,Ae,Se]+"\\)$"),Ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function je(){return this.rgb().formatHex()}function Ne(){return this.rgb().formatRgb()}function Re(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ze.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ue(e):3===n?new qe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?He(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?He(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ce.exec(t))?new qe(e[1],e[2],e[3],1):(e=Ee.exec(t))?new qe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ie.exec(t))?He(e[1],e[2],e[3],e[4]):(e=Oe.exec(t))?He(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Be.exec(t))?Ke(e[1],e[2]/100,e[3]/100,1):(e=De.exec(t))?Ke(e[1],e[2]/100,e[3]/100,e[4]):Ze.hasOwnProperty(t)?Ue(Ze[t]):"transparent"===t?new qe(NaN,NaN,NaN,0):null}function Ue(t){return new qe(t>>16&255,t>>8&255,255&t,1)}function He(t,e,n,i){return i<=0&&(t=e=n=NaN),new qe(t,e,n,i)}function Fe(t){return t instanceof Te||(t=Re(t)),t?new qe((t=t.rgb()).r,t.g,t.b,t.opacity):new qe}function We(t,e,n,i){return 1===arguments.length?Fe(t):new qe(t,e,n,null==i?1:i)}function qe(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Ve(){return"#"+Ye(this.r)+Ye(this.g)+Ye(this.b)}function Ge(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ye(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ke(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $e(t,e,n,i)}function Qe(t){if(t instanceof $e)return new $e(t.h,t.s,t.l,t.opacity);if(t instanceof Te||(t=Re(t)),!t)return new $e;if(t instanceof $e)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),a=NaN,s=r-o,u=(r+o)/2;return s?(a=e===r?(n-i)/s+6*(n<i):n===r?(i-e)/s+2:(e-n)/s+4,s/=u<.5?r+o:2-r-o,a*=60):s=u>0&&u<1?0:a,new $e(a,s,u,t.opacity)}function $e(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Xe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Je(t,e,n,i,o){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*n+(1+3*t+3*r-3*a)*i+a*o)/6}Pe(Te,Re,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:je,formatHex:je,formatHsl:function(){return Qe(this).formatHsl()},formatRgb:Ne,toString:Ne}),Pe(qe,We,Me(Te,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ve,formatHex:Ve,formatRgb:Ge,toString:Ge})),Pe($e,(function(t,e,n,i){return 1===arguments.length?Qe(t):new $e(t,e,n,null==i?1:i)}),Me(Te,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $e(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $e(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new qe(Xe(t>=240?t-240:t+120,o,i),Xe(t,o,i),Xe(t<120?t+240:t-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var tn=function(t){return function(){return t}};function en(t,e){return function(n){return t+n*e}}function nn(t){return 1==(t=+t)?on:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):tn(isNaN(e)?n:e)}}function on(t,e){var n=e-t;return n?en(t,n):tn(isNaN(t)?e:t)}var rn=function t(e){var n=nn(e);function i(t,e){var i=n((t=We(t)).r,(e=We(e)).r),o=n(t.g,e.g),r=n(t.b,e.b),a=on(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=r(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function an(t){return function(e){var n,i,o=e.length,r=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)i=We(e[n]),r[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return r=t(r),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=r(t),i.g=a(t),i.b=s(t),i+""}}}an((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],r=t[i+1],a=i>0?t[i-1]:2*o-r,s=i<e-1?t[i+2]:2*r-o;return Je((n-i/e)*e,a,o,r,s)}})),an((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],r=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return Je((n-i/e)*e,o,r,a,s)}}));var sn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,un=new RegExp(sn.source,"g");var ln=function(t,e){var n,i,o,r=sn.lastIndex=un.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=sn.exec(t))&&(i=un.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:pe(n,i)})),r=un.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})},hn=function(t,e){var n;return("number"==typeof e?pe:e instanceof Re?rn:(n=Re(e))?(e=n,rn):ln)(t,e)};function cn(t){return function(){this.removeAttribute(t)}}function fn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dn(t,e,n){var i,o,r=n+"";return function(){var a=this.getAttribute(t);return a===r?null:a===i?o:o=e(i=a,n)}}function pn(t,e,n){var i,o,r=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===r?null:a===i?o:o=e(i=a,n)}}function _n(t,e,n){var i,o,r;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===i&&s===o?r:(o=s,r=e(i=a,u));this.removeAttribute(t)}}function mn(t,e,n){var i,o,r;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===i&&s===o?r:(o=s,r=e(i=a,u));this.removeAttributeNS(t.space,t.local)}}function vn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function gn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function yn(t,e){var n,i;function o(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&gn(t,o)),n}return o._value=e,o}function bn(t,e){var n,i;function o(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&vn(t,o)),n}return o._value=e,o}function wn(t,e){return function(){se(this,t).delay=+e.apply(this,arguments)}}function xn(t,e){return e=+e,function(){se(this,t).delay=e}}function Ln(t,e){return function(){ue(this,t).duration=+e.apply(this,arguments)}}function Pn(t,e){return e=+e,function(){ue(this,t).duration=e}}function Mn(t,e){if("function"!=typeof e)throw new Error;return function(){ue(this,t).ease=e}}function Tn(t,e,n){var i,o,r=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?se:ue;return function(){var a=r(this,t),s=a.on;s!==i&&(o=(i=s).copy()).on(e,n),a.on=o}}var kn=wt.prototype.constructor;function Sn(t){return function(){this.style.removeProperty(t)}}function An(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function zn(t,e,n){var i,o;function r(){var r=e.apply(this,arguments);return r!==o&&(i=(o=r)&&An(t,r,n)),i}return r._value=e,r}function Cn(t){return function(e){this.textContent=t.call(this,e)}}function En(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Cn(i)),e}return i._value=t,i}var In=0;function On(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Bn(){return++In}var Dn=wt.prototype;On.prototype=function(t){return wt().transition(t)}.prototype={constructor:On,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=v(t));for(var i=this._groups,o=i.length,r=new Array(o),a=0;a<o;++a)for(var s,u,l=i[a],h=l.length,c=r[a]=new Array(h),f=0;f<h;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),c[f]=u,ae(c[f],e,n,f,c,le(s,n)));return new On(r,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=y(t));for(var i=this._groups,o=i.length,r=[],a=[],s=0;s<o;++s)for(var u,l=i[s],h=l.length,c=0;c<h;++c)if(u=l[c]){for(var f,d=t.call(u,u.__data__,c,l),p=le(u,n),_=0,m=d.length;_<m;++_)(f=d[_])&&ae(f,e,n,_,d,p);r.push(d),a.push(u)}return new On(r,a,e,n)},filter:function(t){"function"!=typeof t&&(t=b(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a=e[o],s=a.length,u=i[o]=[],l=0;l<s;++l)(r=a[l])&&t.call(r,r.__data__,l,a)&&u.push(r);return new On(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),a=new Array(i),s=0;s<r;++s)for(var u,l=e[s],h=n[s],c=l.length,f=a[s]=new Array(c),d=0;d<c;++d)(u=l[d]||h[d])&&(f[d]=u);for(;s<i;++s)a[s]=e[s];return new On(a,this._parents,this._name,this._id)},selection:function(){return new kn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Bn(),i=this._groups,o=i.length,r=0;r<o;++r)for(var a,s=i[r],u=s.length,l=0;l<u;++l)if(a=s[l]){var h=le(a,e);ae(a,t,n,l,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new On(i,this._parents,t,n)},call:Dn.call,nodes:Dn.nodes,node:Dn.node,size:Dn.size,empty:Dn.empty,each:Dn.each,on:function(t,e){var n=this._id;return arguments.length<2?le(this.node(),n).on.on(t):this.each(Tn(n,t,e))},attr:function(t,e){var n=f(t),i="transform"===n?be:hn;return this.attrTween(t,"function"==typeof e?(n.local?mn:_n)(n,i,Le(this,"attr."+t,e)):null==e?(n.local?fn:cn)(n):(n.local?pn:dn)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=f(t);return this.tween(n,(i.local?yn:bn)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?ye:hn;return null==e?this.styleTween(t,function(t,e){var n,i,o;return function(){var r=Z(this,t),a=(this.style.removeProperty(t),Z(this,t));return r===a?null:r===n&&a===i?o:o=e(n=r,i=a)}}(t,i)).on("end.style."+t,Sn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,o,r;return function(){var a=Z(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Z(this,t)),a===u?null:a===i&&u===o?r:(o=u,r=e(i=a,s))}}(t,i,Le(this,"style."+t,e))).each(function(t,e){var n,i,o,r,a="style."+e,s="end."+a;return function(){var u=ue(this,t),l=u.on,h=null==u.value[a]?r||(r=Sn(e)):void 0;l===n&&o===h||(i=(n=l).copy()).on(s,o=h),u.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,o,r=n+"";return function(){var a=Z(this,t);return a===r?null:a===i?o:o=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,zn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Le(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,En(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=le(this.node(),n).tween,r=0,a=o.length;r<a;++r)if((i=o[r]).name===t)return i.value;return null}return this.each((null==e?we:xe)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?wn:xn)(e,t)):le(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ln:Pn)(e,t)):le(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Mn(e,t)):le(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,o=n.size();return new Promise((function(r,a){var s={value:a},u={value:function(){0==--o&&r()}};n.each((function(){var n=ue(this,i),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))}};var Zn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function jn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Zn.time=Qt(),Zn;return n}wt.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,o,r=t.__transition,a=!0;if(r){for(o in e=null==e?null:e+"",r)(n=r[o]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[o]):a=!1;a&&delete t.__transition}}(this,t)}))},wt.prototype.transition=function(t){var e,n;t instanceof On?(e=t._id,t=t._name):(e=Bn(),(n=Zn).time=Qt(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var a,s=i[r],u=s.length,l=0;l<u;++l)(a=s[l])&&ae(a,t,e,l,s,n||jn(a,e));return new On(i,this._parents,t,e)};var Nn=Math.sqrt(50),Rn=Math.sqrt(10),Un=Math.sqrt(2);function Hn(t,e,n){var i=(e-t)/Math.max(0,n),o=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,o);return o>=0?(r>=Nn?10:r>=Rn?5:r>=Un?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(r>=Nn?10:r>=Rn?5:r>=Un?2:1)}var Fn=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var Wn,qn,Vn=(1===(Wn=Fn).length&&(qn=Wn,Wn=function(t,e){return Fn(qn(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;Wn(t[o],e)<0?n=o+1:i=o}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;Wn(t[o],e)>0?i=o:n=o+1}return n}}),Gn=Vn.right,Yn=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,o=e.slice();return function(r){for(n=0;n<i;++n)o[n]=t[n]*(1-r)+e[n]*r;return o}};function Kn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qn(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,r=new Array(o),a=new Array(i);for(n=0;n<o;++n)r[n]=Jn(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=r[n](t);return a}}var $n=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},Xn=function(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Jn(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}},Jn=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?tn(e):("number"===i?pe:"string"===i?(n=Re(e))?(e=n,rn):ln:e instanceof Re?rn:e instanceof Date?$n:Kn(e)?Yn:Array.isArray(e)?Qn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Xn:pe)(t,e)},ti=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},ei=function(t){return+t},ni=[0,1];function ii(t){return t}function oi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ri(t,e,n){var i=t[0],o=t[1],r=e[0],a=e[1];return o<i?(i=oi(o,i),r=n(a,r)):(i=oi(i,o),r=n(r,a)),function(t){return r(i(t))}}function ai(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),r=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)o[a]=oi(t[a],t[a+1]),r[a]=n(e[a],e[a+1]);return function(e){var n=Gn(t,e,1,i)-1;return r[n](o[n](e))}}function si(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ui(){var t,e,n,i,o,r,a=ni,s=ni,u=Jn,l=ii;function h(){var t,e,n,u=Math.min(a.length,s.length);return l!==ii&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),i=u>2?ai:ri,o=r=null,c}function c(e){return isNaN(e=+e)?n:(o||(o=i(a.map(t),s,u)))(t(l(e)))}return c.invert=function(n){return l(e((r||(r=i(s,a.map(t),pe)))(n)))},c.domain=function(t){return arguments.length?(a=Array.from(t,ei),h()):a.slice()},c.range=function(t){return arguments.length?(s=Array.from(t),h()):s.slice()},c.rangeRound=function(t){return s=Array.from(t),u=ti,h()},c.clamp=function(t){return arguments.length?(l=!!t||ii,h()):l!==ii},c.interpolate=function(t){return arguments.length?(u=t,h()):u},c.unknown=function(t){return arguments.length?(n=t,c):n},function(n,i){return t=n,e=i,h()}}function li(){return ui()(ii,ii)}function hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var ci=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fi(t){if(!(e=ci.exec(t)))throw new Error("invalid format: "+t);var e;return new di({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function di(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}fi.prototype=di.prototype,di.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var pi,_i,mi,vi,gi=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},yi=function(t){return(t=gi(Math.abs(t)))?t[1]:NaN},bi=function(t,e){var n=gi(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},wi={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return bi(100*t,e)},r:bi,s:function(t,e){var n=gi(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(pi=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=i.length;return r===a?i:r>a?i+new Array(r-a+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+gi(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},xi=function(t){return t},Li=Array.prototype.map,Pi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];_i=function(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?xi:(e=Li.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var o=t.length,r=[],a=0,s=e[0],u=0;o>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),r.push(t.substring(o-=s,o+s)),!((u+=s+1)>i));)s=e[a=(a+1)%e.length];return r.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?xi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Li.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function c(t){var e=(t=fi(t)).fill,n=t.align,c=t.sign,f=t.symbol,d=t.zero,p=t.width,_=t.comma,m=t.precision,v=t.trim,g=t.type;"n"===g?(_=!0,g="g"):wi[g]||(void 0===m&&(m=12),v=!0,g="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var y="$"===f?o:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",b="$"===f?r:/[%p]/.test(g)?u:"",w=wi[g],x=/[defgprs%]/.test(g);function L(t){var o,r,u,f=y,L=b;if("c"===g)L=w(t)+L,t="";else{var P=(t=+t)<0||1/t<0;if(t=isNaN(t)?h:w(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,i=1,o=-1;i<n;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;default:if(!+t[i])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),P&&0==+t&&"+"!==c&&(P=!1),f=(P?"("===c?c:l:"-"===c||"("===c?"":c)+f,L=("s"===g?Pi[8+pi/3]:"")+L+(P&&"("===c?")":""),x)for(o=-1,r=t.length;++o<r;)if(48>(u=t.charCodeAt(o))||u>57){L=(46===u?a+t.slice(o+1):t.slice(o))+L,t=t.slice(0,o);break}}_&&!d&&(t=i(t,1/0));var M=f.length+t.length+L.length,T=M<p?new Array(p-M+1).join(e):"";switch(_&&d&&(t=i(T+t,T.length?p-L.length:1/0),T=""),n){case"<":t=f+t+L+T;break;case"=":t=f+T+t+L;break;case"^":t=T.slice(0,M=T.length>>1)+f+t+L+T.slice(M);break;default:t=T+f+t+L}return s(t)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),L.toString=function(){return t+""},L}return{format:c,formatPrefix:function(t,e){var n=c(((t=fi(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(yi(e)/3))),o=Math.pow(10,-i),r=Pi[8+i/3];return function(t){return n(o*t)+r}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),mi=_i.format,vi=_i.formatPrefix;var Mi=function(t,e,n,i){var o,r=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return r>=Nn?o*=10:r>=Rn?o*=5:r>=Un&&(o*=2),e<t?-o:o}(t,e,n);switch((i=fi(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yi(e)/3)))-yi(Math.abs(t)))}(r,a))||(i.precision=o),vi(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yi(e)-yi(t))+1}(r,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=function(t){return Math.max(0,-yi(Math.abs(t)))}(r))||(i.precision=o-2*("%"===i.type))}return mi(i)};function Ti(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,o,r,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(o=t,t=e,e=o),0===(a=Hn(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),r=new Array(o=Math.ceil(e-t+1));++s<o;)r[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),r=new Array(o=Math.ceil(t-e+1));++s<o;)r[s]=(t-s)/a;return i&&r.reverse(),r}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Mi(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,o=e(),r=0,a=o.length-1,s=o[r],u=o[a];return u<s&&(i=s,s=u,u=i,i=r,r=a,a=i),(i=Hn(s,u,n))>0?i=Hn(s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i,n):i<0&&(i=Hn(s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i,n)),i>0?(o[r]=Math.floor(s/i)*i,o[a]=Math.ceil(u/i)*i,e(o)):i<0&&(o[r]=Math.ceil(s*i)/i,o[a]=Math.floor(u*i)/i,e(o)),t},t}var ki=function(t){return t};function Si(t,e){t&&zi.hasOwnProperty(t.type)&&zi[t.type](t,e)}var Ai={Feature:function(t,e){Si(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)Si(n[i].geometry,e)}},zi={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ci(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)Ci(n[i],e,0)},Polygon:function(t,e){Ei(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)Ei(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)Si(n[i],e)}};function Ci(t,e,n){var i,o=-1,r=t.length-n;for(e.lineStart();++o<r;)i=t[o],e.point(i[0],i[1],i[2]);e.lineEnd()}function Ei(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Ci(t[n],e,1);e.polygonEnd()}var Ii=function(t,e){t&&Ai.hasOwnProperty(t.type)?Ai[t.type](t,e):Si(t,e)},Oi=function(){return new Bi};function Bi(){this.reset()}Bi.prototype={constructor:Bi,reset:function(){this.s=this.t=0},add:function(t){Zi(Di,t,this.t),Zi(this,Di.s,this.s),this.s?this.t+=Di.t:this.s=Di.t},valueOf:function(){return this.s}};var Di=new Bi;function Zi(t,e,n){var i=t.s=e+n,o=i-e,r=i-o;t.t=e-r+(n-o)}var ji=Math.PI,Ni=2*ji,Ri=Math.abs,Ui=(Math.atan,Math.atan2,Math.cos,Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin,Math.sign,Math.sqrt);Math.tan;function Hi(){}var Fi,Wi,qi,Vi,Gi=Oi(),Yi=Oi(),Ki={point:Hi,lineStart:Hi,lineEnd:Hi,polygonStart:function(){Ki.lineStart=Qi,Ki.lineEnd=Ji},polygonEnd:function(){Ki.lineStart=Ki.lineEnd=Ki.point=Hi,Gi.add(Ri(Yi)),Yi.reset()},result:function(){var t=Gi/2;return Gi.reset(),t}};function Qi(){Ki.point=$i}function $i(t,e){Ki.point=Xi,Fi=qi=t,Wi=Vi=e}function Xi(t,e){Yi.add(Vi*t-qi*e),qi=t,Vi=e}function Ji(){Xi(Fi,Wi)}var to=Ki,eo=1/0,no=eo,io=-eo,oo=io;var ro,ao,so,uo,lo={point:function(t,e){t<eo&&(eo=t);t>io&&(io=t);e<no&&(no=e);e>oo&&(oo=e)},lineStart:Hi,lineEnd:Hi,polygonStart:Hi,polygonEnd:Hi,result:function(){var t=[[eo,no],[io,oo]];return io=oo=-(no=eo=1/0),t}},ho=0,co=0,fo=0,po=0,_o=0,mo=0,vo=0,go=0,yo=0,bo={point:wo,lineStart:xo,lineEnd:Mo,polygonStart:function(){bo.lineStart=To,bo.lineEnd=ko},polygonEnd:function(){bo.point=wo,bo.lineStart=xo,bo.lineEnd=Mo},result:function(){var t=yo?[vo/yo,go/yo]:mo?[po/mo,_o/mo]:fo?[ho/fo,co/fo]:[NaN,NaN];return ho=co=fo=po=_o=mo=vo=go=yo=0,t}};function wo(t,e){ho+=t,co+=e,++fo}function xo(){bo.point=Lo}function Lo(t,e){bo.point=Po,wo(so=t,uo=e)}function Po(t,e){var n=t-so,i=e-uo,o=Ui(n*n+i*i);po+=o*(so+t)/2,_o+=o*(uo+e)/2,mo+=o,wo(so=t,uo=e)}function Mo(){bo.point=wo}function To(){bo.point=So}function ko(){Ao(ro,ao)}function So(t,e){bo.point=Ao,wo(ro=so=t,ao=uo=e)}function Ao(t,e){var n=t-so,i=e-uo,o=Ui(n*n+i*i);po+=o*(so+t)/2,_o+=o*(uo+e)/2,mo+=o,vo+=(o=uo*t-so*e)*(so+t),go+=o*(uo+e),yo+=3*o,wo(so=t,uo=e)}var zo=bo;function Co(t){this._context=t}Co.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ni)}},result:Hi};var Eo,Io,Oo,Bo,Do,Zo=Oi(),jo={point:Hi,lineStart:function(){jo.point=No},lineEnd:function(){Eo&&Ro(Io,Oo),jo.point=Hi},polygonStart:function(){Eo=!0},polygonEnd:function(){Eo=null},result:function(){var t=+Zo;return Zo.reset(),t}};function No(t,e){jo.point=Ro,Io=Bo=t,Oo=Do=e}function Ro(t,e){Bo-=t,Do-=e,Zo.add(Ui(Bo*Bo+Do*Do)),Bo=t,Do=e}var Uo=jo;function Ho(){this._string=[]}function Fo(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Ho.prototype={_radius:4.5,_circle:Fo(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Fo(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function Wo(t){return function(e){var n=new qo;for(var i in t)n[i]=t[i];return n.stream=e,n}}function qo(){}qo.prototype={constructor:qo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Vo=new Date,Go=new Date;function Yo(t,e,n,i){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,i,r){var a,s=[];if(n=o.ceil(n),r=null==r?1:Math.floor(r),!(n<i&&r>0))return s;do{s.push(a=new Date(+n)),e(n,r),t(n)}while(a<n&&n<i);return s},o.filter=function(n){return Yo((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,i){return Vo.setTime(+e),Go.setTime(+i),t(Vo),t(Go),Math.floor(n(Vo,Go))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(i?function(e){return i(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var Ko=Yo((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),Qo=Ko;Ko.range;function $o(t){return Yo((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var Xo=$o(0),Jo=$o(1),tr=$o(2),er=$o(3),nr=$o(4),ir=$o(5),or=$o(6),rr=(Xo.range,Jo.range,tr.range,er.range,nr.range,ir.range,or.range,Yo((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),ar=rr;rr.range;function sr(t){return Yo((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var ur=sr(0),lr=sr(1),hr=sr(2),cr=sr(3),fr=sr(4),dr=sr(5),pr=sr(6),_r=(ur.range,lr.range,hr.range,cr.range,fr.range,dr.range,pr.range,Yo((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),mr=_r,vr=(_r.range,Yo((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));vr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Yo((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var gr=vr,yr=(vr.range,Yo((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));yr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Yo((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var br=yr;yr.range;function wr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Pr(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,r=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=Ir(o),h=Or(o),c=Ir(r),f=Or(r),d=Ir(a),p=Or(a),_=Ir(s),m=Or(s),v=Ir(u),g=Or(u),y={a:function(t){return a[t.getDay()]},A:function(t){return r[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ea,e:ea,f:aa,H:na,I:ia,j:oa,L:ra,m:sa,M:ua,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Da,s:Za,S:la,u:ha,U:ca,V:fa,w:da,W:pa,x:null,X:null,y:_a,Y:ma,Z:va,"%":Ba},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return r[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:ga,e:ga,f:La,H:ya,I:ba,j:wa,L:xa,m:Pa,M:Ma,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Da,s:Za,S:Ta,u:ka,U:Sa,V:Aa,w:za,W:Ca,x:null,X:null,y:Ea,Y:Ia,Z:Oa,"%":Ba},w={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=g[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=_.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return P(t,e,n,i)},d:qr,e:qr,f:$r,H:Gr,I:Gr,j:Vr,L:Qr,m:Wr,M:Yr,p:function(t,e,n){var i=l.exec(e.slice(n));return i?(t.p=h[i[0].toLowerCase()],n+i[0].length):-1},q:Fr,Q:Jr,s:ta,S:Kr,u:Dr,U:Zr,V:jr,w:Br,W:Nr,x:function(t,e,i){return P(t,n,e,i)},X:function(t,e,n){return P(t,i,e,n)},y:Ur,Y:Rr,Z:Hr,"%":Xr};function x(t,e){return function(n){var i,o,r,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(o=kr[i=t.charAt(++s)])?i=t.charAt(++s):o="e"===i?" ":"0",(r=e[i])&&(i=r(n,o)),a.push(i),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function L(t,e){return function(n){var i,o,r=Lr(1900,void 0,1);if(P(r,t,n+="",0)!=n.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(e&&!("Z"in r)&&(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||r.V>53)return null;"w"in r||(r.w=1),"Z"in r?(o=(i=xr(Lr(r.y,0,1))).getUTCDay(),i=o>4||0===o?Jo.ceil(i):Jo(i),i=ar.offset(i,7*(r.V-1)),r.y=i.getUTCFullYear(),r.m=i.getUTCMonth(),r.d=i.getUTCDate()+(r.w+6)%7):(o=(i=wr(Lr(r.y,0,1))).getDay(),i=o>4||0===o?lr.ceil(i):lr(i),i=mr.offset(i,7*(r.V-1)),r.y=i.getFullYear(),r.m=i.getMonth(),r.d=i.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),o="Z"in r?xr(Lr(r.y,0,1)).getUTCDay():wr(Lr(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(o+5)%7:r.w+7*r.U-(o+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,xr(r)):wr(r)}}function P(t,e,n,i){for(var o,r,a=0,s=e.length,u=n.length;a<s;){if(i>=u)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(r=w[o in kr?e.charAt(a++):o])||(i=r(t,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}return y.x=x(n,y),y.X=x(i,y),y.c=x(e,y),b.x=x(n,b),b.X=x(i,b),b.c=x(e,b),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=L(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=L(t+="",!0);return e.toString=function(){return t},e}}}var Mr,Tr,kr={"-":"",_:" ",0:"0"},Sr=/^\s*\d+/,Ar=/^%/,zr=/[\\^$*+?|[\]().{}]/g;function Cr(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",r=o.length;return i+(r<n?new Array(n-r+1).join(e)+o:o)}function Er(t){return t.replace(zr,"\\$&")}function Ir(t){return new RegExp("^(?:"+t.map(Er).join("|")+")","i")}function Or(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Br(t,e,n){var i=Sr.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Dr(t,e,n){var i=Sr.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Zr(t,e,n){var i=Sr.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function jr(t,e,n){var i=Sr.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Nr(t,e,n){var i=Sr.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Rr(t,e,n){var i=Sr.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ur(t,e,n){var i=Sr.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Hr(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Fr(t,e,n){var i=Sr.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function Wr(t,e,n){var i=Sr.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function qr(t,e,n){var i=Sr.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Vr(t,e,n){var i=Sr.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Gr(t,e,n){var i=Sr.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Yr(t,e,n){var i=Sr.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Kr(t,e,n){var i=Sr.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Qr(t,e,n){var i=Sr.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function $r(t,e,n){var i=Sr.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Xr(t,e,n){var i=Ar.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Jr(t,e,n){var i=Sr.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function ta(t,e,n){var i=Sr.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function ea(t,e){return Cr(t.getDate(),e,2)}function na(t,e){return Cr(t.getHours(),e,2)}function ia(t,e){return Cr(t.getHours()%12||12,e,2)}function oa(t,e){return Cr(1+mr.count(gr(t),t),e,3)}function ra(t,e){return Cr(t.getMilliseconds(),e,3)}function aa(t,e){return ra(t,e)+"000"}function sa(t,e){return Cr(t.getMonth()+1,e,2)}function ua(t,e){return Cr(t.getMinutes(),e,2)}function la(t,e){return Cr(t.getSeconds(),e,2)}function ha(t){var e=t.getDay();return 0===e?7:e}function ca(t,e){return Cr(ur.count(gr(t)-1,t),e,2)}function fa(t,e){var n=t.getDay();return t=n>=4||0===n?fr(t):fr.ceil(t),Cr(fr.count(gr(t),t)+(4===gr(t).getDay()),e,2)}function da(t){return t.getDay()}function pa(t,e){return Cr(lr.count(gr(t)-1,t),e,2)}function _a(t,e){return Cr(t.getFullYear()%100,e,2)}function ma(t,e){return Cr(t.getFullYear()%1e4,e,4)}function va(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Cr(e/60|0,"0",2)+Cr(e%60,"0",2)}function ga(t,e){return Cr(t.getUTCDate(),e,2)}function ya(t,e){return Cr(t.getUTCHours(),e,2)}function ba(t,e){return Cr(t.getUTCHours()%12||12,e,2)}function wa(t,e){return Cr(1+ar.count(br(t),t),e,3)}function xa(t,e){return Cr(t.getUTCMilliseconds(),e,3)}function La(t,e){return xa(t,e)+"000"}function Pa(t,e){return Cr(t.getUTCMonth()+1,e,2)}function Ma(t,e){return Cr(t.getUTCMinutes(),e,2)}function Ta(t,e){return Cr(t.getUTCSeconds(),e,2)}function ka(t){var e=t.getUTCDay();return 0===e?7:e}function Sa(t,e){return Cr(Xo.count(br(t)-1,t),e,2)}function Aa(t,e){var n=t.getUTCDay();return t=n>=4||0===n?nr(t):nr.ceil(t),Cr(nr.count(br(t),t)+(4===br(t).getUTCDay()),e,2)}function za(t){return t.getUTCDay()}function Ca(t,e){return Cr(Jo.count(br(t)-1,t),e,2)}function Ea(t,e){return Cr(t.getUTCFullYear()%100,e,2)}function Ia(t,e){return Cr(t.getUTCFullYear()%1e4,e,4)}function Oa(){return"+0000"}function Ba(){return"%"}function Da(t){return+t}function Za(t){return Math.floor(+t/1e3)}function ja(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function Na(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function Ra(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}!function(t){Mr=Pr(t),Mr.format,Tr=Mr.parse,Mr.utcFormat,Mr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ua(t,e,n){if(i=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let i of t)null!=(i=e(i,++n,t))&&(i=+i)>=i&&(yield i)}}(t,n))).length){if((e=+e)<=0||i<2)return Na(t);if(e>=1)return ja(t);var i,o=(i-1)*e,r=Math.floor(o),a=ja(function t(e,n,i=0,o=e.length-1,r=Fn){for(;o>i;){if(o-i>600){const a=o-i+1,s=n-i+1,u=Math.log(a),l=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-s*l/a+h)),Math.min(o,Math.floor(n+(a-s)*l/a+h)),r)}const a=e[n];let s=i,u=o;for(Ra(e,i,n),r(e[o],a)>0&&Ra(e,i,o);s<u;){for(Ra(e,s,u),++s,--u;r(e[s],a)<0;)++s;for(;r(e[u],a)>0;)--u}0===r(e[i],a)?Ra(e,i,u):(++u,Ra(e,u,o)),u<=n&&(i=u+1),n<=u&&(o=u-1)}return e}(t,r).subarray(0,r+1));return a+(Na(t.subarray(r+1))-a)*(o-r)}}var Ha="URLSearchParams"in self,Fa="Symbol"in self&&"iterator"in Symbol,Wa="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),qa="FormData"in self,Va="ArrayBuffer"in self;if(Va)var Ga=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ya=ArrayBuffer.isView||function(t){return t&&Ga.indexOf(Object.prototype.toString.call(t))>-1};function Ka(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function Qa(t){return"string"!=typeof t&&(t=String(t)),t}function $a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return Fa&&(e[Symbol.iterator]=function(){return e}),e}function Xa(t){this.map={},t instanceof Xa?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function Ja(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function ts(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function es(t){var e=new FileReader,n=ts(e);return e.readAsArrayBuffer(t),n}function ns(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function is(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:Wa&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:qa&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:Ha&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Va&&Wa&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=ns(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Va&&(ArrayBuffer.prototype.isPrototypeOf(t)||Ya(t))?this._bodyArrayBuffer=ns(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ha&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Wa&&(this.blob=function(){var t=Ja(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ja(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(es)}),this.text=function(){var t,e,n,i=Ja(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=ts(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},qa&&(this.formData=function(){return this.text().then(as)}),this.json=function(){return this.text().then(JSON.parse)},this}Xa.prototype.append=function(t,e){t=Ka(t),e=Qa(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},Xa.prototype.delete=function(t){delete this.map[Ka(t)]},Xa.prototype.get=function(t){return t=Ka(t),this.has(t)?this.map[t]:null},Xa.prototype.has=function(t){return this.map.hasOwnProperty(Ka(t))},Xa.prototype.set=function(t,e){this.map[Ka(t)]=Qa(e)},Xa.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},Xa.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),$a(t)},Xa.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),$a(t)},Xa.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),$a(t)},Fa&&(Xa.prototype[Symbol.iterator]=Xa.prototype.entries);var os=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function rs(t,e){var n,i,o=(e=e||{}).body;if(t instanceof rs){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Xa(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new Xa(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),os.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function as(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(o))}})),e}function ss(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new Xa(e.headers),this.url=e.url||"",this._initBody(t)}rs.prototype.clone=function(){return new rs(this,{body:this._bodyInit})},is.call(rs.prototype),is.call(ss.prototype),ss.prototype.clone=function(){return new ss(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Xa(this.headers),url:this.url})},ss.error=function(){var t=new ss(null,{status:0,statusText:""});return t.type="error",t};var us=[301,302,303,307,308];ss.redirect=function(t,e){if(-1===us.indexOf(e))throw new RangeError("Invalid status code");return new ss(null,{status:e,headers:{location:t}})};var ls=self.DOMException;try{new ls}catch(t){(ls=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),ls.prototype.constructor=ls}function hs(t,e){return new Promise((function(n,i){var o=new rs(t,e);if(o.signal&&o.signal.aborted)return i(new ls("Aborted","AbortError"));var r=new XMLHttpRequest;function a(){r.abort()}r.onload=function(){var t,e,i={status:r.status,statusText:r.statusText,headers:(t=r.getAllResponseHeaders()||"",e=new Xa,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();e.append(i,o)}})),e)};i.url="responseURL"in r?r.responseURL:i.headers.get("X-Request-URL");var o="response"in r?r.response:r.responseText;n(new ss(o,i))},r.onerror=function(){i(new TypeError("Network request failed"))},r.ontimeout=function(){i(new TypeError("Network request failed"))},r.onabort=function(){i(new ls("Aborted","AbortError"))},r.open(o.method,o.url,!0),"include"===o.credentials?r.withCredentials=!0:"omit"===o.credentials&&(r.withCredentials=!1),"responseType"in r&&Wa&&(r.responseType="blob"),o.headers.forEach((function(t,e){r.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",a),r.onreadystatechange=function(){4===r.readyState&&o.signal.removeEventListener("abort",a)}),r.send(void 0===o._bodyInit?null:o._bodyInit)}))}hs.polyfill=!0,self.fetch||(self.fetch=hs,self.Headers=Xa,self.Request=rs,self.Response=ss);var cs=n(1),fs=n.n(cs);let ds={pm_sensors:{SDS011:!0,SDS021:!0,PMS1003:!0,PMS3003:!0,PMS5003:!0,PMS6003:!0,PMS7003:!0,HPM:!0,SPS30:!0},thp_sensors:{DHT11:!0,DHT22:!0,BMP180:!0,BMP280:!0,BME280:!0,HTU21D:!0,DS18B20:!0,SHT11:!0,SHT12:!0,SHT15:!0,SHT30:!0,SHT31:!0,SHT35:!0},noise_sensors:{Laerm:!0},checkValues(t,e){let n=!1;return void 0===t||"number"!=typeof t||isNaN(t)||("Humidity"===e&&t>=0&&t<=100||"Temperature"===e&&t<=70&&t>=-50||"Pressure"===e&&t>=850&&t<1200||"PM10"===e&&t<1900||"PM25"===e&&t<900||"Official_AQI_US"===e||"Noise"===e)&&(n=!0),n},officialAQIus(t){function e(t,e){let i;return t>=0&&("PM10"===e&&(i=parseInt(t)<=54?n(50,0,54,0,parseInt(t)):parseInt(t)<=154?n(100,51,154,55,parseInt(t)):parseInt(t)<=254?n(150,101,254,155,parseInt(t)):parseInt(t)<=354?n(200,151,354,255,parseInt(t)):parseInt(t)<=424?n(300,201,424,355,parseInt(t)):parseInt(t)<=504?n(400,301,504,425,parseInt(t)):parseInt(t)<=604?n(500,401,604,505,parseInt(t)):500),"PM25"===e&&(i=t.toFixed(1)<=12?n(50,0,12,0,t.toFixed(1)):t.toFixed(1)<=35.4?n(100,51,35.4,12.1,t.toFixed(1)):t.toFixed(1)<=55.4?n(150,101,55.4,35.5,t.toFixed(1)):t.toFixed(1)<=150.4?n(200,151,150.4,55.5,t.toFixed(1)):t.toFixed(1)<=250.4?n(300,201,250.4,150.5,t.toFixed(1)):t.toFixed(1)<=350.4?n(400,301,350.4,250.5,t.toFixed(1)):t.toFixed(1)<=500.4?n(500,401,500.4,350.5,t.toFixed(1)):500)),i}function n(t,e,n,i,o){return parseInt((t-e)/(n-i)*(o-i)+e)}const i=e(t.PM10,"PM10"),o=e(t.PM25,"PM25");return i>=o?{AQI:i,origin:"PM10"}:{AQI:o,origin:"PM2.5"}},getData:async function(t,e){function n(t,e){let n;return t.forEach((function(t){t.value_type===e&&(n=t.value)})),n}return fetch(t).then(t=>t.json()).then(t=>{console.log("successful retrieved data");let i="";if(1===e){let e=fs.a.chain(t).filter(t=>void 0!==ds.pm_sensors[t.sensor.sensor_type.name]&&ds.pm_sensors[t.sensor.sensor_type.name]&&ds.checkValues(parseInt(n(t.sensordatavalues,"P1")),"PM10")&&ds.checkValues(parseInt(n(t.sensordatavalues,"P2")),"PM25")).map(t=>(t.timestamp>i&&(i=t.timestamp),{data:{PM10:parseInt(n(t.sensordatavalues,"P1")),PM25:parseInt(n(t.sensordatavalues,"P2"))},id:t.sensor.id,latitude:Number(t.location.latitude),longitude:Number(t.location.longitude),indoor:t.location.indoor})).value();return Promise.resolve({cells:e,timestamp:i})}if(2===e){let e=fs.a.chain(t).filter(t=>void 0!==ds.pm_sensors[t.sensor.sensor_type.name]&&ds.pm_sensors[t.sensor.sensor_type.name]).map(t=>{t.timestamp>i&&(i=t.timestamp);const e={PM10:parseInt(n(t.sensordatavalues,"P1")),PM25:parseInt(n(t.sensordatavalues,"P2"))},o=ds.officialAQIus(e);return{data:{Official_AQI_US:o.AQI,origin:o.origin,PM10_24h:e.PM10,PM25_24h:e.PM25},id:t.sensor.id,latitude:t.location.latitude,longitude:t.location.longitude,indoor:t.location.indoor}}).filter((function(t){return ds.checkValues(t.data.Official_AQI_US,"Official_AQI_US")})).value();return Promise.resolve({cells:e,timestamp:i})}if(3===e){let e=fs.a.chain(t).filter(t=>void 0!==ds.thp_sensors[t.sensor.sensor_type.name]&&ds.thp_sensors[t.sensor.sensor_type.name]).map(t=>(t.timestamp>i&&(i=t.timestamp),{data:{Pressure:parseInt(n(t.sensordatavalues,"pressure_at_sealevel"))/100,Humidity:parseInt(n(t.sensordatavalues,"humidity")),Temperature:parseInt(n(t.sensordatavalues,"temperature"))},id:t.sensor.id,latitude:t.location.latitude,longitude:t.location.longitude,indoor:t.location.indoor})).value();return Promise.resolve({cells:e,timestamp:i})}if(4===e){let e=fs.a.chain(t).filter(t=>void 0!==ds.noise_sensors[t.sensor.sensor_type.name]&&ds.noise_sensors[t.sensor.sensor_type.name]).map(t=>(t.timestamp>i&&(i=t.timestamp),{data:{Noise:parseInt(n(t.sensordatavalues,"noise_LAeq"))},id:t.sensor.id,latitude:t.location.latitude,longitude:t.location.longitude,indoor:t.location.indoor})).value();return Promise.resolve({cells:e,timestamp:i})}}).catch((function(t){throw new Error("Problems fetching data "+t)}))}};var ps=ds;var _s={getData:async function(t,e){var n={iconUrl:"images/lab_marker.svg",shadowUrl:null,iconSize:new L.Point(21,35),iconAnchor:new L.Point(10,34),labelAnchor:new L.Point(25,2),wrapperAnchor:new L.Point(10,35),popupAnchor:[-0,-35]},i=L.Icon.extend({options:n});fetch(t).then((function(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e})).then(t=>t.json()).then(t=>{for(var n=0;n<t.length;n++){var o="<b>"+t[n].title+"</b><br/><br/>";void 0!==t[n].meetings&&(o+="<b>",void 0!==t[n].meetings_title?o+=t[n].meetings_title:o+="Meetings",o+="<br /></b>",t[n].meetings.forEach((function(t,e){o+=t.text+"<br />"})),o+="<br />"),void 0!==t[n].contacts&&(o+="<b>",void 0!==t[n].contacts_title?o+=t[n].contacts_title:o+="Contacts",o+="<br /></b>",t[n].contacts.forEach((function(t,e){o+='<a href="'+t.url+'">'+t.name+"</a><br />"})),o+="<br />"),void 0!==t[n].website&&(o+="<b>Website</b><br/>",o+="<a href='"+t[n].website+"' target='_blank' rel='noreferrer'>"+t[n].website+"</a><br /><br />"),o+="<table class='labs_sociallinks' style='width: auto;'>",void 0!==t[n].facebook&&(o+="<tr><td class='labs_facebook'>Facebook: </td><td><a href='https://www.facebook.com/"+t[n].website+"' target='_blank' rel='noreferrer'>"+t[n].facebook+"</a></td></tr>"),void 0!==t[n].facebook_group&&(o+="<tr><td class='labs_facebook'>Facebook group: </td><td><a href='https://www.facebook.com/groups/"+t[n].facebook_group+"' target='_blank' rel='noreferrer'>"+t[n].facebook_group+"</a></td></tr>"),void 0!==t[n].facebook_page&&(o+="<tr><td class='labs_facebook'>Facebook page: </td><td><a href='https://www.facebook.com/"+t[n].facebook_page+"' target='_blank' rel='noreferrer'>"+t[n].facebook_page+"</a></td></tr>"),void 0!==t[n].twitter&&(o+="<tr><td class='labs_twitter'>Twitter: </td><td><a href='https://twitter.com/"+t[n].twitter+"' target='_blank' rel='noreferrer'>@"+t[n].twitter+"</a></td></tr>"),void 0!==t[n].github&&(o+="<tr><td class='labs_github'>github: </td><td><a href='https://github.com/"+t[n].github+"' target='_blank' rel='noreferrer'>"+t[n].github+"</a></td></tr>"),void 0!==t[n].gitlab&&(o+="<tr><td class='labs_gitlab'>Gitlab: </td><td><a href='https://gitlab.com/"+t[n].gitlab+"' target='_blank' rel='noreferrer'>"+t[n].gitlab+"</a></td></tr>"),void 0!==t[n].github&&(o+="<tr><td class='labs_mastodon'>Mastodon: </td><td><a href='"+t[n].mastodon+"' target='_blank' rel='noreferrer'>"+t[n].mastodon+"</a></td></tr>"),void 0!==t[n].meetup&&(o+="<tr><td class='labs_meetup'>Meetup: </td><td><a href='https://www.meetup.com/"+t[n].meetup+"' target='_blank' rel='noreferrer'>"+t[n].meetup+"</a></td><tr>"),void 0!==t[n].telegram&&(o+="<tr><td class='labs_telegram'>Telegram: </td><td><a href='https://t.me/"+t[n].telegram+"' target='_blank' rel='noreferrer'>@"+t[n].telegram+"</a></td></tr>"),void 0!==t[n].telegram_group&&(o+="<tr><td class='labs_telegram'>Telegram group: </td><td><a href='https://t.me/"+t[n].telegram_group+"' target='_blank' rel='noreferrer'>"+t[n].telegram_group+"</a></td></tr>"),o+="</table>",o+="<br />Your location is missing? Add it <a href='https://github.com/opendata-stuttgart/luftdaten-local-labs' target='_blank' rel='noreferrer'>here</a>.";L.marker([t[n].lat,t[n].lon],{icon:new i({labelText:'<a href="#"></a>'}),riseOnHover:!0}).bindPopup(o).addTo(e)}}).catch((function(t){console.log("request failed",t)}))}};n(15);var ms={getData:async function(t,e){fetch(t).then((function(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e})).then(t=>t.json()).then(t=>{L.velocityLayer({displayValues:!0,displayOptions:{velocityType:"Global Wind",displayPosition:"bottomleft",displayEmptyString:"No wind data"},data:t,velocityScale:.005,opacity:.97,colorScale:["rgb(0,0,255)"],maxVelocity:15}).addTo(e)}).catch((function(t){console.log("request failed",t)}))}},vs=n(0),gs=(n(16),n(3)),ys=n(4),bs=n(2);function ws(t,e){return void 0!==bs&&void 0!==bs[e]&&void 0!==bs[e][t]?bs[e][t]:e}n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(44),n(45),n(46),n(47),n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(59),n(60);const xs=Object.assign({},o,i);let Ls,Ps,Ms,Ts,ks;const Ss=function(){var t,e,n=window.navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(n.languages))for(t=0;t<n.languages.length;t++)if((e=n.languages[t]).length)return e;for(t=0;t<i.length;t++)if((e=n[i[t]]).length)return e;return e}().substring(0,2);let As=[],zs="";const Cs=Pr({dateTime:"%Y.%m.%d %H:%M:%S",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan.","Feb.","Mar.","Apr.","Mai","Jun.","Jul.","Aug.","Sep.","Okt.","Nov.","Dez."]}),Es={PM10:{valueDomain:[20,40,60,100,500],colorRange:["#00796B","#F9A825","#E65100","#DD2C00","#960084"]},PM25:{valueDomain:[10,20,40,60,100],colorRange:["#00796B","#F9A825","#E65100","#DD2C00","#960084"]},Official_AQI_US:{valueDomain:[0,50,100,150,200,300],colorRange:["#00E400","#FFFF00","#FF7E00","#FF0000","rgb(143, 63, 151)","#7E0023"]},Temperature:{valueDomain:[-20,-10,0,10,20,30,40],colorRange:["#4050B0","#5679f9","#55cbd9","#a2cf4a","#fedb64","#fe8f52","#e6380f"]},Humidity:{valueDomain:[0,20,40,60,80,100],colorRange:["#c41a0a","#f47a0b","#f4e60b","#aff474","#6dbcff","#00528f"]},Pressure:{valueDomain:[926,947.75,969.5,991.25,1013,1034.75,1056.5,1078.25,1100],colorRange:["#dd2e97","#6b3b8f","#2979b9","#02B9ed","#13ae52","#c9d841","#fad635","#f0a03d","#892725"]},Noise:{valueDomain:[0,20,40,60,80,100],colorRange:["#00528f","#6dbcff","#aff474","#f4e60b","#f47a0b","#c41a0a"]}},Is={PM10:"PM10 &micro;g/m&sup3;",PM25:"PM2.5 &micro;g/m&sup3;",Official_AQI_US:"AQI US",Temperature:"Temperature °C",Humidity:"Humidity %",Pressure:"Pressure hPa",Noise:"Noise dBA"},Os={PM10:[2,1],PM25:[2,1],Temperature:[4,3],Humidity:[6,5],Pressure:[8,7],Noise:[0,12]},Bs=xs.select("#sidebar").append("div").attr("id","table").style("display","none"),Ds=L.map("map",{zoomControl:!0,minZoom:vs.minZoom,maxZoom:vs.maxZoom,doubleClickZoom:!1});var Zs;Zs="https://maps.sensor.community",vs.tiles=vs.tiles_server+vs.tiles_path;L.tileLayer(vs.tiles,{attribution:vs.attribution,maxZoom:vs.maxZoom,minZoom:vs.minZoom,subdomains:vs.tiles_subdomains}).addTo(Ds);new L.Hash(Ds);const js={nooverlay:"false",selection:vs.selection};!function(){let t;const e=location.search.replace("?","").split("&");for(let n=0;n<e.length;n++)console.log(e[n]),t=e[n].split("="),console.log(t),js[t[0]]="",void 0!==t[1]&&(js[t[0]]=t[1])}(),"false"===js.nooverlay&&xs.select("#betterplace").style("display","inline-block"),console.log(ws(Ss,xs.select("#loading").html())),xs.select("#loading").html(ws(Ss,xs.select("#loading").html())),vs.selection=void 0!==js.sensor?js.sensor:vs.selection,xs.select("#custom-select").select("select").property("value",vs.selection);let Ns=vs.selection,Rs=vs.center,Us=vs.zoom;if(location.hash){const t=location.hash.split("/");Rs=[t[1],t[2]],Us=t[0].substring(1)}else{const t=location.hostname.split(".");if(4===t.length){const e=t[0].toLowerCase();console.log(e),void 0!==gs[e]&&null!==gs[e]&&(Rs=gs[e],Us=11),void 0!==ys[e]&&null!==ys[e]&&(Us=ys[e]),console.log("Center: "+Rs),console.log("Zoom: "+Us)}}function Hs(t){var e,n=t.filter(t=>!t.o.indoor).map(t=>t.o.data[Ns]).sort((function(t,e){var n=t-e;return n<0?-1:n=1}));return Ua(n,.5,e)}function Fs(t){xs.select("#legendcontainer").selectAll("[id^=legend_]").style("display","none"),xs.select("#legend_"+t).style("display","block")}function Ws(){document.getElementById("menu").innerHTML="&#10006;",document.getElementById("sidebar").style.display="block"}function qs(){document.getElementById("menu").innerHTML="&#9776;",document.getElementById("sidebar").style.display="none",xs.select("#results").remove()}function Vs(){"block"===document.getElementById("sidebar").style.display?qs():Ws()}function Gs(){const t=document.getElementById("map-info");"none"===t.style.display?(t.style.display="block",xs.select("#explanation").html(ws(Ss,"Hide explanation"))):(t.style.display="none",xs.select("#explanation").html(ws(Ss,"Show explanation")))}function Ys(t){const e=Tr("%Y-%m-%d %H:%M:%S")(zs),n=(new Date).getTimezoneOffset(),i=Qo.offset(e,-n),o=Cs.format("%H:%M:%S");xs.select("#update").html(ws(Ss,"Last update")+": "+o(i)),1!==t||"PM10"!==Ns&&"PM25"!==Ns||(Ls.initialize(Es[Ns]),Ls.data(Ps)),2===t&&"Official_AQI_US"===Ns&&(Ls.initialize(Es[Ns]),Ls.data(Ms)),3!==t||"Temperature"!==Ns&&"Humidity"!==Ns&&"Pressure"!==Ns||(Ls.initialize(Es[Ns]),Ls.data(Ts.filter((function(t){return ps.checkValues(t.data[Ns],Ns)})))),4===t&&"Noise"===Ns&&(Ls.initialize(Es[Ns]),Ls.data(ks)),xs.select("#loading_layer").style("display","none")}function Ks(){const t=xs.select("#custom-select");t.select(".select-items").empty()&&(t.append("div").attr("class","select-items"),t.select("select").selectAll("option").each((function(e){console.log(xs.select(this).html()),this.value!==Ns&&t.select(".select-items").append("div").html("<span>"+xs.select(this).html()+"</span>").attr("id","select-item-"+this.value).on("click",(function(){!function(t){const e=xs.select("#custom-select");e.select("select").property("value",t.id.substring(12)),e.select(".select-selected").html("<span>"+e.select("select").select("option:checked").html()+"</span>"),Ns=t.id.substring(12),"Noise"==Ns?e.select(".select-selected").select("span").attr("id","noise_option"):e.select(".select-selected").select("span").attr("id",null);e.select(".select-selected").attr("class","select-selected"),n=Ns,xs.selectAll("path.hexbin-hexagon").remove(),qs(),Fs(n),Ls.initialize(Es[n]),"PM10"===n||"PM25"===n?Ls.data(Ps):"Official_AQI_US"===n?Ls.data(Ms):"Temperature"===n||"Humidity"===n||"Pressure"===n?Ls.data(Ts.filter((function(t){return ps.checkValues(t.data[Ns],Ns)}))):"Noise"===n&&Ls.data(ks),e.select(".select-items").remove();var n}(this)})),t.select("#select-item-Noise").select("span").attr("id","noise_option")})),t.select(".select-selected").attr("class","select-selected select-arrow-active"),t.select(".select-items").append("div").attr("class","select-layers").append("input").attr("type","checkbox").append("label").text("local labs"),t.select(".select-items").append("input").attr("type","checkbox"))}window.onload=function(){L.HexbinLayer=L.Layer.extend({_undef:t=>void 0===t,options:{radius:25,opacity:.6,duration:200,onmouseover:void 0,onmouseout:void 0,attribution:"<br/><span style='font-size:120%'>Measurements: <a href='https://sensor.community/' style='color: red'>Sensor.Community</a> contributors</span>",click:function(t){ie((function(){1===Ds.clicked&&function(t){let e="#";"Official_AQI_US"!==Ns&&(e="(+) #");Ws();let n="<table id='results' style='width:380px;'><tr><th class ='title'>"+ws(Ss,"Sensor")+"</th><th class = 'title'>"+ws(Ss,Is[Ns])+"</th></tr>";t.length>1&&(n+="<tr><td class='idsens'>Median "+t.length+" Sens.</td><td>"+(isNaN(parseInt(Hs(t)))?"-":parseInt(Hs(t)))+"</td></tr>");let i="";t.forEach((function(t){i+="<tr><td class='idsens' id='id_"+t.o.id+(t.o.indoor?"_indoor":"")+"'>"+e+t.o.id+(t.o.indoor?" (indoor)":"")+"</td>","PM10"===Ns&&(i+="<td>"+t.o.data[Ns]+"</td></tr>"),"PM25"===Ns&&(i+="<td>"+t.o.data[Ns]+"</td></tr>"),"Official_AQI_US"===Ns&&(i+="<td>"+t.o.data[Ns]+" ("+t.o.data.origin+")</td></tr>"),"Temperature"===Ns&&(i+="<td>"+t.o.data[Ns]+"</td></tr>"),"Humidity"===Ns&&(i+="<td>"+t.o.data[Ns]+"</td></tr>"),"Pressure"===Ns&&(i+="<td>"+t.o.data[Ns].toFixed(1)+"</td></tr>"),"Noise"===Ns&&(i+="<td>"+t.o.data[Ns]+"</td></tr>"),i+="<tr id='graph_"+t.o.id+"'></tr>"})),n+=i,n+="</table>",Bs.transition().duration(200).style("display","block"),Bs.html(n).style("padding","10px"),xs.selectAll(".idsens").on("click",(function(){!function(t){let e="";const n="<iframe src='https://maps.sensor.community/grafana/d-solo/000000004/single-sensor-view?orgId=1&panelId=<PANELID>&var-node=<SENSOR>' width='290' height='200' frameborder='0'></iframe>",i=t.substr(3),o=i.replace("_indoor",""),r=i.replace("_indoor"," (indoor)");if(As.includes(o))"Official_AQI_US"!==Ns&&(e="(+) "),xs.select("#id_"+i).html(e+"#"+r),xs.select("#frame_"+o).remove(),function(t){let e,n,i=arguments,o=i.length;for(;o>1&&t.length;)for(e=i[--o];-1!==(n=t.indexOf(e));)t.splice(n,1)}(As,o);else{As.push(o);const t="#graph_"+o;xs.select(t).append("td").attr("id","frame_"+o).attr("colspan","2").html((Os[Ns][0]>0?n.replace("<PANELID>",Os[Ns][0]).replace("<SENSOR>",o)+"<br/>":"")+(Os[Ns][1]>0?n.replace("<PANELID>",Os[Ns][1]).replace("<SENSOR>",o):"")),"Official_AQI_US"!==Ns&&(e="(-) "),xs.select("#id_"+i).html(e+"#"+r)}}(xs.select(this).attr("id"))}))}(t)}),300)},lng:function(t){return t.longitude},lat:function(t){return t.latitude},value:function(t){return Hs(t)}},initialize(t){L.setOptions(this,t),this._data=[],this._colorScale=function t(){var e=li();return e.copy=function(){return si(e,t())},hi.apply(e,arguments),Ti(e)}().domain(this.options.valueDomain).range(this.options.colorRange).clamp(!0)},getFlexRadius(){return console.log(Ns),this.map.getZoom()<3?this.options.radius/(3*(4-this.map.getZoom())):this.map.getZoom()>2&&this.map.getZoom()<8?this.options.radius/(9-this.map.getZoom()):this.options.radius},onAdd(t){this.map=t;let e=this;this._svg=L.svg(),t.addLayer(this._svg),this._rootGroup=xs.select(this._svg._rootGroup).classed("d3-overlay",!0),this.selection=this._rootGroup,this._pixelOrigin=t.getPixelOrigin(),this._wgsOrigin=L.latLng([0,0]),this._wgsInitialShift=this.map.latLngToLayerPoint(this._wgsOrigin),this._zoom=this.map.getZoom(),this._shift=L.point(0,0),this._scale=1,this.projection={latLngToLayerPoint:function(t,n){return n=e._undef(n)?e._zoom:n,e.map.project(L.latLng(t),n)._round()._subtract(e._pixelOrigin)},layerPointToLatLng:function(t,n){n=e._undef(n)?e._zoom:n;let i=L.point(t).add(e._pixelOrigin);return e.map.unproject(i,n)},unitsPerMeter:256*Math.pow(2,e._zoom)/40075017,map:e.map,layer:e,scale:1},this.projection._projectPoint=function(t,n){let i=e.projection.latLngToLayerPoint(new L.LatLng(n,t));this.stream.point(i.x,i.y)},this.projection.pathFromGeojson=function(t,e){var n,i,o=4.5;function r(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Ii(t,n(i))),i.result()}return r.area=function(t){return Ii(t,n(to)),to.result()},r.measure=function(t){return Ii(t,n(Uo)),Uo.result()},r.bounds=function(t){return Ii(t,n(lo)),lo.result()},r.centroid=function(t){return Ii(t,n(zo)),zo.result()},r.projection=function(e){return arguments.length?(n=null==e?(t=null,ki):(t=e).stream,r):t},r.context=function(t){return arguments.length?(i=null==t?(e=null,new Ho):new Co(e=t),"function"!=typeof o&&i.pointRadius(o),r):e},r.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),r):o},r.projection(t).context(e)}().projection(function(t){return{stream:Wo(t)}}({point:this.projection._projectPoint})),this.projection.latLngToLayerFloatPoint=this.projection.latLngToLayerPoint,this.projection.getZoom=this.map.getZoom.bind(this.map),this.projection.getBounds=this.map.getBounds.bind(this.map),this.selection=this._rootGroup,this.draw()},onRemove(t){null!=this._container&&this._container.remove(),t.off({moveend:this._redraw},this),this._container=null,this._map=null},addTo(t){return t.addLayer(this),this},_disableLeafletRounding(){this._leaflet_round=L.Point.prototype._round,L.Point.prototype._round=function(){return this}},_enableLeafletRounding(){L.Point.prototype._round=this._leaflet_round},draw(){this._disableLeafletRounding(),this._redraw(this.selection,this.projection,this.map.getZoom()),this._enableLeafletRounding()},getEvents:function(){return{zoomend:this._zoomChange}},_zoomChange:function(){let t=Ds.getZoom();Ds.getCenter();this._disableLeafletRounding();let e=this._undef(t)?this.map._zoom:t;this._zoomDiff=e-this._zoom,this._scale=Math.pow(2,this._zoomDiff),this.projection.scale=this._scale,this._shift=this.map.latLngToLayerPoint(this._wgsOrigin)._subtract(this._wgsInitialShift.multiplyBy(this._scale));let n=["translate(",this._shift.x,",",this._shift.y,") "],i=["scale(",this._scale,",",this._scale,") "];this._rootGroup.attr("transform",n.concat(i).join("")),this.draw(),this._enableLeafletRounding()},_redraw(t,e,n){let i=this._data.map(t=>{let n=this.options.lng(t),i=this.options.lat(t);return{o:t,point:e.latLngToLayerPoint([i,n])}}),o=t.selectAll("g.hexbin").data([n],t=>t);o.enter().append("g").attr("class",t=>"hexbin zoom-"+t),o.exit().remove(),this._createHexagons(o,i,e)},_createHexagons(t,e,n){let i=xs.hexbin().radius(this.getFlexRadius()/n.scale).x(t=>t.point.x).y(t=>t.point.y),o=i(e),r=t.selectAll("path.hexbin-hexagon").data(o);r.transition().duration(this.options.duration).attr("fill",t=>void 0===this.options.value(t)?"#808080":this._colorScale(this.options.value(t))).attr("fill-opacity",this.options.opacity).attr("stroke-opacity",this.options.opacity),r.enter().append("path").attr("class","hexbin-hexagon").attr("d",t=>"M"+t.x+","+t.y+i.hexagon()).attr("fill",t=>void 0===this.options.value(t)?"#808080":this._colorScale(this.options.value(t))).attr("fill-opacity",.01).attr("stroke-opacity",.01).on("mouseover",this.options.mouseover).on("mouseout",this.options.mouseout).on("click",this.options.click).transition().duration(this.options.duration).attr("fill-opacity",this.options.opacity).attr("stroke-opacity",this.options.opacity),r.exit().transition().duration(this.options.duration).attr("fill-opacity",.01).attr("stroke-opacity",.01).remove()},data(t){return this._data=null!=t?t:[],this.draw(),this}}),L.hexbinLayer=function(t){return new L.HexbinLayer(t)},xs.select("#explanation").html(ws(Ss,"Show explanation")),xs.select("#map-info").html(ws(Ss,"<p>The hexagons represent the median of the current values of the sensors which are contained in the area, according to the option selected (PM10, PM2.5, temperature, relative humidity, pressure, AQI). You can refer to the scale on the left side of the map.</p> <p>By clicking on a hexagon, you can display a list of all the corresponding sensors as a table. The first column lists the sensor-IDs. In the first line, you can see the amount of sensor in the area and the median value.</p> <p>By clicking on the plus symbol next to a sensor ID, you can display two graphics: the individual measurements for the last 24 hours and the 24 hours floating mean for the last seven days. For technical reasons, the first of the 8 days displayed on the graphic has to stay empty.The values are refreshed every 5 minutes in order to fit with the measurement frequency of the Airrohr sensors.</p> <p>The Air Quality Index (AQI) is calculated according to the recommandations of the United States Environmental Protection Agency. Further information is available on the official page.(<a href='https://www.airnow.gov/aqi/aqi-basics/'>Link</a>). Hover over the AQI scale to display the levels of health concern.</p>")),xs.select("#betterplace").html("<a title='"+ws(Ss,"Donate for Sensor.Community (Hardware, Software) now on Betterplace.org")+" href='https://www.betterplace.org/de/projects/38071-fur-den-feinstaub-sensor-sds011-als-bastel-kit-spenden/' target='_blank' rel='noreferrer'>"+ws(Ss,"Donate for<br/>Sensor.Community<br/>now on<br/><span>Betterplace.org</span>")+"</a>"),xs.select("#menu").on("click",Vs),xs.select("#explanation").on("click",Gs),xs.select("#legend_Official_AQI_US").selectAll(".tooltip").on("click",(function(){return window.open("https://www.airnow.gov/index.cfm?action=aqibasics.aqi","_blank"),!1})),xs.select("#AQI_Good").html(" "+ws(Ss,"Good<div class='tooltip-div'>Air quality is considered satisfactory, and air pollution poses little or no risk.</div>")),xs.select("#AQI_Moderate").html(" "+ws(Ss,"Moderate<div class='tooltip-div'>Air quality is acceptable; however, for some pollutants there may be a moderate health concern for a very small number of people who are unusually sensitive to air pollution.</div>")),xs.select("#AQI_Unhealthy_Sensitive").html(" "+ws(Ss,"Unhealthy for Sensitive Groups<div class='tooltip-div'>Members of sensitive groups may experience health effects. The general public is not likely to be affected.</div>")),xs.select("#AQI_Unhealthy").html(" "+ws(Ss,"Unhealthy<div class='tooltip-div'>Everyone may begin to experience health effects; members of sensitive groups may experience more serious health effects.</div>")),xs.select("#AQI_Very_Unhealthy").html(" "+ws(Ss,"Very Unhealthy<div class='tooltip-div'>Health alert: everyone may experience more serious health effects.</div>")),xs.select("#AQI_Hazardous").html(" "+ws(Ss,"Hazardous<div class='tooltip-div'>Health warnings of emergency conditions. The entire population is more likely to be affected.</div>"));const t=xs.select("#custom-select");function e(){ps.getData(Zs+"/data/v2/data.dust.min.json",1).then((function(t){Ps=t.cells,t.timestamp>zs&&(zs=t.timestamp),Ys(1),ps.getData(Zs+"/data/v2/data.24h.json",2).then((function(t){Ms=t.cells,t.timestamp>zs&&(zs=t.timestamp),Ys(2)})),ps.getData(Zs+"/data/v2/data.temp.min.json",3).then((function(t){Ts=t.cells,t.timestamp>zs&&(zs=t.timestamp),Ys(3)})),ps.getData(Zs+"/data/v1/data.noise.json",4).then((function(t){ks=t.cells,t.timestamp>zs&&(zs=t.timestamp),Ys(4)}))}))}var n,i,o,r,a;t.select("select").property("value",vs.selection),t.select("select").selectAll("option").each((function(){xs.select(this).html(ws(Ss,xs.select(this).html()))})),t.append("div").attr("class","select-selected").html("<span>"+ws(Ss,t.select("select").select("option:checked").html())+"</span>").on("click",Ks),t.style("display","inline-block"),Fs(Ns),Ds.setView(Rs,Us),Ds.clicked=0,Ls=L.hexbinLayer(Es[Ns]).addTo(Ds),e(),n=function(){xs.selectAll("path.hexbin-hexagon").remove(),e()},i=3e5,r=new Xt,a=i,null==i?r.restart(n,i,o):(i=+i,o=null==o?Qt():+o,r.restart((function t(e){e+=a,r.restart(t,a+=i,o),n(e)}),i,o)),Ds.on("moveend",(function(){Ls._zoomChange()})),Ds.on("move",(function(){})),Ds.on("click",(function(t){xs.select("#custom-select").select(".select-items").empty()?(Ds.clicked=Ds.clicked+1,ie((function(){1===Ds.clicked&&Ds.setView([t.latlng.lat,t.latlng.lng],Ds.getZoom()),Ds.clicked=0}),300)):(xs.select("#custom-select").select(".select-items").remove(),xs.select("#custom-select").select(".select-selected").attr("class","select-selected"))})),Ds.on("dblclick",(function(){Ds.clicked=0,Ds.zoomIn()})),_s.getData(Zs+"/local-labs/labs.json",Ds),ms.getData(Zs+"/v1/wind.json",Ds),Ds.eachLayer((function(t){console.log(t),t instanceof L.velocityLayer&&console.log("Wind layer found")}))}}]);